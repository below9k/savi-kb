(function(){/*
 Textbox.io JavaScript Library
 Copyright (c) 2013-2014 Ephox Corp. All rights reserved.
 This software is provided "AS IS," without a warranty of any kind.

 Version: 1.0.0.1443
*/
(function(){if(this.ephox)var wa=this.ephox.bolt;var aa={},f=function(e,f,x){if("string"!==typeof e)throw"invalid module definition, module id must be defined and be a string";if(void 0===f)throw"invalid module definition, dependencies must be specified";if(void 0===x)throw"invalid module definition, definition function must be specified";aa[e]={dependencies:f,definition:x,instance:void 0}},ea=function(e){if(void 0===aa[e])throw"required module ["+e+"] is not defined";if(void 0===aa[e].instance){for(var f=
aa[e].dependencies,x=aa[e].definition,b=[],d=0;d<f.length;++d)b.push(ea(f[d]));aa[e].instance=x.apply(null,b);if(void 0===aa[e].instance)throw"required module ["+e+"] could not be defined (definition function returned undefined)";}return aa[e].instance},h=function(e,f){for(var x=[],b=0;b<e.length;++b)x.push(ea(e[b]));f.apply(null,f)};(this.ephox||{}).bolt={module:{api:{define:f,require:h,demand:ea}}};var m=ea;(function(e,f,x){e("1",[],function(){return Function("return this;")()})})(f,h,m);f("global!Array",
[],function(){return Array});f("global!String",[],function(){return String});(function(e,f,x){e("7",["global!Array","global!String"],function(b,d){var c=function(a){return function(c){if(null===c)c="null";else{var k=typeof c;c="object"===k&&b.prototype.isPrototypeOf(c)?"array":"object"===k&&d.prototype.isPrototypeOf(c)?"string":k}return c===a}};return{isString:c("string"),isObject:c("object"),isArray:c("array"),isNull:c("null"),isBoolean:c("boolean"),isUndefined:c("undefined"),isFunction:c("function"),
isNumber:c("number")}})})(f,h,m);(function(e,f,x){e("8",["global!Array","global!String"],function(b,d){var c=function(a){return function(b){return a===b}},a=c(!0),g=function(a,b){return w(a,c(b))},k=function(a,b){for(var c=[],g=0;g<a.length;g++)c.push(b(a[g],g,a));return c},p=function(a,b){for(var c=0;c<a.length;c++)b(a[c],c,a)},l=function(a,b){for(var c=[],g=0;g<a.length;g++){var d=a[g];b(d,g,a)&&c.push(d)}return c},n=function(a,b,c){p(a,function(a){c=b(c,a)});return c},q=function(a,b){if(2!==arguments.length)throw"Expected 2 arguments to find";
for(var c=0;c<a.length;c++){var g=a[c];if(b(g,c,a))return g}},s=function(b,c){for(var g=c||a,d=0;d<b.length;++d)if(!0===g(b[d]))return d;return-1},r=function(a){for(var b=[],c=0;c<a.length;++c)b=b.concat(a[c]);return b},e=function(b,c){for(var g=c||a,d=0;d<b.length;++d)if(!0!==g(b[d],d))return!1;return!0},w=function(b,c){for(var g=c||a,d=0;d<b.length;++d)if(!0===g(b[d]))return!0;return!1},u=function(a){a=b.prototype.slice.call(a,0);a.reverse();return a};return{map:k,each:p,partition:function(a,b){for(var c=
[],g=[],d=0;d<a.length;d++){var k=a[d];(b(k,d,a)?c:g).push(k)}return{pass:c,fail:g}},filter:l,groupBy:function(a,b){if(0===a.length)return[];var c=b(a[0]),g=[],d=[];p(a,function(a){var k=b(a);k!==c&&(g.push(d),d=[]);c=k;d.push(a)});0!==d.length&&g.push(d);return g},indexOf:function(a,b){if(2!==arguments.length)throw"Expected 2 arguments to indexOf";return s(a,c(b))},foldr:function(a,b,c){return n(u(a),b,c)},foldl:n,find:q,findIndex:s,findOr:function(a,b,c){a=q(a,b);return void 0!==a?a:c},findOrDie:function(a,
b,c){b=q(a,b);if(void 0===b)throw c||"Could not find element in array: "+d(a);return b},flatten:r,bind:function(a,b){var c=k(a,b);return r(c)},forall:e,exists:w,contains:g,equal:function(a,b){return a.length===b.length&&e(a,function(a,c){return a===b[c]})},reverse:u,difference:function(a,b){return l(a,function(a){return!g(b,a)})},mapToObject:function(a,b){var c={};p(a,function(a,g){c[d(a)]=b(a,g)});return c}}})})(f,h,m);(function(e,f,x){e("m",[],function(){return function(){var b=null;return{add:function(d){null===
b&&(b=d.api);d.api.events.focus.addListener(function(){b=d.api})},get:function(){return b},remove:function(d){b===d.api&&(b=null)}}}})})(f,h,m);(function(e,f,x){e("g",[],function(){return{noop:function(){},compose:function(b,d){return function(){return b(d.apply(null,arguments))}},constant:function(b){return function(){return b}},identity:function(b){return b},tripleEquals:function(b,d){return b===d},curry:function(b){var d=Array.prototype.slice,c=d.call(arguments,1);return function(){var a=c.concat(d.call(arguments,
0));return b.apply(null,a)}},not:function(b){return function(){return!b.apply(null,arguments)}},die:function(b){return function(){throw b;}},apply:function(b){return b()}}})})(f,h,m);(function(e,f,x){e("t",["g"],function(b){var d=function(b){return a(function(a,c){return c(b)})},c=function(){return a(function(a,b){return a()})},a=function(a){var k=function(){return a(b.constant(!1),b.constant(!0))},p=b.not(k),l=function(a){return n(function(b){return d(a(b))})},n=function(b){return a(c,b)};return{is:function(c){return a(b.constant(!1),
function(a){return a===c})},isSome:k,isNone:p,getOr:function(c){return a(b.constant(c),b.identity)},getOrThunk:function(c){return a(c,b.identity)},getOrDie:function(c){return a(b.die(c||"error: getOrDie called on none."),b.identity)},or:function(c){return a(b.constant(c),d)},orThunk:function(b){return a(b,d)},fold:a,map:l,each:l,bind:n,flatten:function(){return a(c,b.identity)},exists:function(c){return a(b.constant(!1),c)},forall:function(c){return a(b.constant(!0),c)},equals:function(b){return a(b.isNone,
b.is)},equals_:function(c,d){return a(c.isNone,function(a){return c.fold(b.constant(!1),b.curry(d,a))})},filter:function(b){return a(c,function(a){return b(a)?d(a):c()})},toArray:function(c){return a(b.constant([]),function(a){return[a]})}}};return{some:d,none:c,from:function(a){return null===a||void 0===a?c():d(a)},equals:function(a,b){return a.equals(b)},equals_:function(a,b,c){return a.equals_(b,c)}}})})(f,h,m);f("global!document",[],function(){return document});(function(e,f,x){e("j",["g","global!document"],
function(b,d){var c=function(a){return{dom:b.constant(a)}};return{fromHtml:function(a,b){var k=(b||d).createElement("div");k.innerHTML=a;if(!k.hasChildNodes()||1<k.childNodes.length)throw"Supplied html must contain a single root node";return c(k.childNodes[0])},fromTag:function(a,b){var k=(b||d).createElement(a);return c(k)},fromText:function(a,b){var k=(b||d).createTextNode(a);return c(k)},fromDom:c}})})(f,h,m);(function(e,f,x){e("i",["8","t","j","global!document"],function(b,d,c,a){return{one:function(b){return d.from(a.querySelector(b)).map(c.fromDom)},
all:function(d){return b.map(a.querySelectorAll(d),c.fromDom)}}})})(f,h,m);(function(e,f,x){e("n",["8","t","i"],function(b,d,c){return function(){var a=[];return{get:function(c){return d.from(b.find(a,function(a){return a.is(c)}))},findAll:function(d){var k=c.all(d);return b.filter(a,function(a){return b.exists(k,a.is)})},add:function(b){a.push(b)},remove:function(c){c=b.indexOf(a,c);a.splice(c,1)}}}})})(f,h,m);(function(e,f,x){e("3",["7"],function(b){var d=function(a){return function(){var b=Array.prototype.slice.call(arguments,
0);if(0===b.length)throw"Can't merge zero objects";for(var c={},d=0;d<b.length;d++){var l=b[d],n;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(c[n]=a(c[n],l[n]))}return c}},c=d(function(a,d){return b.isObject(a)&&b.isObject(d)?c(a,d):d}),d=d(function(a,b){return b});return{deepMerge:c,merge:d}})})(f,h,m);(function(e,f){"object"===typeof module&&"object"===typeof module.exports?module.exports=e.document?f(e,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");
return f(e)}:f(e)})("undefined"!==typeof window?window:this,function(e,f){function x(a){var b=a.length,c=v.type(a);return"function"===c||v.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"===typeof b&&0<b&&b-1 in a}function b(a,b,c){if(v.isFunction(b))return v.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return v.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(ea.test(b))return v.filter(b,a,c);b=v.filter(b,a)}return v.grep(a,function(a){return 0<=
ja.call(b,a)!==c})}function d(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function c(a){var b=xa[a]={};v.each(a.match(fa)||[],function(a,c){b[c]=!0});return b}function a(){T.removeEventListener("DOMContentLoaded",a,!1);e.removeEventListener("load",a,!1);v.ready()}function g(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=v.expando+Math.random()}function k(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(lb,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===
typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:wa.test(c)?v.parseJSON(c):c}catch(d){}ba.set(a,b,c)}else c=void 0;return c}function p(){return!0}function l(){return!1}function n(){try{return T.activeElement}catch(a){}}function q(a,b){return v.nodeName(a,"table")&&v.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function s(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}
function r(a){var b=mb.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function t(a,b){for(var c=0,d=a.length;c<d;c++)U.set(a[c],"globalEval",!b||U.get(b[c],"globalEval"))}function w(a,b){var c,d,g,k;if(1===b.nodeType){if(U.hasData(a)&&(k=U.access(a),c=U.set(b,k),k=k.events))for(g in delete c.handle,c.events={},k)for(c=0,d=k[g].length;c<d;c++)v.event.add(b,g,k[g][c]);ba.hasData(a)&&(g=ba.access(a),g=v.extend({},g),ba.set(b,g))}}function u(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||
"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&v.nodeName(a,b)?v.merge([a],c):c}function y(a,b){var c,d=v(b.createElement(a)).appendTo(b.body),g=e.getDefaultComputedStyle&&(c=e.getDefaultComputedStyle(d[0]))?c.display:v.css(d[0],"display");d.detach();return g}function z(a){var b=T,c=Sa[a];c||(c=y(a,b),"none"!==c&&c||(Da=(Da||v("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Da[0].contentDocument,b.write(),b.close(),c=y(a,b),Da.detach()),
Sa[a]=c);return c}function R(a,b,c){var d,g,k=a.style;(c=c||Ea(a))&&(g=c.getPropertyValue(b)||c[b]);c&&(""!==g||v.contains(a.ownerDocument,a)||(g=v.style(a,b)),La.test(g)&&Ta.test(b)&&(a=k.width,b=k.minWidth,d=k.maxWidth,k.minWidth=k.maxWidth=k.width=g,g=c.width,k.width=a,k.minWidth=b,k.maxWidth=d));return void 0!==g?g+"":g}function h(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function m(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),
d=b,g=Ua.length;g--;)if(b=Ua[g]+c,b in a)return b;return d}function E(a,b,c){return(a=nb.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function C(a,b,c,d,g){b=c===(d?"border":"content")?4:"width"===b?1:0;for(var k=0;4>b;b+=2)"margin"===c&&(k+=v.css(a,c+ha[b],!0,g)),d?("content"===c&&(k-=v.css(a,"padding"+ha[b],!0,g)),"margin"!==c&&(k-=v.css(a,"border"+ha[b]+"Width",!0,g))):(k+=v.css(a,"padding"+ha[b],!0,g),"padding"!==c&&(k+=v.css(a,"border"+ha[b]+"Width",!0,g)));return k}function D(a,b,c){var d=
!0,g="width"===b?a.offsetWidth:a.offsetHeight,k=Ea(a),l="border-box"===v.css(a,"boxSizing",!1,k);if(0>=g||null==g){g=R(a,b,k);if(0>g||null==g)g=a.style[b];if(La.test(g))return g;d=l&&(W.boxSizingReliable()||g===a.style[b]);g=parseFloat(g)||0}return g+C(a,b,c||(l?"border":"content"),d,k)+"px"}function F(a,b){for(var c,d,g,k=[],l=0,p=a.length;l<p;l++)d=a[l],d.style&&(k[l]=U.get(d,"olddisplay"),c=d.style.display,b?(k[l]||"none"!==c||(d.style.display=""),""===d.style.display&&za(d)&&(k[l]=U.access(d,
"olddisplay",z(d.nodeName)))):(g=za(d),"none"===c&&g||U.set(d,"olddisplay",g?c:v.css(d,"display"))));for(l=0;l<p;l++)d=a[l],!d.style||b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?k[l]||"":"none");return a}function G(a,b,c,d,g){return new G.prototype.init(a,b,c,d,g)}function H(){setTimeout(function(){sa=void 0});return sa=v.now()}function J(a,b){var c,d=0,g={height:a};for(b=b?1:0;4>d;d+=2-b)c=ha[d],g["margin"+c]=g["padding"+c]=a;b&&(g.opacity=g.width=a);return g}function M(a,
b,c){for(var d,g=(Aa[b]||[]).concat(Aa["*"]),k=0,l=g.length;k<l;k++)if(d=g[k].call(c,b,a))return d}function K(a,b){var c,d,g,k,l;for(c in a)if(d=v.camelCase(c),g=b[d],k=a[c],v.isArray(k)&&(g=k[1],k=a[c]=k[0]),c!==d&&(a[d]=k,delete a[c]),(l=v.cssHooks[d])&&"expand"in l)for(c in k=l.expand(k),delete a[d],k)c in a||(a[c]=k[c],b[c]=g);else b[d]=g}function P(a,b,c){var d,g=0,k=Fa.length,l=v.Deferred().always(function(){delete p.elem}),p=function(){if(d)return!1;for(var b=sa||H(),b=Math.max(0,n.startTime+
n.duration-b),c=1-(b/n.duration||0),g=0,k=n.tweens.length;g<k;g++)n.tweens[g].run(c);l.notifyWith(a,[n,c,b]);if(1>c&&k)return b;l.resolveWith(a,[n]);return!1},n=l.promise({elem:a,props:v.extend({},b),opts:v.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:sa||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=v.Tween(a,n.opts,b,c,n.opts.specialEasing[b]||n.opts.easing);n.tweens.push(d);return d},stop:function(b){var c=0,g=b?n.tweens.length:0;if(d)return this;
for(d=!0;c<g;c++)n.tweens[c].run(1);b?l.resolveWith(a,[n,b]):l.rejectWith(a,[n,b]);return this}});c=n.props;for(K(c,n.opts.specialEasing);g<k;g++)if(b=Fa[g].call(n,a,c,n.opts))return b;v.map(c,M,n);v.isFunction(n.opts.start)&&n.opts.start.call(a,n);v.fx.timer(v.extend(p,{elem:a,anim:n,queue:n.opts.queue}));return n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always)}function L(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var d,g=0,k=b.toLowerCase().match(fa)||
[];if(v.isFunction(c))for(;d=k[g++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function N(a,b,c,d){function g(n){var p;k[n]=!0;v.each(a[n]||[],function(a,n){var q=n(b,c,d);if("string"===typeof q&&!l&&!k[q])return b.dataTypes.unshift(q),g(q),!1;if(l)return!(p=q)});return p}var k={},l=a===Ma;return g(b.dataTypes[0])||!k["*"]&&g("*")}function O(a,b){var c,d,g=v.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((g[c]?a:d||(d={}))[c]=b[c]);d&&v.extend(!0,
a,d);return a}function V(a,b,c,d){var g;if(v.isArray(b))v.each(b,function(b,g){c||ob.test(a)?d(a,g):V(a+"["+("object"===typeof g?b:"")+"]",g,c,d)});else if(c||"object"!==v.type(b))d(a,b);else for(g in b)V(a+"["+g+"]",b[g],c,d)}function S(a){return v.isWindow(a)?a:9===a.nodeType&&a.defaultView}var I=[],X=I.slice,Z=I.concat,Y=I.push,ja=I.indexOf,ca={},$=ca.toString,la=ca.hasOwnProperty,W={},T=e.document,v=function(a,b){return new v.fn.init(a,b)},ka=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,aa=/^-ms-/,oa=
/-([\da-z])/gi,va=function(a,b){return b.toUpperCase()};v.fn=v.prototype={jquery:"2.1.1",constructor:v,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){a=v.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return v.each(this,a,b)},map:function(a){return this.pushStack(v.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,
arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:I.sort,splice:I.splice};v.extend=v.fn.extend=function(){var a,b,c,d,g,k=arguments[0]||{},l=1,n=arguments.length,p=!1;"boolean"===typeof k&&(p=k,k=arguments[l]||{},l++);"object"===typeof k||v.isFunction(k)||(k={});l===n&&(k=this,l--);for(;l<n;l++)if(null!=
(a=arguments[l]))for(b in a)c=k[b],d=a[b],k!==d&&(p&&d&&(v.isPlainObject(d)||(g=v.isArray(d)))?(g?(g=!1,c=c&&v.isArray(c)?c:[]):c=c&&v.isPlainObject(c)?c:{},k[b]=v.extend(p,c,d)):void 0!==d&&(k[b]=d));return k};v.extend({expando:"jQuery"+("2.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===v.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!v.isArray(a)&&
0<=a-parseFloat(a)},isPlainObject:function(a){return"object"!==v.type(a)||a.nodeType||v.isWindow(a)||a.constructor&&!la.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?ca[$.call(a)]||"object":typeof a},globalEval:function(a){var b;b=eval;if(a=v.trim(a))1===a.indexOf("use strict")?(b=T.createElement("script"),b.text=a,T.head.appendChild(b).parentNode.removeChild(b)):
b(a)},camelCase:function(a){return a.replace(aa,"ms-").replace(oa,va)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,g=0,k=a.length;d=x(a);if(c)if(d)for(;g<k&&(d=b.apply(a[g],c),!1!==d);g++);else for(g in a){if(d=b.apply(a[g],c),!1===d)break}else if(d)for(;g<k&&(d=b.call(a[g],g,a[g]),!1!==d);g++);else for(g in a)if(d=b.call(a[g],g,a[g]),!1===d)break;return a},trim:function(a){return null==a?"":(a+"").replace(ka,"")},makeArray:function(a,
b){var c=b||[];null!=a&&(x(Object(a))?v.merge(c,"string"===typeof a?[a]:a):Y.call(c,a));return c},inArray:function(a,b,c){return null==b?-1:ja.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,g=a.length;d<c;d++)a[g++]=b[d];a.length=g;return a},grep:function(a,b,c){for(var d=[],g=0,k=a.length,l=!c;g<k;g++)c=!b(a[g],g),c!==l&&d.push(a[g]);return d},map:function(a,b,c){var d,g=0,k=a.length,l=[];if(x(a))for(;g<k;g++)d=b(a[g],g,c),null!=d&&l.push(d);else for(g in a)d=b(a[g],g,c),null!=d&&l.push(d);
return Z.apply([],l)},guid:1,proxy:function(a,b){var c,d;"string"===typeof b&&(c=a[b],b=a,a=c);if(v.isFunction(a))return d=X.call(arguments,2),c=function(){return a.apply(b||this,d.concat(X.call(arguments)))},c.guid=a.guid=a.guid||v.guid++,c},now:Date.now,support:W});v.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ca["[object "+b+"]"]=b.toLowerCase()});var ia=function(a){function b(a,c,d,g){var k,l,n,p,q;(c?c.ownerDocument||c:O)!==G&&F(c);c=c||G;d=d||
[];if(!a||"string"!==typeof a)return d;if(1!==(p=c.nodeType)&&9!==p)return[];if(L&&!g){if(k=ra.exec(a))if(n=k[1])if(9===p)if((l=c.getElementById(n))&&l.parentNode){if(l.id===n)return d.push(l),d}else return d;else{if(c.ownerDocument&&(l=c.ownerDocument.getElementById(n))&&P(c,l)&&l.id===n)return d.push(l),d}else{if(k[2])return $.apply(d,c.getElementsByTagName(a)),d;if((n=k[3])&&x.getElementsByClassName&&c.getElementsByClassName)return $.apply(d,c.getElementsByClassName(n)),d}if(x.qsa&&(!J||!J.test(a))){l=
k=I;n=c;q=9===p&&a;if(1===p&&"object"!==c.nodeName.toLowerCase()){p=Q(a);(k=c.getAttribute("id"))?l=k.replace(sa,"\\$&"):c.setAttribute("id",l);l="[id='"+l+"'] ";for(n=p.length;n--;)p[n]=l+e(p[n]);n=xa.test(a)&&s(c.parentNode)||c;q=p.join(",")}if(q)try{return $.apply(d,n.querySelectorAll(q)),d}catch(r){}finally{k||c.removeAttribute("id")}}}return E(a.replace(ka,"$1"),c,d,g)}function c(){function a(c,d){b.push(c+" ")>h.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function d(a){a[I]=
!0;return a}function g(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function k(a,b){for(var c=a.split("|"),d=a.length;d--;)h.attrHandle[c[d]]=b}function l(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function n(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function p(a){return function(b){var c=
b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function q(a){return d(function(b){b=+b;return d(function(c,d){for(var g,k=a([],c.length,b),l=k.length;l--;)c[g=k[l]]&&(c[g]=!(d[g]=c[g]))})})}function s(a){return a&&typeof a.getElementsByTagName!==T&&a}function r(){}function e(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function t(a,b,c){var d=b.dir,g=c&&"parentNode"===d,k=V++;return b.first?function(b,c,k){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,k)}:
function(b,c,l){var n,p,q=[N,k];if(l)for(;b=b[d];){if((1===b.nodeType||g)&&a(b,c,l))return!0}else for(;b=b[d];)if(1===b.nodeType||g){p=b[I]||(b[I]={});if((n=p[d])&&n[0]===N&&n[1]===k)return q[2]=n[2];p[d]=q;if(q[2]=a(b,c,l))return!0}}}function w(a){return 1<a.length?function(b,c,d){for(var g=a.length;g--;)if(!a[g](b,c,d))return!1;return!0}:a[0]}function u(a,b,c,d,g){for(var k,l=[],n=0,p=a.length,q=null!=b;n<p;n++)if(k=a[n])if(!c||c(k,d,g))l.push(k),q&&b.push(n);return l}function y(a,c,g,k,l,n){k&&
!k[I]&&(k=y(k));l&&!l[I]&&(l=y(l,n));return d(function(d,n,p,q){var s,r,e=[],t=[],w=n.length,y;if(!(y=d)){y=c||"*";for(var z=p.nodeType?[p]:p,f=[],R=0,x=z.length;R<x;R++)b(y,z[R],f);y=f}y=!a||!d&&c?y:u(y,e,a,p,q);z=g?l||(d?a:w||k)?[]:n:y;g&&g(y,z,p,q);if(k)for(s=u(z,t),k(s,[],p,q),p=s.length;p--;)if(r=s[p])z[t[p]]=!(y[t[p]]=r);if(d){if(l||a){if(l){s=[];for(p=z.length;p--;)(r=z[p])&&s.push(y[p]=r);l(null,z=[],s,q)}for(p=z.length;p--;)(r=z[p])&&-1<(s=l?qa.call(d,r):e[p])&&(d[s]=!(n[s]=r))}}else z=u(z===
n?z.splice(w,z.length):z),l?l(null,n,z,q):$.apply(n,z)})}function z(a){var b,c,d,g=a.length,k=h.relative[a[0].type];c=k||h.relative[" "];for(var l=k?1:0,p=t(function(a){return a===b},c,!0),n=t(function(a){return-1<qa.call(b,a)},c,!0),q=[function(a,c,d){return!k&&(d||c!==C)||((b=c).nodeType?p(a,c,d):n(a,c,d))}];l<g;l++)if(c=h.relative[a[l].type])q=[t(w(q),c)];else{c=h.filter[a[l].type].apply(null,a[l].matches);if(c[I]){for(d=++l;d<g&&!h.relative[a[d].type];d++);return y(1<l&&w(q),1<l&&e(a.slice(0,
l-1).concat({value:" "===a[l-2].type?"*":""})).replace(ka,"$1"),c,l<d&&z(a.slice(l,d)),d<g&&z(a=a.slice(d)),d<g&&e(a))}q.push(c)}return w(q)}function f(a,c){var g=0<c.length,k=0<a.length,l=function(d,l,p,n,q){var s,r,e,t=0,w="0",y=d&&[],z=[],f=C,R=d||k&&h.find.TAG("*",q),x=N+=null==f?1:Math.random()||0.1,m=R.length;for(q&&(C=l!==G&&l);w!==m&&null!=(s=R[w]);w++){if(k&&s){for(r=0;e=a[r++];)if(e(s,l,p)){n.push(s);break}q&&(N=x)}g&&((s=!e&&s)&&t--,d&&y.push(s))}t+=w;if(g&&w!==t){for(r=0;e=c[r++];)e(y,
z,l,p);if(d){if(0<t)for(;w--;)y[w]||z[w]||(z[w]=ja.call(n));z=u(z)}$.apply(n,z);q&&!d&&0<z.length&&1<t+c.length&&b.uniqueSort(n)}q&&(N=x,C=f);return y};return g?d(l):l}var R,x,h,m,B,Q,A,E,C,D,v,F,G,H,L,J,M,K,P,I="sizzle"+-new Date,O=a.document,N=0,V=0,S=c(),X=c(),la=c(),Z=function(a,b){a===b&&(v=!0);return 0},T="undefined",W=-2147483648,U={}.hasOwnProperty,Y=[],ja=Y.pop,ca=Y.push,$=Y.push,ba=Y.slice,qa=Y.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},fa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w",
"w#"),da="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fa+"))|)[\\x20\\t\\r\\n\\f]*\\]",aa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+da+")*)|.*)\\)|)",ka=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ia=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Na=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,
ma=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),na=RegExp(aa),ea=RegExp("^"+fa+"$"),ha={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+da),PSEUDO:RegExp("^"+aa),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,ga=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xa=/[+~]/,sa=/'|\\/g,ta=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)",
"ig"),ua=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{$.apply(Y=ba.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(va){$={apply:Y.length?function(a,b){ca.apply(a,ba.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}x=b.support={};B=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};F=b.setDocument=function(a){var b=a?
a.ownerDocument||a:O;a=b.defaultView;if(b===G||9!==b.nodeType||!b.documentElement)return G;G=b;H=b.documentElement;L=!B(b);a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){F()},!1):a.attachEvent&&a.attachEvent("onunload",function(){F()}));x.attributes=g(function(a){a.className="i";return!a.getAttribute("className")});x.getElementsByTagName=g(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});x.getElementsByClassName=ga.test(b.getElementsByClassName)&&
g(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});x.getById=g(function(a){H.appendChild(a).id=I;return!b.getElementsByName||!b.getElementsByName(I).length});x.getById?(h.find.ID=function(a,b){if(typeof b.getElementById!==T&&L){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},h.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){return a.getAttribute("id")===b}}):(delete h.find.ID,
h.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){return(a=typeof a.getAttributeNode!==T&&a.getAttributeNode("id"))&&a.value===b}});h.find.TAG=x.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==T)return b.getElementsByTagName(a)}:function(a,b){var c,d=[],g=0,k=b.getElementsByTagName(a);if("*"===a){for(;c=k[g++];)1===c.nodeType&&d.push(c);return d}return k};h.find.CLASS=x.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==T&&L)return b.getElementsByClassName(a)};
M=[];J=[];if(x.qsa=ga.test(b.querySelectorAll))g(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&J.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||J.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||J.push(":checked")}),g(function(a){var c=
b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&J.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled");a.querySelectorAll("*,:x");J.push(",.*:")});(x.matchesSelector=ga.test(K=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&g(function(a){x.disconnectedMatch=K.call(a,"div");K.call(a,"[s!='']:x");M.push("!=",
aa)});J=J.length&&RegExp(J.join("|"));M=M.length&&RegExp(M.join("|"));P=(a=ga.test(H.compareDocumentPosition))||ga.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Z=a?function(a,c){if(a===c)return v=!0,0;var d=!a.compareDocumentPosition-!c.compareDocumentPosition;if(d)return d;
d=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):1;return d&1||!x.sortDetached&&c.compareDocumentPosition(a)===d?a===b||a.ownerDocument===O&&P(O,a)?-1:c===b||c.ownerDocument===O&&P(O,c)?1:D?qa.call(D,a)-qa.call(D,c):0:d&4?-1:1}:function(a,c){if(a===c)return v=!0,0;var d,g=0;d=a.parentNode;var k=c.parentNode,n=[a],p=[c];if(!d||!k)return a===b?-1:c===b?1:d?-1:k?1:D?qa.call(D,a)-qa.call(D,c):0;if(d===k)return l(a,c);for(d=a;d=d.parentNode;)n.unshift(d);for(d=c;d=d.parentNode;)p.unshift(d);
for(;n[g]===p[g];)g++;return g?l(n[g],p[g]):n[g]===O?-1:p[g]===O?1:0};return b};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==G&&F(a);c=c.replace(ma,"='$1']");if(x.matchesSelector&&L&&!(M&&M.test(c)||J&&J.test(c)))try{var d=K.call(a,c);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(g){}return 0<b(c,G,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==G&&F(a);return P(a,b)};b.attr=function(a,b){(a.ownerDocument||
a)!==G&&F(a);var c=h.attrHandle[b.toLowerCase()],c=c&&U.call(h.attrHandle,b.toLowerCase())?c(a,b,!L):void 0;return void 0!==c?c:x.attributes||!L?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],d=0,g=0;v=!x.detectDuplicates;D=!x.sortStable&&a.slice(0);a.sort(Z);if(v){for(;b=a[g++];)b===a[g]&&(d=c.push(g));for(;d--;)a.splice(c[d],1)}D=null;return a};m=b.getText=function(a){var b,
c="",d=0;b=a.nodeType;if(!b)for(;b=a[d++];)c+=m(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=m(a)}else if(3===b||4===b)return a.nodeValue;return c};h=b.selectors={cacheLength:50,createPseudo:d,match:ha,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ta,ua);a[3]=(a[3]||
a[4]||a[5]||"").replace(ta,ua);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(ha.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&na.test(c)&&(b=Q(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));
return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(ta,ua).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=S[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&S(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==T&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(g){g=b.attr(g,a);if(null==g)return"!="===
c;if(!c)return!0;g+="";return"="===c?g===d:"!="===c?g!==d:"^="===c?d&&0===g.indexOf(d):"*="===c?d&&-1<g.indexOf(d):"$="===c?d&&g.slice(-d.length)===d:"~="===c?-1<(" "+g+" ").indexOf(d):"|="===c?g===d||g.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,g){var k="nth"!==a.slice(0,3),l="last"!==a.slice(-4),n="of-type"===b;return 1===d&&0===g?function(a){return!!a.parentNode}:function(b,c,p){var q,s,r,e,t;c=k!==l?"nextSibling":"previousSibling";var w=b.parentNode,u=n&&b.nodeName.toLowerCase();
p=!p&&!n;if(w){if(k){for(;c;){for(s=b;s=s[c];)if(n?s.nodeName.toLowerCase()===u:1===s.nodeType)return!1;t=c="only"===a&&!t&&"nextSibling"}return!0}t=[l?w.firstChild:w.lastChild];if(l&&p)for(p=w[I]||(w[I]={}),q=p[a]||[],e=q[0]===N&&q[1],r=q[0]===N&&q[2],s=e&&w.childNodes[e];s=++e&&s&&s[c]||(r=e=0)||t.pop();){if(1===s.nodeType&&++r&&s===b){p[a]=[N,e,r];break}}else if(p&&(q=(b[I]||(b[I]={}))[a])&&q[0]===N)r=q[1];else for(;(s=++e&&s&&s[c]||(r=e=0)||t.pop())&&((n?s.nodeName.toLowerCase()!==u:1!==s.nodeType)||
!++r||(p&&((s[I]||(s[I]={}))[a]=[N,r]),s!==b)););r-=g;return r===d||0===r%d&&0<=r/d}}},PSEUDO:function(a,c){var g,k=h.pseudos[a]||h.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return k[I]?k(c):1<k.length?(g=[a,a,"",c],h.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,g=k(a,c),l=g.length;l--;)d=qa.call(a,g[l]),a[d]=!(b[d]=g[l])}):function(a){return k(a,0,g)}):k}},pseudos:{not:d(function(a){var b=[],c=[],g=A(a.replace(ka,"$1"));return g[I]?d(function(a,b,c,d){d=
g(a,null,d,[]);for(var k=a.length;k--;)if(c=d[k])a[k]=!(b[k]=c)}):function(a,d,k){b[0]=a;g(b,null,k,c);return!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){return function(b){return-1<(b.textContent||b.innerText||m(b)).indexOf(a)}}),lang:d(function(a){ea.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(ta,ua).toLowerCase();return function(b){var c;do if(c=L?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),
c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&
a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!h.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===
b.toLowerCase())},first:q(function(){return[0]}),last:q(function(a,b){return[b-1]}),eq:q(function(a,b,c){return[0>c?c+b:c]}),even:q(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:q(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:q(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:q(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};h.pseudos.nth=h.pseudos.eq;for(R in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[R]=n(R);for(R in{submit:!0,
reset:!0})h.pseudos[R]=p(R);r.prototype=h.filters=h.pseudos;h.setFilters=new r;Q=b.tokenize=function(a,c){var d,g,k,l,p,n,q;if(p=X[a+" "])return c?0:p.slice(0);p=a;n=[];for(q=h.preFilter;p;){if(!d||(g=ia.exec(p)))g&&(p=p.slice(g[0].length)||p),n.push(k=[]);d=!1;if(g=Na.exec(p))d=g.shift(),k.push({value:d,type:g[0].replace(ka," ")}),p=p.slice(d.length);for(l in h.filter)!(g=ha[l].exec(p))||q[l]&&!(g=q[l](g))||(d=g.shift(),k.push({value:d,type:l,matches:g}),p=p.slice(d.length));if(!d)break}return c?
p.length:p?b.error(a):X(a,n).slice(0)};A=b.compile=function(a,b){var c,d=[],g=[],k=la[a+" "];if(!k){b||(b=Q(a));for(c=b.length;c--;)k=z(b[c]),k[I]?d.push(k):g.push(k);k=la(a,f(g,d));k.selector=a}return k};E=b.select=function(a,b,c,d){var g,k,l,p,n="function"===typeof a&&a,q=!d&&Q(a=n.selector||a);c=c||[];if(1===q.length){k=q[0]=q[0].slice(0);if(2<k.length&&"ID"===(l=k[0]).type&&x.getById&&9===b.nodeType&&L&&h.relative[k[1].type]){b=(h.find.ID(l.matches[0].replace(ta,ua),b)||[])[0];if(!b)return c;
n&&(b=b.parentNode);a=a.slice(k.shift().value.length)}for(g=ha.needsContext.test(a)?0:k.length;g--;){l=k[g];if(h.relative[p=l.type])break;if(p=h.find[p])if(d=p(l.matches[0].replace(ta,ua),xa.test(k[0].type)&&s(b.parentNode)||b)){k.splice(g,1);a=d.length&&e(k);if(!a)return $.apply(c,d),c;break}}}(n||A(a,q))(d,b,!L,c,xa.test(a)&&s(b.parentNode)||b);return c};x.sortStable=I.split("").sort(Z).join("")===I;x.detectDuplicates=!!v;F();x.sortDetached=g(function(a){return a.compareDocumentPosition(G.createElement("div"))&
1});g(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||k("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});x.attributes&&g(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||k("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});g(function(a){return null==a.getAttribute("disabled")})||k("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});return b}(e);v.find=ia;v.expr=ia.selectors;v.expr[":"]=v.expr.pseudos;v.unique=ia.uniqueSort;v.text=ia.getText;v.isXMLDoc=ia.isXML;v.contains=ia.contains;var pa=v.expr.match.needsContext,ya=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ea=/^.[^:#\[\.,]*$/;v.filter=function(a,b,c){var d=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===d.nodeType?v.find.matchesSelector(d,a)?[d]:[]:v.find.matches(a,v.grep(b,
function(a){return 1===a.nodeType}))};v.fn.extend({find:function(a){var b,c=this.length,d=[],g=this;if("string"!==typeof a)return this.pushStack(v(a).filter(function(){for(b=0;b<c;b++)if(v.contains(g[b],this))return!0}));for(b=0;b<c;b++)v.find(a,g[b],d);d=this.pushStack(1<c?v.unique(d):d);d.selector=this.selector?this.selector+" "+a:a;return d},filter:function(a){return this.pushStack(b(this,a||[],!1))},not:function(a){return this.pushStack(b(this,a||[],!0))},is:function(a){return!!b(this,"string"===
typeof a&&pa.test(a)?v(a):a||[],!1).length}});var ga,Ga=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(v.fn.init=function(a,b){var c;if(!a)return this;if("string"===typeof a){c="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:Ga.exec(a);if(!c||!c[1]&&b)return!b||b.jquery?(b||ga).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof v?b[0]:b,v.merge(this,v.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:T,!0)),ya.test(c[1])&&v.isPlainObject(b))for(c in b)if(v.isFunction(this[c]))this[c](b[c]);
else this.attr(c,b[c])}else(c=T.getElementById(c[2]))&&c.parentNode&&(this.length=1,this[0]=c),this.context=T,this.selector=a;return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(v.isFunction(a))return"undefined"!==typeof ga.ready?ga.ready(a):a(v);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return v.makeArray(a,this)}).prototype=v.fn;ga=v(T);var qa=/^(?:parents|prev(?:Until|All))/,Na={children:!0,contents:!0,next:!0,prev:!0};v.extend({dir:function(a,
b,c){for(var d=[],g=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(g&&v(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});v.fn.extend({has:function(a){var b=v(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(v.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,g=this.length,k=[],l=pa.test(a)||"string"!==typeof a?v(a,b||this.context):0;d<g;d++)for(c=this[d];c&&c!==
b;c=c.parentNode)if(11>c.nodeType&&(l?-1<l.index(c):1===c.nodeType&&v.find.matchesSelector(c,a))){k.push(c);break}return this.pushStack(1<k.length?v.unique(k):k)},index:function(a){return a?"string"===typeof a?ja.call(v(a),this[0]):ja.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(v.unique(v.merge(this.get(),v(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});v.each({parent:function(a){return(a=
a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return v.dir(a,"parentNode")},parentsUntil:function(a,b,c){return v.dir(a,"parentNode",c)},next:function(a){return d(a,"nextSibling")},prev:function(a){return d(a,"previousSibling")},nextAll:function(a){return v.dir(a,"nextSibling")},prevAll:function(a){return v.dir(a,"previousSibling")},nextUntil:function(a,b,c){return v.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return v.dir(a,"previousSibling",c)},siblings:function(a){return v.sibling((a.parentNode||
{}).firstChild,a)},children:function(a){return v.sibling(a.firstChild)},contents:function(a){return a.contentDocument||v.merge([],a.childNodes)}},function(a,b){v.fn[a]=function(c,d){var g=v.map(this,b,c);"Until"!==a.slice(-5)&&(d=c);d&&"string"===typeof d&&(g=v.filter(d,g));1<this.length&&(Na[a]||v.unique(g),qa.test(a)&&g.reverse());return this.pushStack(g)}});var fa=/\S+/g,xa={};v.Callbacks=function(a){a="string"===typeof a?xa[a]||c(a):v.extend({},a);var b,d,g,k,l,p,n=[],q=!a.once&&[],s=function(c){b=
a.memory&&c;d=!0;p=k||0;k=0;l=n.length;for(g=!0;n&&p<l;p++)if(!1===n[p].apply(c[0],c[1])&&a.stopOnFalse){b=!1;break}g=!1;n&&(q?q.length&&s(q.shift()):b?n=[]:r.disable())},r={add:function(){if(n){var c=n.length;(function pb(b){v.each(b,function(b,c){var d=v.type(c);"function"===d?a.unique&&r.has(c)||n.push(c):c&&c.length&&"string"!==d&&pb(c)})})(arguments);g?l=n.length:b&&(k=c,s(b))}return this},remove:function(){n&&v.each(arguments,function(a,b){for(var c;-1<(c=v.inArray(b,n,c));)n.splice(c,1),g&&
(c<=l&&l--,c<=p&&p--)});return this},has:function(a){return a?-1<v.inArray(a,n):!(!n||!n.length)},empty:function(){n=[];l=0;return this},disable:function(){n=q=b=void 0;return this},disabled:function(){return!n},lock:function(){q=void 0;b||r.disable();return this},locked:function(){return!q},fireWith:function(a,b){!n||d&&!q||(b=b||[],b=[a,b.slice?b.slice():b],g?q.push(b):s(b));return this},fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!d}};return r};v.extend({Deferred:function(a){var b=
[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){g.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return v.Deferred(function(c){v.each(b,function(b,k){var l=v.isFunction(a[b])&&a[b];g[k[1]](function(){var a=l&&l.apply(this,arguments);if(a&&v.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);
else c[k[0]+"With"](this===d?c.promise():this,l?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?v.extend(a,d):d}},g={};d.pipe=d.then;v.each(b,function(a,k){var l=k[2],p=k[3];d[k[1]]=l.add;p&&l.add(function(){c=p},b[a^1][2].disable,b[2][2].lock);g[k[0]]=function(){g[k[0]+"With"](this===g?d:this,arguments);return this};g[k[0]+"With"]=l.fireWith});d.promise(g);a&&a.call(g,g);return g},when:function(a){var b=0,c=X.call(arguments),d=c.length,g=1!==d||a&&v.isFunction(a.promise)?
d:0,k=1===g?a:v.Deferred(),l=function(a,b,c){return function(d){b[a]=this;c[a]=1<arguments.length?X.call(arguments):d;c===p?k.notifyWith(b,c):--g||k.resolveWith(b,c)}},p,n,q;if(1<d)for(p=Array(d),n=Array(d),q=Array(d);b<d;b++)c[b]&&v.isFunction(c[b].promise)?c[b].promise().done(l(b,q,c)).fail(k.reject).progress(l(b,n,p)):--g;g||k.resolveWith(q,c);return k.promise()}});var Ha;v.fn.ready=function(a){v.ready.promise().done(a);return this};v.extend({isReady:!1,readyWait:1,holdReady:function(a){a?v.readyWait++:
v.ready(!0)},ready:function(a){(!0===a?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==a&&0<--v.readyWait||(Ha.resolveWith(T,[v]),v.fn.triggerHandler&&(v(T).triggerHandler("ready"),v(T).off("ready"))))}});v.ready.promise=function(b){Ha||(Ha=v.Deferred(),"complete"===T.readyState?setTimeout(v.ready):(T.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1)));return Ha.promise(b)};v.ready.promise();var ma=v.access=function(a,b,c,d,g,k,l){var p=0,n=a.length,q=null==c;if("object"===v.type(c))for(p in g=
!0,c)v.access(a,b,p,c[p],!0,k,l);else if(void 0!==d&&(g=!0,v.isFunction(d)||(l=!0),q&&(l?(b.call(a,d),b=null):(q=b,b=function(a,b,c){return q.call(v(a),c)})),b))for(;p<n;p++)b(a[p],c,l?d:d.call(a[p],p,b(a[p],c)));return g?a:q?b.call(a):n?b(a[0],c):k};v.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};g.uid=1;g.accepts=v.acceptData;g.prototype={key:function(a){if(!g.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=g.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,
b)}catch(d){b[this.expando]=c,v.extend(a,b)}}this.cache[c]||(this.cache[c]={});return c},set:function(a,b,c){var d;a=this.key(a);var g=this.cache[a];if("string"===typeof b)g[b]=c;else if(v.isEmptyObject(g))v.extend(this.cache[a],b);else for(d in b)g[d]=b[d];return g},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){if(void 0===b||b&&"string"===typeof b&&void 0===c)return c=this.get(a,b),void 0!==c?c:this.get(a,v.camelCase(b));this.set(a,b,c);return void 0!==
c?c:b},remove:function(a,b){var c,d;c=this.key(a);var g=this.cache[c];if(void 0===b)this.cache[c]={};else for(v.isArray(b)?d=b.concat(b.map(v.camelCase)):(c=v.camelCase(b),b in g?d=[b,c]:(d=c,d=d in g?[d]:d.match(fa)||[])),c=d.length;c--;)delete g[d[c]]},hasData:function(a){return!v.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var U=new g,ba=new g,wa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,lb=/([A-Z])/g;v.extend({hasData:function(a){return ba.hasData(a)||
U.hasData(a)},data:function(a,b,c){return ba.access(a,b,c)},removeData:function(a,b){ba.remove(a,b)},_data:function(a,b,c){return U.access(a,b,c)},_removeData:function(a,b){U.remove(a,b)}});v.fn.extend({data:function(a,b){var c,d,g,l=this[0],p=l&&l.attributes;if(void 0===a){if(this.length&&(g=ba.get(l),1===l.nodeType&&!U.get(l,"hasDataAttrs"))){for(c=p.length;c--;)p[c]&&(d=p[c].name,0===d.indexOf("data-")&&(d=v.camelCase(d.slice(5)),k(l,d,g[d])));U.set(l,"hasDataAttrs",!0)}return g}return"object"===
typeof a?this.each(function(){ba.set(this,a)}):ma(this,function(b){var c,d=v.camelCase(a);if(l&&void 0===b){c=ba.get(l,a);if(void 0!==c)return c;c=ba.get(l,d);if(void 0!==c)return c;c=k(l,d,void 0);if(void 0!==c)return c}else this.each(function(){var c=ba.get(this,d);ba.set(this,d,b);-1!==a.indexOf("-")&&void 0!==c&&ba.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){ba.remove(this,a)})}});v.extend({queue:function(a,b,c){var d;if(a)return b=(b||
"fx")+"queue",d=U.get(a,b),c&&(!d||v.isArray(c)?d=U.access(a,b,v.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=v.queue(a,b),d=c.length,g=c.shift(),k=v._queueHooks(a,b),l=function(){v.dequeue(a,b)};"inprogress"===g&&(g=c.shift(),d--);g&&("fx"===b&&c.unshift("inprogress"),delete k.stop,g.call(a,l,k));!d&&k&&k.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return U.get(a,c)||U.access(a,c,{empty:v.Callbacks("once memory").add(function(){U.remove(a,[b+"queue",c])})})}});
v.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?v.queue(this[0],a):void 0===b?this:this.each(function(){var c=v.queue(this,a,b);v._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&v.dequeue(this,a)})},dequeue:function(a){return this.each(function(){v.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,g=v.Deferred(),k=this,l=this.length,p=function(){--d||g.resolveWith(k,[k])};"string"!==
typeof a&&(b=a,a=void 0);for(a=a||"fx";l--;)(c=U.get(k[l],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(p));p();return g.promise(b)}});var Ia=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ha=["Top","Right","Bottom","Left"],za=function(a,b){a=b||a;return"none"===v.css(a,"display")||!v.contains(a.ownerDocument,a)},Va=/^(?:checkbox|radio)$/i;(function(){var a=T.createDocumentFragment().appendChild(T.createElement("div")),b=T.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked",
"checked");b.setAttribute("name","t");a.appendChild(b);W.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";W.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();W.focusinBubbles="onfocusin"in e;var qb=/^key/,rb=/^(?:mouse|pointer|contextmenu)|click/,Wa=/^(?:focusinfocus|focusoutblur)$/,Xa=/^([^.]*)(?:\.(.+)|)$/;v.event={global:{},add:function(a,b,c,d,g){var k,l,p,n,q,s,r,e,t;if(q=U.get(a))for(c.handler&&(k=c,c=k.handler,g=k.selector),c.guid||(c.guid=
v.guid++),(n=q.events)||(n=q.events={}),(l=q.handle)||(l=q.handle=function(b){return"undefined"!==typeof v&&v.event.triggered!==b.type?v.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(fa)||[""],q=b.length;q--;)p=Xa.exec(b[q])||[],e=s=p[1],t=(p[2]||"").split(".").sort(),e&&(p=v.event.special[e]||{},e=(g?p.delegateType:p.bindType)||e,p=v.event.special[e]||{},s=v.extend({type:e,origType:s,data:d,handler:c,guid:c.guid,selector:g,needsContext:g&&v.expr.match.needsContext.test(g),namespace:t.join(".")},
k),(r=n[e])||(r=n[e]=[],r.delegateCount=0,p.setup&&!1!==p.setup.call(a,d,t,l)||a.addEventListener&&a.addEventListener(e,l,!1)),p.add&&(p.add.call(a,s),s.handler.guid||(s.handler.guid=c.guid)),g?r.splice(r.delegateCount++,0,s):r.push(s),v.event.global[e]=!0)},remove:function(a,b,c,d,g){var k,l,p,n,q,s,r,e,t,w,u,y=U.hasData(a)&&U.get(a);if(y&&(n=y.events)){b=(b||"").match(fa)||[""];for(q=b.length;q--;)if(p=Xa.exec(b[q])||[],t=u=p[1],w=(p[2]||"").split(".").sort(),t){r=v.event.special[t]||{};t=(d?r.delegateType:
r.bindType)||t;e=n[t]||[];p=p[2]&&RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=k=e.length;k--;)s=e[k],!g&&u!==s.origType||c&&c.guid!==s.guid||p&&!p.test(s.namespace)||d&&!(d===s.selector||"**"===d&&s.selector)||(e.splice(k,1),s.selector&&e.delegateCount--,r.remove&&r.remove.call(a,s));l&&!e.length&&(r.teardown&&!1!==r.teardown.call(a,w,y.handle)||v.removeEvent(a,t,y.handle),delete n[t])}else for(t in n)v.event.remove(a,t+b[q],c,d,!0);v.isEmptyObject(n)&&(delete y.handle,U.remove(a,"events"))}},
trigger:function(a,b,c,d){var g,k,l,p,n,q,s=[c||T],r=la.call(a,"type")?a.type:a;q=la.call(a,"namespace")?a.namespace.split("."):[];k=g=c=c||T;if(3!==c.nodeType&&8!==c.nodeType&&!Wa.test(r+v.event.triggered)&&(0<=r.indexOf(".")&&(q=r.split("."),r=q.shift(),q.sort()),p=0>r.indexOf(":")&&"on"+r,a=a[v.expando]?a:new v.Event(r,"object"===typeof a&&a),a.isTrigger=d?2:3,a.namespace=q.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=
c),b=null==b?[a]:v.makeArray(b,[a]),q=v.event.special[r]||{},d||!q.trigger||!1!==q.trigger.apply(c,b))){if(!d&&!q.noBubble&&!v.isWindow(c)){l=q.delegateType||r;Wa.test(l+r)||(k=k.parentNode);for(;k;k=k.parentNode)s.push(k),g=k;g===(c.ownerDocument||T)&&s.push(g.defaultView||g.parentWindow||e)}for(g=0;(k=s[g++])&&!a.isPropagationStopped();)a.type=1<g?l:q.bindType||r,(n=(U.get(k,"events")||{})[a.type]&&U.get(k,"handle"))&&n.apply(k,b),(n=p&&k[p])&&n.apply&&v.acceptData(k)&&(a.result=n.apply(k,b),!1===
a.result&&a.preventDefault());a.type=r;d||a.isDefaultPrevented()||q._default&&!1!==q._default.apply(s.pop(),b)||!v.acceptData(c)||!p||!v.isFunction(c[r])||v.isWindow(c)||((g=c[p])&&(c[p]=null),v.event.triggered=r,c[r](),v.event.triggered=void 0,g&&(c[p]=g));return a.result}},dispatch:function(a){a=v.event.fix(a);var b,c,d,g,k=[],l=X.call(arguments);b=(U.get(this,"events")||{})[a.type]||[];var p=v.event.special[a.type]||{};l[0]=a;a.delegateTarget=this;if(!p.preDispatch||!1!==p.preDispatch.call(this,
a)){k=v.event.handlers.call(this,a,b);for(b=0;(g=k[b++])&&!a.isPropagationStopped();)for(a.currentTarget=g.elem,c=0;(d=g.handlers[c++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(d.namespace))a.handleObj=d,a.data=d.data,d=((v.event.special[d.origType]||{}).handle||d.handler).apply(g.elem,l),void 0!==d&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation());p.postDispatch&&p.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,d,g,k,l=[],p=
b.delegateCount,n=a.target;if(p&&n.nodeType&&(!a.button||"click"!==a.type))for(;n!==this;n=n.parentNode||this)if(!0!==n.disabled||"click"!==a.type){d=[];for(c=0;c<p;c++)k=b[c],g=k.selector+" ",void 0===d[g]&&(d[g]=k.needsContext?0<=v(g,this).index(n):v.find(g,this,null,[n]).length),d[g]&&d.push(k);d.length&&l.push({elem:n,handlers:d})}p<b.length&&l.push({elem:this,handlers:b.slice(p)});return l},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,g=b.button;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||T,d=c.documentElement,c=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||c&&c.clientLeft||0),a.pageY=
b.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&c.clientTop||0));a.which||void 0===g||(a.which=g&1?1:g&2?3:g&4?2:0);return a}},fix:function(a){if(a[v.expando])return a;var b,c,d;b=a.type;var g=a,k=this.fixHooks[b];k||(this.fixHooks[b]=k=rb.test(b)?this.mouseHooks:qb.test(b)?this.keyHooks:{});d=k.props?this.props.concat(k.props):this.props;a=new v.Event(g);for(b=d.length;b--;)c=d[b],a[c]=g[c];a.target||(a.target=T);3===a.target.nodeType&&(a.target=a.target.parentNode);return k.filter?
k.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==n()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===n()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&v.nodeName(this,"input"))return this.click(),!1},_default:function(a){return v.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=
a.result)}}},simulate:function(a,b,c,d){a=v.extend(new v.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?v.event.trigger(a,null,b):v.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};v.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)};v.Event=function(a,b){if(!(this instanceof v.Event))return new v.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?
p:l):this.type=a;b&&v.extend(this,b);this.timeStamp=a&&a.timeStamp||v.now();this[v.expando]=!0};v.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=p;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=p;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=
p;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){v.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,g=a.handleObj;if(!d||d!==this&&!v.contains(this,d))a.type=g.origType,c=g.handler.apply(this,arguments),a.type=b;return c}}});W.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(a,b){var c=
function(a){v.event.simulate(b,a.target,v.event.fix(a),!0)};v.event.special[b]={setup:function(){var d=this.ownerDocument||this,g=U.access(d,b);g||d.addEventListener(a,c,!0);U.access(d,b,(g||0)+1)},teardown:function(){var d=this.ownerDocument||this,g=U.access(d,b)-1;g?U.access(d,b,g):(d.removeEventListener(a,c,!0),U.remove(d,b))}}});v.fn.extend({on:function(a,b,c,d,g){var k,p;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=void 0);for(p in a)this.on(p,b,c,a[p],g);return this}null==c&&null==
d?(d=b,c=b=void 0):null==d&&("string"===typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0));if(!1===d)d=l;else if(!d)return this;1===g&&(k=d,d=function(a){v().off(a);return k.apply(this,arguments)},d.guid=k.guid||(k.guid=v.guid++));return this.each(function(){v.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,v(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),
this;if("object"===typeof a){for(d in a)this.off(d,b,a[d]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=l);return this.each(function(){v.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){v.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return v.event.trigger(a,b,c,!0)}});var Ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Za=/<([\w:]+)/,sb=/<|&#?\w+;/,tb=/<(?:script|style|link)/i,ub=/checked\s*(?:[^=]|=\s*.checked.)/i,
$a=/^$|\/(?:java|ecma)script/i,mb=/^true\/(.*)/,vb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,da={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=da.caption=da.thead;da.th=da.td;v.extend({clone:function(a,b,c){var d,g,k,l,p=a.cloneNode(!0),n=v.contains(a.ownerDocument,
a);if(!(W.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||v.isXMLDoc(a)))for(l=u(p),k=u(a),d=0,g=k.length;d<g;d++){var q=k[d],s=l[d],r=s.nodeName.toLowerCase();if("input"===r&&Va.test(q.type))s.checked=q.checked;else if("input"===r||"textarea"===r)s.defaultValue=q.defaultValue}if(b)if(c)for(k=k||u(a),l=l||u(p),d=0,g=k.length;d<g;d++)w(k[d],l[d]);else w(a,p);l=u(p,"script");0<l.length&&t(l,!n&&u(a,"script"));return p},buildFragment:function(a,b,c,d){for(var g,k,l,p=b.createDocumentFragment(),n=[],
q=0,s=a.length;q<s;q++)if((g=a[q])||0===g)if("object"===v.type(g))v.merge(n,g.nodeType?[g]:g);else if(sb.test(g)){k=k||p.appendChild(b.createElement("div"));l=(Za.exec(g)||["",""])[1].toLowerCase();l=da[l]||da._default;k.innerHTML=l[1]+g.replace(Ya,"<$1></$2>")+l[2];for(l=l[0];l--;)k=k.lastChild;v.merge(n,k.childNodes);k=p.firstChild;k.textContent=""}else n.push(b.createTextNode(g));p.textContent="";for(q=0;g=n[q++];)if(!d||-1===v.inArray(g,d))if(a=v.contains(g.ownerDocument,g),k=u(p.appendChild(g),
"script"),a&&t(k),c)for(l=0;g=k[l++];)$a.test(g.type||"")&&c.push(g);return p},cleanData:function(a){for(var b,c,d,g,k=v.event.special,l=0;void 0!==(c=a[l]);l++){if(v.acceptData(c)&&(g=c[U.expando])&&(b=U.cache[g])){if(b.events)for(d in b.events)k[d]?v.event.remove(c,d):v.removeEvent(c,d,b.handle);U.cache[g]&&delete U.cache[g]}delete ba.cache[c[ba.expando]]}}});v.fn.extend({text:function(a){return ma(this,function(a){return void 0===a?v.text(this):this.empty().each(function(){if(1===this.nodeType||
11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||q(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=q(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,
this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?v.filter(a,this):this,g=0;null!=(c=d[g]);g++)b||1!==c.nodeType||v.cleanData(u(c)),c.parentNode&&(b&&v.contains(c.ownerDocument,c)&&t(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(v.cleanData(u(a,!1)),a.textContent="");return this},clone:function(a,
b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return v.clone(this,a,b)})},html:function(a){return ma(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!tb.test(a)&&!da[(Za.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ya,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(v.cleanData(u(b,!1)),b.innerHTML=a);b=0}catch(g){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=
arguments[0];this.domManip(arguments,function(b){a=this.parentNode;v.cleanData(u(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Z.apply([],a);var c,d,g,k,l=0,p=this.length,n=this,q=p-1,e=a[0],t=v.isFunction(e);if(t||1<p&&"string"===typeof e&&!W.checkClone&&ub.test(e))return this.each(function(c){var d=n.eq(c);t&&(a[0]=e.call(this,c,d.html()));d.domManip(a,b)});if(p&&(c=v.buildFragment(a,
this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){d=v.map(u(c,"script"),s);for(g=d.length;l<p;l++)k=c,l!==q&&(k=v.clone(k,!0,!0),g&&v.merge(d,u(k,"script"))),b.call(this[l],k,l);if(g)for(c=d[d.length-1].ownerDocument,v.map(d,r),l=0;l<g;l++)k=d[l],$a.test(k.type||"")&&!U.access(k,"globalEval")&&v.contains(c,k)&&(k.src?v._evalUrl&&v._evalUrl(k.src):v.globalEval(k.textContent.replace(vb,"")))}return this}});v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(a,b){v.fn[a]=function(a){for(var c=[],d=v(a),g=d.length-1,k=0;k<=g;k++)a=k===g?this:this.clone(!0),v(d[k])[b](a),Y.apply(c,a.get());return this.pushStack(c)}});var Da,Sa={},Ta=/^margin/,La=RegExp("^("+Ia+")(?!px)[a-z%]+$","i"),Ea=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};(function(){function a(){k.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";
k.innerHTML="";d.appendChild(g);var l=e.getComputedStyle(k,null);b="1%"!==l.top;c="4px"===l.width;d.removeChild(g)}var b,c,d=T.documentElement,g=T.createElement("div"),k=T.createElement("div");k.style&&(k.style.backgroundClip="content-box",k.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle="content-box"===k.style.backgroundClip,g.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",g.appendChild(k),e.getComputedStyle&&v.extend(W,{pixelPosition:function(){a();
return b},boxSizingReliable:function(){null==c&&a();return c},reliableMarginRight:function(){var a;a=k.appendChild(T.createElement("div"));a.style.cssText=k.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";a.style.marginRight=a.style.width="0";k.style.width="1px";d.appendChild(g);a=!parseFloat(e.getComputedStyle(a,null).marginRight);d.removeChild(g);return a}}))})();v.swap=function(a,b,c,d){var g,k={};for(g in b)k[g]=
a.style[g],a.style[g]=b[g];c=c.apply(a,d||[]);for(g in b)a.style[g]=k[g];return c};var wb=/^(none|table(?!-c[ea]).+)/,nb=RegExp("^("+Ia+")(.*)$","i"),xb=RegExp("^([+-])=("+Ia+")","i"),yb={position:"absolute",visibility:"hidden",display:"block"},ab={letterSpacing:"0",fontWeight:"400"},Ua=["Webkit","O","Moz","ms"];v.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=R(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,
opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,k,l,p=v.camelCase(b),n=a.style;b=v.cssProps[p]||(v.cssProps[p]=m(n,p));l=v.cssHooks[b]||v.cssHooks[p];if(void 0!==c)k=typeof c,"string"===k&&(g=xb.exec(c))&&(c=(g[1]+1)*g[2]+parseFloat(v.css(a,b)),k="number"),null!=c&&c===c&&("number"!==k||v.cssNumber[p]||(c+="px"),W.clearCloneStyle||""!==c||0!==b.indexOf("background")||(n[b]="inherit"),
l&&"set"in l&&void 0===(c=l.set(a,c,d))||(n[b]=c));else return l&&"get"in l&&void 0!==(g=l.get(a,!1,d))?g:n[b]}},css:function(a,b,c,d){var g,k;k=v.camelCase(b);b=v.cssProps[k]||(v.cssProps[k]=m(a.style,k));(k=v.cssHooks[b]||v.cssHooks[k])&&"get"in k&&(g=k.get(a,!0,c));void 0===g&&(g=R(a,b,d));"normal"===g&&b in ab&&(g=ab[b]);return""===c||c?(a=parseFloat(g),!0===c||v.isNumeric(a)?a||0:g):g}});v.each(["height","width"],function(a,b){v.cssHooks[b]={get:function(a,c,d){if(c)return wb.test(v.css(a,"display"))&&
0===a.offsetWidth?v.swap(a,yb,function(){return D(a,b,d)}):D(a,b,d)},set:function(a,c,d){var g=d&&Ea(a);return E(a,c,d?C(a,b,d,"border-box"===v.css(a,"boxSizing",!1,g),g):0)}}});v.cssHooks.marginRight=h(W.reliableMarginRight,function(a,b){if(b)return v.swap(a,{display:"inline-block"},R,[a,"marginRight"])});v.each({margin:"",padding:"",border:"Width"},function(a,b){v.cssHooks[a+b]={expand:function(c){var d=0,g={};for(c="string"===typeof c?c.split(" "):[c];4>d;d++)g[a+ha[d]+b]=c[d]||c[d-2]||c[0];return g}};
Ta.test(a)||(v.cssHooks[a+b].set=E)});v.fn.extend({css:function(a,b){return ma(this,function(a,b,c){var d,g={},k=0;if(v.isArray(b)){c=Ea(a);for(d=b.length;k<d;k++)g[b[k]]=v.css(a,b[k],!1,c);return g}return void 0!==c?v.style(a,b,c):v.css(a,b)},a,b,1<arguments.length)},show:function(){return F(this,!0)},hide:function(){return F(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){za(this)?v(this).show():v(this).hide()})}});v.Tween=G;G.prototype={constructor:G,
init:function(a,b,c,d,g,k){this.elem=a;this.prop=c;this.easing=g||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=k||(v.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];this.pos=this.options.duration?b=v.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,
this.now,this);c&&c.set?c.set(this):G.propHooks._default.set(this);return this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=v.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(v.fx.step[a.prop])v.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[v.cssProps[a.prop]]||v.cssHooks[a.prop])?v.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};G.propHooks.scrollTop=
G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};v.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};v.fx=G.prototype.init;v.fx.step={};var sa,Ja,zb=/^(?:toggle|show|hide)$/,bb=RegExp("^(?:([+-])=|)("+Ia+")([a-z%]*)$","i"),Ab=/queueHooks$/,Fa=[function(a,b,c){var d,g,k,l,p,n,q=this,s={},r=a.style,e=a.nodeType&&za(a),t=U.get(a,"fxshow");c.queue||(l=v._queueHooks(a,"fx"),null==l.unqueued&&(l.unqueued=0,p=l.empty.fire,
l.empty.fire=function(){l.unqueued||p()}),l.unqueued++,q.always(function(){q.always(function(){l.unqueued--;v.queue(a,"fx").length||l.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[r.overflow,r.overflowX,r.overflowY],n=v.css(a,"display"),g="none"===n?U.get(a,"olddisplay")||z(a.nodeName):n,"inline"===g&&"none"===v.css(a,"float")&&(r.display="inline-block"));c.overflow&&(r.overflow="hidden",q.always(function(){r.overflow=c.overflow[0];r.overflowX=c.overflow[1];r.overflowY=
c.overflow[2]}));for(d in b)if(g=b[d],zb.exec(g)){delete b[d];k=k||"toggle"===g;if(g===(e?"hide":"show"))if("show"===g&&t&&void 0!==t[d])e=!0;else continue;s[d]=t&&t[d]||v.style(a,d)}else n=void 0;if(v.isEmptyObject(s))"inline"===("none"===n?z(a.nodeName):n)&&(r.display=n);else for(d in t?"hidden"in t&&(e=t.hidden):t=U.access(a,"fxshow",{}),k&&(t.hidden=!e),e?v(a).show():q.done(function(){v(a).hide()}),q.done(function(){var b;U.remove(a,"fxshow");for(b in s)v.style(a,b,s[b])}),s)b=M(e?t[d]:0,d,q),
d in t||(t[d]=b.start,e&&(b.end=b.start,b.start="width"===d||"height"===d?1:0))}],Aa={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),g=bb.exec(b),k=g&&g[3]||(v.cssNumber[a]?"":"px"),l=(v.cssNumber[a]||"px"!==k&&+d)&&bb.exec(v.css(c.elem,a)),p=1,n=20;if(l&&l[3]!==k){k=k||l[3];g=g||[];l=+d||1;do p=p||".5",l/=p,v.style(c.elem,a,l+k);while(p!==(p=c.cur()/d)&&1!==p&&--n)}g&&(l=c.start=+l||+d||0,c.unit=k,c.end=g[1]?l+(g[1]+1)*g[2]:+g[2]);return c}]};v.Animation=v.extend(P,{tweener:function(a,
b){v.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,g=a.length;d<g;d++)c=a[d],Aa[c]=Aa[c]||[],Aa[c].unshift(b)},prefilter:function(a,b){b?Fa.unshift(a):Fa.push(a)}});v.speed=function(a,b,c){var d=a&&"object"===typeof a?v.extend({},a):{complete:c||!c&&b||v.isFunction(a)&&a,duration:a,easing:c&&b||b&&!v.isFunction(b)&&b};d.duration=v.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in v.fx.speeds?v.fx.speeds[d.duration]:v.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue=
"fx";d.old=d.complete;d.complete=function(){v.isFunction(d.old)&&d.old.call(this);d.queue&&v.dequeue(this,d.queue)};return d};v.fn.extend({fadeTo:function(a,b,c,d){return this.filter(za).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var g=v.isEmptyObject(a),k=v.speed(b,c,d);b=function(){var b=P(this,v.extend({},a),k);(g||U.get(this,"finish"))&&b.stop(!0)};b.finish=b;return g||!1===k.queue?this.each(b):this.queue(k.queue,b)},stop:function(a,b,c){var d=function(a){var b=
a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",k=v.timers,l=U.get(this);if(g)l[g]&&l[g].stop&&d(l[g]);else for(g in l)l[g]&&l[g].stop&&Ab.test(g)&&d(l[g]);for(g=k.length;g--;)k[g].elem!==this||null!=a&&k[g].queue!==a||(k[g].anim.stop(c),b=!1,k.splice(g,1));!b&&c||v.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,c=U.get(this),d=c[a+"queue"];
b=c[a+"queueHooks"];var g=v.timers,k=d?d.length:0;c.finish=!0;v.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=g.length;b--;)g[b].elem===this&&g[b].queue===a&&(g[b].anim.stop(!0),g.splice(b,1));for(b=0;b<k;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}});v.each(["toggle","show","hide"],function(a,b){var c=v.fn[b];v.fn[b]=function(a,d,g){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(J(b,!0),a,d,g)}});v.each({slideDown:J("show"),slideUp:J("hide"),
slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){v.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});v.timers=[];v.fx.tick=function(){var a,b=0,c=v.timers;for(sa=v.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||v.fx.stop();sa=void 0};v.fx.timer=function(a){v.timers.push(a);a()?v.fx.start():v.timers.pop()};v.fx.interval=13;v.fx.start=function(){Ja||(Ja=setInterval(v.fx.tick,v.fx.interval))};v.fx.stop=function(){clearInterval(Ja);
Ja=null};v.fx.speeds={slow:600,fast:200,_default:400};v.fn.delay=function(a,b){a=v.fx?v.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})};(function(){var a=T.createElement("input"),b=T.createElement("select"),c=b.appendChild(T.createElement("option"));a.type="checkbox";W.checkOn=""!==a.value;W.optSelected=c.selected;b.disabled=!0;W.optDisabled=!c.disabled;a=T.createElement("input");a.value="t";a.type="radio";W.radioValue="t"===a.value})();
var cb,Ba=v.expr.attrHandle;v.fn.extend({attr:function(a,b){return ma(this,v.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){v.removeAttr(this,a)})}});v.extend({attr:function(a,b,c){var d,g,k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k){if("undefined"===typeof a.getAttribute)return v.prop(a,b,c);1===k&&v.isXMLDoc(a)||(b=b.toLowerCase(),d=v.attrHooks[b]||(v.expr.match.bool.test(b)?cb:void 0));if(void 0!==c)if(null===c)v.removeAttr(a,b);else{if(d&&"set"in d&&void 0!==(g=d.set(a,
c,b)))return g;a.setAttribute(b,c+"");return c}else{if(d&&"get"in d&&null!==(g=d.get(a,b)))return g;g=v.find.attr(a,b);return null==g?void 0:g}}},removeAttr:function(a,b){var c,d,g=0,k=b&&b.match(fa);if(k&&1===a.nodeType)for(;c=k[g++];)d=v.propFix[c]||c,v.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!W.radioValue&&"radio"===b&&v.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}}});cb={set:function(a,b,c){!1===b?
v.removeAttr(a,c):a.setAttribute(c,c);return c}};v.each(v.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Ba[b]||v.find.attr;Ba[b]=function(a,b,d){var g,k;d||(k=Ba[b],Ba[b]=g,g=null!=c(a,b,d)?b.toLowerCase():null,Ba[b]=k);return g}});var Bb=/^(?:input|select|textarea|button)$/i;v.fn.extend({prop:function(a,b){return ma(this,v.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[v.propFix[a]||a]})}});v.extend({propFix:{"for":"htmlFor","class":"className"},
prop:function(a,b,c){var d,g,k;k=a.nodeType;if(a&&3!==k&&8!==k&&2!==k){if(k=1!==k||!v.isXMLDoc(a))b=v.propFix[b]||b,g=v.propHooks[b];return void 0!==c?g&&"set"in g&&void 0!==(d=g.set(a,c,b))?d:a[b]=c:g&&"get"in g&&null!==(d=g.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||Bb.test(a.nodeName)||a.href?a.tabIndex:-1}}}});W.optSelected||(v.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});v.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){v.propFix[this.toLowerCase()]=this});var Oa=/[\t\r\n\f]/g;v.fn.extend({addClass:function(a){var b,c,d,g,k;b="string"===typeof a&&a;var l=0,p=this.length;if(v.isFunction(a))return this.each(function(b){v(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(fa)||[];l<p;l++)if(c=this[l],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):" ")){for(k=0;g=b[k++];)0>d.indexOf(" "+g+" ")&&(d+=g+" ");d=v.trim(d);c.className!==d&&(c.className=d)}return this},
removeClass:function(a){var b,c,d,g,k;b=0===arguments.length||"string"===typeof a&&a;var l=0,p=this.length;if(v.isFunction(a))return this.each(function(b){v(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(fa)||[];l<p;l++)if(c=this[l],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Oa," "):"")){for(k=0;g=b[k++];)for(;0<=d.indexOf(" "+g+" ");)d=d.replace(" "+g+" "," ");d=a?v.trim(d):"";c.className!==d&&(c.className=d)}return this},toggleClass:function(a,b){var c=
typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):v.isFunction(a)?this.each(function(c){v(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,g=v(this),k=a.match(fa)||[];b=k[d++];)g.hasClass(b)?g.removeClass(b):g.addClass(b);else if("undefined"===c||"boolean"===c)this.className&&U.set(this,"__className__",this.className),this.className=this.className||!1===a?"":U.get(this,"__className__")||""})},hasClass:function(a){a=
" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Oa," ").indexOf(a))return!0;return!1}});var Cb=/\r/g;v.fn.extend({val:function(a){var b,c,d,g=this[0];if(arguments.length)return d=v.isFunction(a),this.each(function(c){1===this.nodeType&&(c=d?a.call(this,c,v(this).val()):a,null==c?c="":"number"===typeof c?c+="":v.isArray(c)&&(c=v.map(c,function(a){return null==a?"":a+""})),b=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],b&&
"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))});if(g){if((b=v.valHooks[g.type]||v.valHooks[g.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(g,"value")))return c;c=g.value;return"string"===typeof c?c.replace(Cb,""):null==c?"":c}}});v.extend({valHooks:{option:{get:function(a){var b=v.find.attr(a,"value");return null!=b?b:v.trim(v.text(a))}},select:{get:function(a){for(var b,c=a.options,d=a.selectedIndex,g=(a="select-one"===a.type||0>d)?null:[],k=a?d+1:c.length,l=0>d?k:a?d:0;l<k;l++)if(b=
c[l],!(!b.selected&&l!==d||(W.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&v.nodeName(b.parentNode,"optgroup"))){b=v(b).val();if(a)return b;g.push(b)}return g},set:function(a,b){for(var c,d,g=a.options,k=v.makeArray(b),l=g.length;l--;)if(d=g[l],d.selected=0<=v.inArray(d.value,k))c=!0;c||(a.selectedIndex=-1);return k}}}});v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(a,b){if(v.isArray(b))return a.checked=0<=v.inArray(v(a).val(),b)}};W.checkOn||
(v.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){v.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});v.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,
b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Pa=v.now(),Qa=/\?/;v.parseJSON=function(a){return JSON.parse(a+"")};v.parseXML=function(a){var b,c;if(!a||"string"!==typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}b&&!b.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+
a);return b};var ra,na,Db=/#.*$/,db=/([?&])_=[^&]*/,Eb=/^(.*?):[ \t]*([^\r\n]*)$/mg,Fb=/^(?:GET|HEAD)$/,Gb=/^\/\//,eb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,fb={},Ma={},gb="*/".concat("*");try{na=location.href}catch(Ob){na=T.createElement("a"),na.href="",na=na.href}ra=eb.exec(na.toLowerCase())||[];v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:na,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ra[1]),global:!0,processData:!0,async:!0,
contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":gb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?O(O(a,v.ajaxSettings),b):O(v.ajaxSettings,
a)},ajaxPrefilter:L(fb),ajaxTransport:L(Ma),ajax:function(a,b){function c(a,b,l,n){var s,z,f,x;x=b;if(2!==R){R=2;p&&clearTimeout(p);d=void 0;k=n||"";h.readyState=0<a?4:0;n=200<=a&&300>a||304===a;if(l){f=r;for(var m=h,Q,B,A,E,C=f.contents,D=f.dataTypes;"*"===D[0];)D.shift(),void 0===Q&&(Q=f.mimeType||m.getResponseHeader("Content-Type"));if(Q)for(B in C)if(C[B]&&C[B].test(Q)){D.unshift(B);break}if(D[0]in l)A=D[0];else{for(B in l){if(!D[0]||f.converters[B+" "+D[0]]){A=B;break}E||(E=B)}A=A||E}A?(A!==
D[0]&&D.unshift(A),f=l[A]):f=void 0}a:{l=r;Q=f;B=h;A=n;var F,G,H,m={},C=l.dataTypes.slice();if(C[1])for(G in l.converters)m[G.toLowerCase()]=l.converters[G];for(E=C.shift();E;)if(l.responseFields[E]&&(B[l.responseFields[E]]=Q),!H&&A&&l.dataFilter&&(Q=l.dataFilter(Q,l.dataType)),H=E,E=C.shift())if("*"===E)E=H;else if("*"!==H&&H!==E){G=m[H+" "+E]||m["* "+E];if(!G)for(F in m)if(f=F.split(" "),f[1]===E&&(G=m[H+" "+f[0]]||m["* "+f[0]])){!0===G?G=m[F]:!0!==m[F]&&(E=f[0],C.unshift(f[1]));break}if(!0!==G)if(G&&
l["throws"])Q=G(Q);else try{Q=G(Q)}catch(L){f={state:"parsererror",error:G?L:"No conversion from "+H+" to "+E};break a}}f={state:"success",data:Q}}if(n)r.ifModified&&((x=h.getResponseHeader("Last-Modified"))&&(v.lastModified[g]=x),(x=h.getResponseHeader("etag"))&&(v.etag[g]=x)),204===a||"HEAD"===r.type?x="nocontent":304===a?x="notmodified":(x=f.state,s=f.data,z=f.error,n=!z);else if(z=x,a||!x)x="error",0>a&&(a=0);h.status=a;h.statusText=(b||x)+"";n?w.resolveWith(e,[s,x,h]):w.rejectWith(e,[h,x,z]);
h.statusCode(y);y=void 0;q&&t.trigger(n?"ajaxSuccess":"ajaxError",[h,r,n?s:z]);u.fireWith(e,[h,x]);q&&(t.trigger("ajaxComplete",[h,r]),--v.active||v.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var d,g,k,l,p,n,q,s,r=v.ajaxSetup({},b),e=r.context||r,t=r.context&&(e.nodeType||e.jquery)?v(e):v.event,w=v.Deferred(),u=v.Callbacks("once memory"),y=r.statusCode||{},z={},f={},R=0,x="canceled",h={readyState:0,getResponseHeader:function(a){var b;if(2===R){if(!l)for(l={};b=Eb.exec(k);)l[b[1].toLowerCase()]=
b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===R?k:null},setRequestHeader:function(a,b){var c=a.toLowerCase();R||(a=f[c]=f[c]||a,z[a]=b);return this},overrideMimeType:function(a){R||(r.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>R)for(b in a)y[b]=[y[b],a[b]];else h.always(a[h.status]);return this},abort:function(a){a=a||x;d&&d.abort(a);c(0,a);return this}};w.promise(h).complete=u.add;h.success=h.done;h.error=h.fail;r.url=((a||r.url||
na)+"").replace(Db,"").replace(Gb,ra[1]+"//");r.type=b.method||b.type||r.method||r.type;r.dataTypes=v.trim(r.dataType||"*").toLowerCase().match(fa)||[""];null==r.crossDomain&&(n=eb.exec(r.url.toLowerCase()),r.crossDomain=!(!n||n[1]===ra[1]&&n[2]===ra[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(ra[3]||("http:"===ra[1]?"80":"443"))));r.data&&r.processData&&"string"!==typeof r.data&&(r.data=v.param(r.data,r.traditional));N(fb,r,b,h);if(2===R)return h;(q=r.global)&&0===v.active++&&v.event.trigger("ajaxStart");
r.type=r.type.toUpperCase();r.hasContent=!Fb.test(r.type);g=r.url;r.hasContent||(r.data&&(g=r.url+=(Qa.test(g)?"&":"?")+r.data,delete r.data),!1===r.cache&&(r.url=db.test(g)?g.replace(db,"$1_="+Pa++):g+(Qa.test(g)?"&":"?")+"_="+Pa++));r.ifModified&&(v.lastModified[g]&&h.setRequestHeader("If-Modified-Since",v.lastModified[g]),v.etag[g]&&h.setRequestHeader("If-None-Match",v.etag[g]));(r.data&&r.hasContent&&!1!==r.contentType||b.contentType)&&h.setRequestHeader("Content-Type",r.contentType);h.setRequestHeader("Accept",
r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+gb+"; q=0.01":""):r.accepts["*"]);for(s in r.headers)h.setRequestHeader(s,r.headers[s]);if(r.beforeSend&&(!1===r.beforeSend.call(e,h,r)||2===R))return h.abort();x="abort";for(s in{success:1,error:1,complete:1})h[s](r[s]);if(d=N(Ma,r,b,h)){h.readyState=1;q&&t.trigger("ajaxSend",[h,r]);r.async&&0<r.timeout&&(p=setTimeout(function(){h.abort("timeout")},r.timeout));try{R=1,d.send(z,c)}catch(m){if(2>R)c(-1,m);
else throw m;}}else c(-1,"No Transport");return h},getJSON:function(a,b,c){return v.get(a,b,c,"json")},getScript:function(a,b){return v.get(a,void 0,b,"script")}});v.each(["get","post"],function(a,b){v[b]=function(a,c,d,g){v.isFunction(c)&&(g=g||d,d=c,c=void 0);return v.ajax({url:a,type:b,dataType:g,data:c,success:d})}});v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){v.fn[b]=function(a){return this.on(b,a)}});v._evalUrl=function(a){return v.ajax({url:a,
type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};v.fn.extend({wrapAll:function(a){var b;if(v.isFunction(a))return this.each(function(b){v(this).wrapAll(a.call(this,b))});this[0]&&(b=v(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return v.isFunction(a)?this.each(function(b){v(this).wrapInner(a.call(this,b))}):this.each(function(){var b=
v(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=v.isFunction(a);return this.each(function(c){v(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()}});v.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};v.expr.filters.visible=function(a){return!v.expr.filters.hidden(a)};var Hb=/%20/g,ob=/\[\]$/,hb=/\r?\n/g,Ib=/^(?:submit|button|image|reset|file)$/i,
Jb=/^(?:input|select|textarea|keygen)/i;v.param=function(a,b){var c,d=[],g=function(a,b){b=v.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(a)||a.jquery&&!v.isPlainObject(a))v.each(a,function(){g(this.name,this.value)});else for(c in a)V(c,a[c],b,g);return d.join("&").replace(Hb,"+")};v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=
v.prop(this,"elements");return a?v.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!v(this).is(":disabled")&&Jb.test(this.nodeName)&&!Ib.test(a)&&(this.checked||!Va.test(a))}).map(function(a,b){var c=v(this).val();return null==c?null:v.isArray(c)?v.map(c,function(a){return{name:b.name,value:a.replace(hb,"\r\n")}}):{name:b.name,value:c.replace(hb,"\r\n")}}).get()}});v.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Kb=0,Ka={},Lb={0:200,1223:204},Ca=
v.ajaxSettings.xhr();if(e.ActiveXObject)v(e).on("unload",function(){for(var a in Ka)Ka[a]()});W.cors=!!Ca&&"withCredentials"in Ca;W.ajax=Ca=!!Ca;v.ajaxTransport(function(a){var b;if(W.cors||Ca&&!a.crossDomain)return{send:function(c,d){var g,k=a.xhr(),l=++Kb;k.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(g in a.xhrFields)k[g]=a.xhrFields[g];a.mimeType&&k.overrideMimeType&&k.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");
for(g in c)k.setRequestHeader(g,c[g]);b=function(a){return function(){b&&(delete Ka[l],b=k.onload=k.onerror=null,"abort"===a?k.abort():"error"===a?d(k.status,k.statusText):d(Lb[k.status]||k.status,k.statusText,"string"===typeof k.responseText?{text:k.responseText}:void 0,k.getAllResponseHeaders()))}};k.onload=b();k.onerror=b("error");b=Ka[l]=b("abort");try{k.send(a.hasContent&&a.data||null)}catch(p){if(b)throw p;}},abort:function(){b&&b()}}});v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){v.globalEval(a);return a}}});v.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});v.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,g){b=v("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&g("error"===a.type?404:200,a.type)});T.head.appendChild(b[0])},abort:function(){c&&c()}}}});
var ib=[],Ra=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ib.pop()||v.expando+"_"+Pa++;this[a]=!0;return a}});v.ajaxPrefilter("json jsonp",function(a,b,c){var d,g,k,l=!1!==a.jsonp&&(Ra.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ra.test(a.data)&&"data");if(l||"jsonp"===a.dataTypes[0])return d=a.jsonpCallback=v.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l?a[l]=a[l].replace(Ra,"$1"+
d):!1!==a.jsonp&&(a.url+=(Qa.test(a.url)?"&":"?")+a.jsonp+"="+d),a.converters["script json"]=function(){k||v.error(d+" was not called");return k[0]},a.dataTypes[0]="json",g=e[d],e[d]=function(){k=arguments},c.always(function(){e[d]=g;a[d]&&(a.jsonpCallback=b.jsonpCallback,ib.push(d));k&&v.isFunction(g)&&g(k[0]);k=g=void 0}),"script"});v.parseHTML=function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||T;var d=ya.exec(a);c=!c&&[];if(d)return[b.createElement(d[1])];
d=v.buildFragment([a],b,c);c&&c.length&&v(c).remove();return v.merge([],d.childNodes)};var jb=v.fn.load;v.fn.load=function(a,b,c){if("string"!==typeof a&&jb)return jb.apply(this,arguments);var d,g,k,l=this,p=a.indexOf(" ");0<=p&&(d=v.trim(a.slice(p)),a=a.slice(0,p));v.isFunction(b)?(c=b,b=void 0):b&&"object"===typeof b&&(g="POST");0<l.length&&v.ajax({url:a,type:g,dataType:"html",data:b}).done(function(a){k=arguments;l.html(d?v("<div>").append(v.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){l.each(c,
k||[a.responseText,b,a])});return this};v.expr.filters.animated=function(a){return v.grep(v.timers,function(b){return a===b.elem}).length};var kb=e.document.documentElement;v.offset={setOffset:function(a,b,c){var d,g,k,l=v.css(a,"position"),p=v(a),n={};"static"===l&&(a.style.position="relative");k=p.offset();g=v.css(a,"top");d=v.css(a,"left");("absolute"===l||"fixed"===l)&&-1<(g+d).indexOf("auto")?(d=p.position(),g=d.top,d=d.left):(g=parseFloat(g)||0,d=parseFloat(d)||0);v.isFunction(b)&&(b=b.call(a,
c,k));null!=b.top&&(n.top=b.top-k.top+g);null!=b.left&&(n.left=b.left-k.left+d);"using"in b?b.using.call(a,n):p.css(n)}};v.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){v.offset.setOffset(this,a,b)});var b,c;c=this[0];var d={top:0,left:0},g=c&&c.ownerDocument;if(g){b=g.documentElement;if(!v.contains(b,c))return d;"undefined"!==typeof c.getBoundingClientRect&&(d=c.getBoundingClientRect());c=S(g);return{top:d.top+c.pageYOffset-b.clientTop,left:d.left+
c.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};"fixed"===v.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),v.nodeName(a[0],"html")||(d=a.offset()),d.top+=v.css(a[0],"borderTopWidth",!0),d.left+=v.css(a[0],"borderLeftWidth",!0));return{top:b.top-d.top-v.css(c,"marginTop",!0),left:b.left-d.left-v.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||kb;a&&!v.nodeName(a,
"html")&&"static"===v.css(a,"position");)a=a.offsetParent;return a||kb})}});v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;v.fn[a]=function(d){return ma(this,function(a,d,g){var k=S(a);if(void 0===g)return k?k[b]:a[d];k?k.scrollTo(c?e.pageXOffset:g,c?g:e.pageYOffset):a[d]=g},a,d,arguments.length,null)}});v.each(["top","left"],function(a,b){v.cssHooks[b]=h(W.pixelPosition,function(a,c){if(c)return c=R(a,b),La.test(c)?v(a).position()[b]+"px":c})});v.each({Height:"height",
Width:"width"},function(a,b){v.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){v.fn[d]=function(d,g){var k=arguments.length&&(c||"boolean"!==typeof d),l=c||(!0===d||!0===g?"margin":"border");return ma(this,function(b,c,d){return v.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===d?v.css(b,c,l):v.style(b,c,d,l)},b,k?d:void 0,k,null)}})});v.fn.size=
function(){return this.length};v.fn.andSelf=v.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return v});var Mb=e.jQuery,Nb=e.$;v.noConflict=function(a){e.$===v&&(e.$=Nb);a&&e.jQuery===v&&(e.jQuery=Mb);return v};"undefined"===typeof f&&(e.jQuery=e.$=v);return v});f("js!lib:jquery-2.1.1.js",[],function(){return null});(function(e,f,h){e("1a",["js!lib:jquery-2.1.1.js"],function(){return jQuery.noConflict(!0)})})(f,h,m);(function(e,f,h){e("1f",["1a","8"],function(b,d){return{clone:function(b){return d.foldl(b.dom().attributes,
function(a,b){a[b.nodeName]=void 0===b.value?b.nodeValue:b.value;return a},{})},set:function(c,a,d){c=c.dom();b(c).attr(a,d)},setAll:function(c,a){var d=c.dom();b(d).attr(a)},get:function(c,a){var d=c.dom();return b(d).attr(a)},has:function(c,a){var d=c.dom(),d=b(d).attr(a);return void 0!==d&&null!==d},remove:function(c,a){var d=c.dom();b(d).removeAttr(a)},hasNone:function(b){b=b.dom().attributes;return void 0===b||null===b||0===b.length}}})})(f,h,m);(function(e,f,h){e("1k",["3","1f"],function(b,
d){return{withOptions:function(c,a){return d.has(c,"tabindex")?b.deepMerge(a,{content:{tabindex:d.get(c,"tabindex")}}):a}}})})(f,h,m);(function(e,f,h){e("2i",[],function(){return"undo insert style emphasis align listindent format tools".split(" ")})})(f,h,m);(function(e,f,h){e("4c",["8"],function(b){var d=function(b){return b.replace(/\./g,"-")};return{create:function(c){var a=d(c);return{resolve:function(c){c=c.split(" ");return b.map(c,function(b){return a+"-"+b}).join(" ")}}},cssNamespace:d,cssClass:function(b,
a){return b+"-"+a}}})})(f,h,m);(function(e,f,h){e("3u",["4c"],function(b){return{resolve:b.create("ephox-polish").resolve}})})(f,h,m);(function(e,f,h){e("r",[],function(){var b=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(a[c],c,a)},d=function(a,c){var d={};b(a,function(b,n){var q=c(b,n,a);d[q.k]=q.v});return d},c=function(a,c){var d=[];b(a,function(a,b){d.push(c(a,b))});return d},a=function(a){return c(a,function(a,b){return a})};return{bifilter:function(a,c){var d={},l={};b(a,function(a,
b){(c(a,b)?d:l)[b]=a});return{t:d,f:l}},each:b,map:function(a,b){return d(a,function(a,c,d){return{k:c,v:b(a,c,d)}})},mapToArray:c,tupleMap:d,find:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(b(d,c,a))return d}},keys:function(a){return c(a,function(a,b){return b})},values:a,size:function(b){return a(b).length}}})})(f,h,m);(function(e,f,h){e("2m",["8","r","g"],function(b,d,c){return{product:function(a,g){return{nu:function(){var d=Array.prototype.slice.call(arguments);if(a.length!==
d.length)throw'Wrong number of arguments to struct. Expected "['+a.length+']", got '+d.length+" arguments";var g={};b.each(a,function(a,b){g[a]=c.constant(d[b])});return g},eq:function(b,d){for(var l=0;l<a.length;l++){var n=a[l];if(!(g&&g[l]||c.tripleEquals)(b[n](),d[n]()))return!1}return!0},evaluate:function(a){return d.map(a,function(a){return a()})}}}}})})(f,h,m);(function(e,f,h){e("2l",["2m"],function(b){return function(){return b.product(arguments).nu}})})(f,h,m);(function(e,f,h){e("2a",["2l",
"2m"],function(b,d){return{immutable:b,immutable2:d}})})(f,h,m);(function(e,f,h){e("28",["8","2a"],function(b,d){return function(c){var a=d.immutable.apply(null,c),g=[];return{bind:function(a){if(void 0===a)throw"Event bind error: undefined handler";g.push(a)},unbind:function(a){a=b.indexOf(g,a);-1!==a&&g.splice(a,1)},trigger:function(){var c=a.apply(null,arguments);b.each(g,function(a){a(c)})}}}})})(f,h,m);(function(e,f,h){e("29",["r"],function(b){return{create:function(d){var c=b.map(d,function(a){return{bind:a.bind,
unbind:a.unbind}});d=b.map(d,function(a){return a.trigger});return{registry:c,trigger:d}}}})})(f,h,m);(function(e,f,h){e("2d",[],function(){return function(b,d,c){var a=c||!1,g=function(){d();a=!0},k=function(){b();a=!1};return{on:g,off:k,toggle:function(){a?k():g()},isOn:function(){return a}}}})})(f,h,m);(function(e,f,h){e("40",["1a","g","2d","1f"],function(b,d,c,a){var g=function(a,c){var d=a.dom();b(d).addClass(c)},k=function(a,c){var d=a.dom();b(d).removeClass(c)},p=function(a,c){var d=a.dom();
return b(d).hasClass(c)};return{add:g,remove:k,toggle:function(a,c){var d=a.dom();b(d).toggleClass(c)},toggler:function(a,b){var q=d.curry(k,a,b),s=d.curry(g,a,b);return c(q,s,p(a,b))},has:p,set:function(b,c){a.set(b,"class",c)}}})})(f,h,m);(function(e,f,h){e("4h",["8","1f","40"],function(b,d,c){return{add:function(a,d){b.each(d,function(b){c.add(a,b)})},remove:function(a,d){b.each(d,function(b){c.remove(a,b)})},toggle:function(a,d){b.each(d,function(b){c.toggle(a,b)})},hasAll:function(a,d){return b.forall(d,
function(b){return c.has(a,b)})},hasAny:function(a,d){return b.exists(d,function(b){return c.has(a,b)})},get:function(a){return d.get(a,"class").split(" ")},set:function(a,b){return d.set(a,"class",b.join(" "))}}})})(f,h,m);f("global!window",[],function(){return window});(function(e,f,h){e("1q",["g","j","global!Array","global!document","global!window"],function(b,d,c,a,g){var k=function(a,c,d,g,k,l,p){return{target:b.constant(a),x:b.constant(c),y:b.constant(d),stop:g,prevent:k,kill:l,raw:b.constant(p)}},
p=function(a){return function(c){var l=c||g.event,l=d.fromDom(l.target||l.srcElement),p=void 0!==c.x?c.x:c.clientX,n=void 0!==c.y?c.y:c.clientY,q=function(){c&&c.stopPropagation()},s=function(){c&&c.preventDefault()},r=b.compose(s,q),l=k(l,p,n,q,s,r,c);a(l)}},l=function(a,b,c){a.attachEvent("on"+b,c)},n=function(a,b,c){a.detachEvent("on"+b,c)},q=function(a,b,c){a.fireEvent("on"+b,c)},s=function(a,b,c){a.addEventListener(b,c,!1)},r=function(a,b,c){a.removeEventListener(b,c,!1)},e=function(a,b,c){a.dispatchEvent(c)},
w=function(a,b,c){a=a.dom();(a.removeEventListener?r:n)(a,b,c)};return{bind:function(a,c,d){var g=a.dom(),k=g.addEventListener?s:l;d=p(d);k(g,c,d);return{unbind:b.curry(w,a,c,d)}},trigger:function(b,c,d){(a.createEvent?e:q)(b,c,d)}}})})(f,h,m);(function(e,f,h){e("2b",[],function(){return{toArray:function(b){if(void 0===b||null===b)return[];for(var d=[],c=0;c<b.length;c++)d.push(b[c]);return d}}})})(f,h,m);(function(e,f,h){e("2c",[],function(){return{toArray:function(b,d){var c=[],a=function(a){c.push(a);
return d(a)},g=d(b);do g=g.bind(a);while(g.isSome());return c}}})})(f,h,m);(function(e,f,h){e("q",["1a","8","g"],function(b,d,c){var a=function(a,b){return a.dom()===b.dom()};return{eq:a,member:function(b,k){return d.exists(k,c.curry(a,b))},is:function(a,c){return b(a.dom()).is(c)}}})})(f,h,m);(function(e,f,h){e("1r","8 t 2a 2b 2c q j".split(" "),function(b,d,c,a,g,k,p){var l=function(a){a=a.dom();return d.from(a.parentNode).map(p.fromDom)},n=function(a){return l(a).fold(function(){return[]},function(a){return[a].concat(n(a))})},
q=function(a){a=a.dom();return d.from(a.previousSibling).map(p.fromDom)},s=function(a){a=a.dom();return d.from(a.nextSibling).map(p.fromDom)},r=function(c){c=c.dom();c=a.toArray(c.childNodes);return b.map(c,p.fromDom)},e=function(a,b){var c=a.dom().childNodes;return d.from(c[b]).map(p.fromDom)},w=c.immutable("element","offset");return{owner:function(a){return p.fromDom(a.dom().ownerDocument)},parent:l,findIndex:function(a){return l(a).bind(function(c){c=r(c);c=b.findIndex(c,function(b){return k.eq(a,
b)});return-1<c?d.some(c):d.none()})},parents:n,siblings:function(a){return l(a).map(r).map(function(c){return b.filter(c,function(b){return!k.eq(a,b)})}).getOr([])},prevSibling:q,prevSiblings:function(a){return b.reverse(g.toArray(a,q))},nextSibling:s,nextSiblings:function(a){return g.toArray(a,s)},children:r,child:e,firstChild:function(a){return e(a,0)},lastChild:function(a){return e(a,a.dom().childNodes.length-1)},leaf:function(a,b){var c=r(a);return 0<c.length&&b<c.length?w(c[b],0):w(a,b)}}})})(f,
h,m);(function(e,f,h){e("1g",["1r"],function(b){var d=function(a,c){b.parent(a).each(function(b){b.dom().insertBefore(c.dom(),a.dom())})},c=function(a,b){a.dom().appendChild(b.dom())};return{before:d,after:function(a,g){b.nextSibling(a).fold(function(){b.parent(a).each(function(a){c(a,g)})},function(a){d(a,g)})},prepend:function(a,d){b.firstChild(a).fold(function(){c(a,d)},function(b){a.dom().insertBefore(d.dom(),b.dom())})},append:c,appendAt:function(a,g,k){b.child(a,k).fold(function(){c(a,g)},function(a){d(a,
g)})},wrap:function(a,b){d(a,b);c(b,a)}}})})(f,h,m);(function(e,f,h){e("2e",["8","1g"],function(b,d){return{before:function(c,a){b.each(a,function(a){d.before(c,a)})},after:function(c,a){b.each(a,function(b,k){d.after(0==k?c:a[k-1],b)})},prepend:function(c,a){b.each(a.slice().reverse(),function(a){d.prepend(c,a)})},append:function(c,a){b.each(a,function(a){d.append(c,a)})}}})})(f,h,m);(function(e,f,h){e("1s",["1a","2e","1r"],function(b,d,c){var a=function(a){b(a.dom()).remove()};return{empty:function(a){b(a.dom()).empty()},
remove:a,detach:function(a){b(a.dom()).detach()},unwrap:function(b){var k=c.children(b);0<k.length&&d.before(b,k);a(b)}}})})(f,h,m);(function(e,f,h){e("47","3u 28 29 40 4h 1q j 1g 2e 1s".split(" "),function(b,d,c,a,g,k,p,l,n,q){return function(s,r){r=r||"info";var e=p.fromTag("div");g.add(e,[b.resolve("banner"),b.resolve("banner-"+r)]);var w=p.fromTag("div");a.add(w,b.resolve("banner-message"));l.append(w,p.fromText(s));var u=p.fromTag("div");a.add(u,b.resolve("banner-buttons"));var y=p.fromTag("span");
a.add(y,b.resolve("banner-close"));l.append(u,y);n.append(e,[w,u]);var z=k.bind(y,"click",function(){f.trigger.close()}),f=c.create({close:d([])});return{element:function(){return e},action:function(a){l.prepend(u,a.element())},destroy:function(){z.unbind();q.remove(e)},events:f.registry}}})})(f,h,m);(function(e,f,h){e("3r","g t 47 1f 1q j 1g global!window".split(" "),function(b,d,c,a,g,k,p,l){return function(n){var q=n.description();n=n.link();var s=c(q,"error"),r=d.none(),e=function(a,b){return g.bind(a,
"click",function(){l.open(b.url())})},q=function(c){var g=k.fromTag("a");a.set(g,"href",c.url());a.set(g,"target","_blank");var l=k.fromText(c.text());r=d.some(e(g,c));p.append(g,l);s.action({element:b.constant(g)})};null!==n&&n.url()&&n.text()&&q(n);return{element:s.element,action:s.action,destroy:function(){s.destroy();r.each(function(a){a.unbind()})},events:s.events}}})})(f,h,m);(function(e,f,h){e("1n",[],function(){var b=0;return{generate:function(d){var c=(new Date).getTime(),a=Math.floor(1E9*
Math.random());b++;return d+"_"+a+b+String(c)}}})})(f,h,m);(function(e,f,h){e("3v",["7"],function(b){return{isEmpty:function(d){return null===d||void 0===d||""===d||b.isArray(d)&&0===d.length},isDefined:function(b){return void 0!==b}}})})(f,h,m);(function(e,f,h){e("4b",["1n","3v","1f"],function(b,d,c){return{editor:function(a){c.set(a,"role","application");var d=b.generate("");c.set(a,"aria-label","Textbox.io Rich Text Editor - "+d)},toolbar:function(a){c.set(a,"role","toolbar");c.set(a,"aria-label",
"Rich Text Editor Toolbar")},toolbarGroup:function(a,b){d.isEmpty(b)||c.set(a,"aria-label",b)},toolbarButton:function(a,b,d,p){c.set(a,"role","button");c.set(a,"aria-label",b);p&&c.set(a,"aria-pressed","false");c.set(a,"aria-haspopup",""+d);d&&c.set(a,"aria-expanded","false")},menu:function(a,b){c.set(a,"role","menu");c.set(a,"aria-label",b)},menuItem:function(a,b,d){c.set(a,"role","menuitem");c.set(a,"aria-label",b);c.set(a,"aria-haspopup",!0===d?"true":"false")},dialog:function(a,b){c.set(a,"role",
"dialog");c.set(a,"aria-label",b)},input:function(a,b,d){c.set(a,"aria-label",b)}}})})(f,h,m);(function(e,f,h){e("bz",["8","t"],function(b,d){var c=function(a,c,k){return a.generated?d.some([a.generated]):a.feature.map(function(d){var l=c[a.type];if(void 0===l)throw"No generator for: "+a.type;return b.map(void 0!==a.commands?a.commands:[a.command],function(a){return l.apply(null,k.concat([d[a]()]))})})};return{generate:function(a,d,k){return b.bind(a,function(a){return c(a,d,k).getOr([])})}}})})(f,
h,m);(function(e,f,h){e("cn",["4c"],function(b){return{resolve:b.create("ephox-gopher").resolve}})})(f,h,m);(function(e,f,h){e("1t",["1a","j","global!document"],function(b,d,c){var a=function(a){var b=[];a.each(function(){b.push(d.fromDom(this))});return b};return{all:function(c){c=b(c);return a(c)},ancestors:function(c,d){var p=b(c.dom()).parents(d);return a(p)},siblings:function(c,d){var p=b(c.dom()).siblings(d);return a(p)},children:function(c,d){var p=b(c.dom()).children(d);return a(p)},descendants:function(c,
d){var p=b(c.dom()).find(d);return a(p)}}})})(f,h,m);(function(e,f,h){e("1w",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}})})(f,h,m);(function(e,f,h){e("14",["1w"],function(b){var d=function(a){return a.dom().nodeName.toLowerCase()},c=function(a){return a.dom().nodeType},a=function(a){return function(b){return c(b)===a}},g=a(b.ELEMENT),k=a(b.TEXT),a=a(b.DOCUMENT);
return{name:d,type:c,value:function(a){return a.dom().nodeValue},isElement:g,isText:k,isDocument:a,isComment:function(a){return c(a)===b.COMMENT||"#comment"===d(a)}}})})(f,h,m);(function(e,f,h){e("1u",["1a","14"],function(b,d){return{is:function(c,a){var g=c.dom();return d.isText(c)?!1:void 0!==g.matches?g.matches(a):void 0!==g.msMatchesSelector?g.msMatchesSelector(a):void 0!==g.mozMatchesSelector?g.mozMatchesSelector(a):void 0!==g.webkitMatchesSelector?g.webkitMatchesSelector(a):b(g).is(a)}}})})(f,
h,m);(function(e,f,h){e("1h",["t","1t","1u"],function(b,d,c){var a=function(a,c){return b.from(d.ancestors(a,c)[0])};return{first:function(a){return b.from(d.all(a)[0])},ancestor:a,sibling:function(a,c){return b.from(d.siblings(a,c)[0])},child:function(a,c){return b.from(d.children(a,c)[0])},descendant:function(a,c){return b.from(d.descendants(a,c)[0])},closest:function(d,k){return c.is(d,k)?b.some(d):a(d,k)}}})})(f,h,m);(function(e,f,h){e("ha",["cn","t","40","1t","1h"],function(b,d,c,a,g){return function(k){var p=
b.resolve(k);return{set:function(a){c.add(a,p)},up:function(a){return c.has(a,p)?d.some(a):g.ancestor(a,"."+p)},all:function(b){return a.descendants(b,"."+p)},first:function(a){return g.descendant(a,"."+p)},is:function(a){return c.has(a,p)}}}})})(f,h,m);(function(e,f,h){e("co",["cn","ha","1f","40"],function(b,d,c,a){var g=d("item"),k=b.resolve("disabled-item"),p="data-"+b.resolve("item-value");return{set:function(a,b){g.set(a);c.set(a,p,b)},get:function(a){return c.get(a,p)},up:g.up,all:g.all,disable:function(b){a.add(b,
k)},enable:function(b){a.remove(b,k)},isEnabled:function(b){return!a.has(b,k)}}})})(f,h,m);(function(e,f,h){e("cp","8 cn ha co t 1f 40 1h".split(" "),function(b,d,c,a,g,k,p,l){var n=c("menu"),q="data-"+d.resolve("menu-value"),s=d.resolve("active-menu");return{set:function(a,b){n.set(a);k.set(a,q,b)},active:function(a){return l.descendant(a,"."+s)},inactive:function(a){a=n.all(a);return b.filter(a,function(a){return!p.has(a,s)})},activate:function(a,c){var d=n.all(a);b.each(d,function(a){p.remove(a,
s)});p.add(c,s)},up:n.up,all:n.all,submenu:function(b,c,d){d=a.get(d);return g.from(c[d]).bind(function(a){return l.descendant(b,"["+q+"="+a+"]")})}}})})(f,h,m);(function(e,f,h){e("cq",["ha","g"],function(b,d){var c=b("submenu"),a=b("main-menu");return{main:d.constant(a),submenu:d.constant(c)}})})(f,h,m);(function(e,f,h){e("80","8 cn co cp cq g 1f 40 j 1g 2e".split(" "),function(b,d,c,a,g,k,p,l,n,q,s){var r=function(a,b,d){c.set(d,b);p.set(d,"tabindex",-1);return d},e=function(a,b,c){var g=n.fromTag("li",
a.dom()),k=n.fromTag("span");l.add(k,d.resolve("item-text"));q.append(k,n.fromText(c));q.append(g,k);r(a,b,g);return g},w=function(a){a=n.fromTag("li",a.dom());l.add(a,d.resolve("separator"));return a},u=function(a,b){return"-"!==b.value()?e(a,b.value(),b.text()):w(a)},y=function(c,d,g){var l=n.fromTag("ol",c.dom());a.set(l,d);c=b.map(g,k.curry(u,c));s.append(l,c);return l};return{item:e,mainmenu:function(a,b,c){a=y(a,b,c);g.main().set(a);return a},submenu:function(a,b,c){a=y(a,b,c);g.submenu().set(a);
return a},widget:function(b,c){var d=n.fromTag("div",b.dom());a.set(d,c);g.submenu().set(d);return d},separator:w,custom:r,enableItem:c.enable,disableItem:c.disable}})})(f,h,m);(function(e,f,h){e("hb",[],function(){var b=function(b,c){if(void 0===b)throw"Cannot intersperse undefined";if(1>=b.length)return b;var a=[];a.push(b[0]);for(var g=1;g<b.length;g++)a.push(c()),a.push(b[g]);return a};return{intersperse:function(d,c){return b(d,function(){return c})},intersperseThunk:b,untabulate:function(b){var c=
[],a;for(a in b)if(Object.prototype.hasOwnProperty.call(b,a))for(var g=b[a],k=0;k<g.length;k++){var p=g[k];c[k]=c[k]||{};c[k][a]=p}return c},tabulate:function(b){for(var c={},a=0;a<b.length;a++){var g=b[a],k;for(k in g)if(Object.prototype.hasOwnProperty.call(g,k)){var p=g[k];Object.prototype.hasOwnProperty.call(c,k)||(c[k]=[]);c[k][a]=p}}return c}}})})(f,h,m);(function(e,f,h){e("81",["4c"],function(b){return{resolve:b.create("ephox-pastry").resolve}})})(f,h,m);(function(e,f,h){e("3q",["7","8","r",
"g","global!Array"],function(b,d,c,a,g){return{generate:function(a){if(!b.isArray(a))throw"cases must be an array";if(0===a.length)throw"there must be at least one case";var p={};d.each(a,function(d,n){var q=c.keys(d);if(1!==q.length)throw"one and only one name per case";var s=q[0],r=d[s];if(void 0!==p[s])throw"duplicate key detected:"+s;if("cata"===s)throw"cannot have a case named cata (sorry)";if(!b.isArray(r))throw"case arguments must be an array";p[s]=function(){var b=g.prototype.slice.call(arguments);
if(b.length!==r.length)throw"Wrong number of arguments to case "+s+". Expected "+r.length+" ("+r+"), got "+b.length;return{fold:function(){if(arguments.length!==a.length)throw"Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length;return arguments[n].apply(null,b)}}}});return p}}})})(f,h,m);f("global!console",[],function(){return console});(function(e,f,h){e("49",["7","g","3q","global!console"],function(b,d,c,a){var g={taptoedit:"Tap to edit","spelling.more":"More","insert.link":"Insert Hyperlink",
"insert.image":"Insert Image","insert.table":"Insert Table","insert.snippet":"Insert Snippet","block.normal":"Normal","block.p":"Paragraph","block.h1":"Heading 1","block.h2":"Heading 2","block.h3":"Heading 3","block.h4":"Heading 4","block.h5":"Heading 5","block.h6":"Heading 6","block.div":"Div","block.pre":"Pre","block.li":"List Item","block.td":"Cell","block.th":"Header Cell","block.styles":"Styles","block.label.inline":"Inline Styles","block.label.table":"Table Styles","block.label.line":"Line Styles",
"block.label.media":"Media Styles","block.label.list":"List Styles","block.label.link":"Link Styles","font.arial":"Arial","font.courier":"Courier New","font.comicsans":"Comic Sans MS","font.consolas":"Consolas","font.georgia":"Georgia","font.impact":"Impact","font.tahoma":"Tahoma","font.timesnr":"Times New Roman","font.trebuchet":"Trebuchet MS","font.verdana":"Verdana","font.menu":"Font Menu","font.face":"Typeface","font.size":"Size","font.coloroption":"Color","font.color":"Text","font.highlight":"Highlight",
"cog.login":"Log in","cog.logout":"Log out","cog.not-logged-in":"Not logged in","cog.spellcheck":"Spell Check","cog.capitalisation":"Capitalization","cog.autocorrect":"Autocorrect","cog.linkpreviews":"Link Previews","cog.help":"Help","cog.feedback":"Feedback","cog.user":"user: ","cog.menu":"Settings","banner.logged-in":"Logged in as: ","alignment.menu":"Alignment","alignment.left":"Align Left","alignment.center":"Align Center","alignment.right":"Align Right","alignment.justify":"Align Justify","block.dropdown":"Blocks",
"insert.emoticon":"Insert Emoticon","category.undo":"Undo and Redo group","category.insert":"Insert group","category.style":"Styles group","category.emphasis":"Formatting group","category.align":"Alignment group","category.listindent":"List and Indent group","category.format":"Font group","category.tools":"Tools group","action.undo":"Undo","action.redo":"Redo","action.bold":"Bold","action.italic":"Italic","action.underline":"Underline","action.strikethrough":"Strikethrough","action.removeformat":"Remove Formatting",
"action.bullist":"Unordered List","action.numlist":"Ordered List","action.indent":"Indent More","action.outdent":"Indent Less","action.blockquote":"Blockquote","action.fullscreen":"Full Screen","table.column-header":"Header Column","table.row-header":"Header Row","table.float":"Floating Alignment","float.none":"None","float.center":"Center","float.left":"Left","float.right":"Right","button.ok":"OK","button.cancel":"Cancel","table.border":"Border","border.on":"On","border.off":"Off","table.summary":"Summary",
"table.dialog":"Table Properties","paste.title":"Paste Formatting Options","paste.instructions":"Choose to keep or discard formatting information from pasted content.","paste.merge":"Keep Source Formatting","paste.clean":"Match Destination Formatting","insert.menu":"Insert","loading.wait":"Please wait...","toolbar.more":"More","mobile.backbutton":"Back","chameleon.back":"Back","error.no.spelling.service":"The spelling service was not found: ","error.no.imageupload.service":"The image upload service was not found: ",
"error.duplicate.code":"That snippet code is already taken.","error.duplicate.uuid":"That snippet uuid is already taken.","error.unknown.uuid":"The snippet uuid cannot be found","code.duplicate":"That snippet code is already taken.","error.imageupload":"Image failed to upload","error.invalid.toolbar.configuration":"The configuration for the toolbar is invalid","error.see.console":"See console for details.","fileupload.title":"Insert Images","fileupload.tablocal":"Local Files","fileupload.tabweburl":"Web URL",
"fileupload.dropimages":"Drop Images Here","fileupload.or":"or","fileupload.chooseimage":"Choose Image to Upload","fileupload.weburlhelp":"If your URL is correct, you'll see an image preview here. Large images may take a while to appear.","fileupload.invalid1":"We can't find an image at the URL you're using","fileupload.invalid2":"Check your url for typing errors","fileupload.invalid3":"Make sure the image that you are accessing is public and not password protected or on a private network","image.menu":"Insert Image",
"image.from-url":"Web Url","image.from-camera":"Camera Roll"},k=c.generate([{raw:["text"]},{key:["key"]}]),p=function(a){var b=g[a];if(void 0===b)throw"key "+a+" does not exist";return b};return{get:function(a){if(b.isString(a))throw"string passed to I18n.get:"+a;return a.fold(d.identity,p)},has:function(c){if(!b.isString(c))throw c.fold?a.error("object details were",c.fold(d.identity,d.identity)):a.error("object key was",c),"key was an object";return void 0!==g[c]},translate:p,raw:k.raw,key:function(a){if(void 0===
g[a])throw"key "+a+" does not exist";return k.key(a)},cata:function(a,b,c){return a.fold(b,c)}}})})(f,h,m);(function(e,f,h){e("4j","7 8 80 81 g t 49 40 j 1g".split(" "),function(b,d,c,a,g,k,p,l,n,q){var s=function(a,b){var c=d.find(a,function(a){return a.value()===b});return k.from(c)};return{updateDropdown:function(c,d,p,n,q){d.fold(c.clear,g.noop,function(d){q.fold(function(){(b.isString(d)?s(n,d):k.some(d)).each(c.select)},function(b){b=b(d);var g=a.resolve("arrow-righticon");l.add(b,g);c.selectElement(b)})});
p.fold(c.disable,g.noop,c.enable)},generateItem:function(a,b,d){return d.fold(function(){return c.item(a,b.value(),p.get(b.textkey()))},function(d){d=d(b);var g=n.fromTag("li",a.dom());q.append(g,d);return c.custom(a,b.value(),g)})},generateSeparator:function(a,b){var d=c.separator(a);q.append(d,n.fromText(p.get(b),a.dom()));return d}}})})(f,h,m);(function(e,f,h){e("u",["g"],function(b){return function(d,c,a){c=d.isiOS()&&-1!==a.search(/iPad/i);var g=d.isiOS()&&!c,k=d.isAndroid()&&3===d.version.major,
p=d.isAndroid()&&4===d.version.major;a=c||k||p&&-1===a.search(/mobile/i);k=(d=d.isiOS()||d.isAndroid())&&!a;return{isiPad:b.constant(c),isiPhone:b.constant(g),isTablet:b.constant(a),isPhone:b.constant(k),isTouch:b.constant(d)}}})})(f,h,m);(function(e,f,h){e("v",[],function(){return{create:function(b,d,c){return{browser:{current:b,version:d},os:{current:c}}}}})})(f,h,m);(function(e,f,h){e("1c",[],function(){var b=function(b){return function(){return b}};return{getter:b,attachGetters:function(d,c,a){for(var g=
0;g<a.length;g++)d["is"+a[g].name]=b(a[g].name===c)}}})})(f,h,m);(function(e,f,h){e("w",["1c"],function(b){return{create:function(d,c,a){var g=b.attachGetters,k={};k.current=c;k.version=a;g(k,k.current,d);return k}}})})(f,h,m);f("global!Math",[],function(){return Math});f("global!isFinite",[],function(){return isFinite});f("global!isNaN",[],function(){return isNaN});f("global!parseFloat",[],function(){return parseFloat});(function(e,f,h){e("1z",["global!Math","global!isFinite","global!isNaN","global!parseFloat"],
function(b,d,c,a){var g=function(a){return function(b,c){var d=typeof c;if(d!==a)throw b+" was not a "+a+". Was: "+c+" ("+d+")";}},k=g("string"),p=g("number"),l=function(a,c){p(a,c);if(c!==b.abs(c))throw a+" was not an integer. Was: "+c;};return{vString:k,vChar:function(a,b){k(a,b);if(1!==b.length)throw a+" was not a single char. Was: "+b;},vInt:l,vNat:function(a,b){l(a,b);if(0>b)throw a+" was not a natural number. Was: "+b;},pNum:function(b){return!c(a(b))&&d(b)}}})})(f,h,m);(function(e,f,h){e("1d",
["1z"],function(b){var d=function(a,b,c){return""===b?!0:a.length<b.length?!1:a.substr(c,c+b.length)===b},c=function(a){var b=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c};return function(){var c=b(arguments,function(a){return"string"===typeof a?a.toLowerCase():a});return a.apply(this,c)}},a=function(a,b){return d(a,b,0)},g=c(a),k=function(a,b){return d(a,b,a.length-b.length)},p=c(k),l=function(a,b){return a.substr(0,b)},n=function(a,b){return a.substr(a.length-b,a.length)},
q=function(a,b){return function(c,d){return a(c,d)?b(c,c.length-d.length):c}},s=q(a,n),q=q(k,l),r=function(a,b){return function(c,d){return a(c,d)?c:b(c,d)}},e=r(a,function(a,b){return b+a}),r=r(k,function(a,b){return a+b}),w=function(a,b){return-1!=a.indexOf(b)},u=c(w),y=function(a,b){return a===b},c=c(y),z=function(a){if(""===a)throw"head on empty string";return a.substr(0,1)},f=function(a){if(""===a)throw"tail on empty string";return a.substr(1,a.length-1)},h=function(a,c){b.vString("str",a);b.vNat("num",
c);for(var d="",g=0;g<c;g++)d+=a;return d},m=function(a){return function(c,d,g){b.vString("str",c);b.vChar("c",d);b.vNat("width",g);var k=c.length;return k>=g?c:a(c,h(d,g-k))}},x=m(function(a,b){return b+a}),m=m(function(a,b){return a+b});return{supplant:function(a,b){return a.replace(/\${([^{}]*)}/g,function(a,c){var d=b[c],g=typeof d;return"string"===g||"number"===g?d:a})},startsWith:a,startsWithIgnoringCase:g,endsWith:k,endsWithIgnoringCase:p,first:l,last:n,removeLeading:s,removeTrailing:q,ensureLeading:e,
ensureTrailing:r,trim:function(a){return a.replace(/^\s+|\s+$/g,"")},lTrim:function(a){return a.replace(/^\s+/g,"")},rTrim:function(a){return a.replace(/\s+$/g,"")},contains:w,containsIgnoringCase:u,htmlEncodeDoubleQuotes:function(a){return a.replace(/\"/gm,"&quot;")},equals:y,equalsIgnoringCase:c,head:z,repead:h,padLeft:x,padRight:m,toe:function(a){if(""===a)throw"toe on empty string";return a.substr(a.length-1,a.length)},tail:f,torso:function(a){if(""===a)throw"torso on empty string";return a.substr(0,
a.length-1)},capitalize:function(a){return""===a?a:z(a).toUpperCase()+f(a)}}})})(f,h,m);(function(e,f,h){e("x",["1d"],function(b){var d=b.contains,c=function(a){return function(b){return d(b,a)}},a=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/;return{create:function(b){var k=[{name:"ChromeFrame",versionRegexes:[/.*?chromeframe\/([0-9]+)\.([0-9]+).*/,a],search:function(a){return d(a,"chromeframe")?b():!1}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,a],search:function(a){return d(a,"chrome")&&
!d(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){var c=d(a,"msie")||d(a,"trident");return d(a,"chromeframe")?c&&!b():c}},{name:"Opera",versionRegexes:[a,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:c("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:c("firefox")},{name:"Safari",versionRegexes:[a],search:c("safari")},{name:"Envjs",versionRegexes:[/.*?envjs\/\ ?([0-9]+)\.([0-9]+).*/],
search:c("envjs")}],p=[{name:"Windows",search:c("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return d(a,"iphone")||d(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/]},{name:"Android",search:c("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:c("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:c("linux")},{name:"Solaris",search:c("sunos")},{name:"FreeBSD",search:c("freebsd")}];
return{browsers:k,oses:p}},chromeFrameChecker:function(){try{return!!new ActiveXObject("ChromeTab.ChromeFrame")}catch(a){return!1}}}})})(f,h,m);(function(e,f,h){e("y",[],function(){return{meetsSpec:function(b,d){var c=typeof b;if("boolean"===c)return!!b;if("object"===c)return c=b.minimum,d.major>c.major||d.major===c.major&&d.minor>=c.minor;throw"invalid spec";}}})})(f,h,m);(function(e,f,h){e("1e",[],function(){return{findOneInArrayOr:function(b,d,c){for(var a=0;a<b.length;a++){var g=b[a];if(c(g,a,
b))return g}return d}}})})(f,h,m);(function(e,f,h){e("z",["1e"],function(b){return{detect:function(d,c){var a=b.findOneInArrayOr,g=String(c).toLowerCase();return a(d,{name:void 0},function(a){return a.search(g)})}}})})(f,h,m);(function(e,f,h){e("10",[],function(){return{detectVersion:function(b,d){var c=String(d).toLowerCase(),a=b.versionRegexes;if(a){a:{for(var g=0;g<a.length;g++){var k=a[g];if(k.test(c)){a=k;break a}}a=void 0}c=a?{major:Number(c.replace(a,"$1")),minor:Number(c.replace(a,"$2"))}:
{major:0,minor:0}}else c={major:0,minor:0};return c}}})})(f,h,m);(function(e,f,h){e("k","u v w x y z 10".split(" "),function(b,d,c,a,g,k,p){var l=p.detectVersion,n=c.create,q=g.meetsSpec,s=k.detect,r=function(a,b,c,d){return a[b]?a[b][c]?q(a[b][c],d):!!a[b].All:!1},e=function(c,d){var g=a.create(d),k=g.browsers,g=g.oses,p=s(g,c),q=p.name,p=l(p,c),e=s(k,c),t=e.name,f=l(e,c),g=n(g,q,p),k=n(k,t,f),p=b(g,k,c);return{browser:k,os:g,deviceType:p,isSupported:function(a){return r(a,q,t,f)}}};return{Platform:d,
detect:function(){return e(navigator.userAgent,a.chromeFrameChecker)},doDetect:e,isSupported:r,isSupportedPlatform:function(a,b){var c=b.browser;return r(a,b.os.current,c.current,c.version)}}})})(f,h,m);(function(e,f,h){e("p8",["k","49"],function(b,d){var c=b.detect().os.isOSX()?["\u2318"]:["Ctrl"],a={blockquote:c+" + Shift + 9",bold:c+" + B",italic:c+" + I",underline:c+" + U",link:c+" + K",help:c+" + ?",snippet:c+" + J",fullscreen:c+" + Shift + F",indent:c+" + ]",outdent:c+" + [",undo:c+" + Z",redo:c+
" + Y"};return{get:function(b){var c=d.get(b);b=a[b];return void 0!==b?c+" ( "+b+" )":c},shortcut:function(b){return void 0!==a[b]?a[b]:""}}})})(f,h,m);(function(e,f,h){e("1p","1a 7 g t 2d 1f j 1d".split(" "),function(b,d,c,a,g,k,p,l){var n=function(a,c,d){a=a.dom();b(a).css(c,d)},q=function(a,c){var d=a.dom();return b(d).css(c)},s=function(b,c){var d=b.dom().style[c],g=b.dom().style.getPropertyValue(c);return(void 0!==g&&null!==g&&0<g.length?a.some(g):a.none()).orThunk(function(){return void 0!==
d&&null!==d&&0<d.length?a.some(d):a.none()})};return{copy:function(a,b){for(var c in a.dom().style){var g=a.dom().style[c];d.isString(g)&&n(b,c,g)}},set:n,setAll:function(a,c){var d=a.dom();b(d).css(c)},remove:function(a,b){var c=a.dom().style;void 0!==c&&null!==c&&void 0!==c.removeProperty&&(c.removeProperty(b),k.has(a,"style")&&""===l.trim(k.get(a,"style"))&&k.remove(a,"style"))},get:q,getExact:s,isValidValue:function(a,b,c){a=p.fromTag(a);n(a,b,c);return s(a,b).isSome()},toggler:function(a,b,d){var k=
q(a,b),k=c.curry(n,a,b,k);a=c.curry(n,a,b,d);return g(k,a,!1)}}})})(f,h,m);(function(e,f,h){e("p3","7 3u p8 40 4h 1p j 1g".split(" "),function(b,d,c,a,g,k,p,l){var n=function(a){var b=p.fromTag("span");g.add(b,["ephox-pastry-icon-content","ephox-polish-icon"].concat([a]));return[b]},q=function(a){var b=p.fromTag("span");g.add(b,["ephox-pastry-icon-content","ephox-polish-user-icon"]);k.setAll(b,{"background-image":"url("+a.icon+")"});return[b]},s=function(a){return n(!0===a.icon?"ephox-polish-"+a.value:
a.icon)};return{generate:n,generateFrom:function(a){return void 0===a.icon?[]:(b.isString(a.icon)?q:s)(a)},shortcut:function(b){if(void 0===b.shortcut)return[];b=!0===b.shortcut?c.shortcut(b.value):b.shortcut;var g=p.fromTag("span");a.add(g,d.resolve("menu-shortcut"));l.append(g,p.fromText(b));a.add(g,d.resolve("item-shortcut"));return[g]}}})})(f,h,m);(function(e,f,h){e("j3",["1f"],function(b){return{expanded:function(d){b.set(d,"aria-expanded","true")},collapsed:function(d){b.set(d,"aria-expanded",
"false")},pressed:function(d){var c=d.selected()?"true":"false";b.set(d.element(),"aria-pressed",c)},enable:function(d){b.set(d,"aria-disabled","false")},disable:function(d){b.set(d,"aria-disabled","true")}}})})(f,h,m);(function(e,f,h){e("p4",["80","g","j3","40"],function(b,d,c,a){var g=function(a){b.enableItem(a);c.enable(a)},k=function(a){b.disableItem(a);c.disable(a)};return{control:function(a){return{enable:d.curry(g,a),disable:d.curry(k,a)}},selected:function(b){return{deselect:d.curry(a.remove,
b,"ephox-pastry-toggle-list-item-selected"),select:d.curry(a.add,b,"ephox-pastry-toggle-list-item-selected"),selected:d.curry(a.has,b,"ephox-pastry-toggle-list-item-selected")}}}})})(f,h,m);(function(e,f,h){e("p2","80 g 4b p3 p4 49 3u 28 29 40 j 1g 2e 1s 1h global!document".split(" "),function(b,d,c,a,g,k,p,l,n,q,s,r,e,w,u,y){var f=s.fromDom(y),h=p.resolve("label-default"),m=function(d){var g=k.get(d.textkey),l=b.item(f,d.name+"-menu-trigger",g);q.add(l,"ephox-polish-menu-more");d=a.generate("ephox-polish-"+
d.name);e.prepend(l,d);c.menuItem(l,g,!0);return l};return function(a){var b=n.create({populate:l(["items"])}),c=m(a),p=function(a){a=s.fromText(a);e(a)},e=function(a){u.child(c,".ephox-gopher-item-text").each(function(b){w.empty(b);r.append(b,a);q.remove(b,h)})},t=g.control(c);return{element:d.constant(c),populate:function(a){b.trigger.populate(a)},select:function(a){p(k.get(a.textkey()))},selectElement:e,disable:t.disable,enable:t.enable,clear:function(){p(k.get(a.textkey));u.child(c,".ephox-gopher-item-text").each(function(a){q.add(a,
h)})},destroy:function(){w.remove(c)},events:b.registry}}})})(f,h,m);(function(e,f,h){e("lt","8 80 cn g 4j p2 28 29 1f 40 j 2e 1s global!document".split(" "),function(b,d,c,a,g,k,p,l,n,q,s,r,e,w){var u=s.fromDom(w),y="data-"+c.resolve("item-value"),f=function(c,d,k){d=b.bind(d,function(d){var k=b.map(d.items(),function(a){return g.generateItem(u,a,c.render)});return d.label().fold(a.constant(k),function(a){return[g.generateSeparator(u,a)].concat(k)})});e.empty(k);r.append(k,d)},h=function(a){a=d.submenu(u,
a+"-menu",[]);q.remove(a,"ephox-gopher-main-menu");q.add(a,"ephox-gopher-submenu");return a},m=function(a,b){var c=n.get(b,"data-ephox-gopher-menu-value"),d={};d[a.name+"-menu-trigger"]=c;return d};return{init:function(c,d){var g=d.dropdown(),q=h(g.name),s=m(g,q),r=k(g),e=l.create({done:p([])}),t={};b.each(g.values,function(a){t[a.value()]=function(a){a=n.get(a,y);e.trigger.done();g.action(a)}});r.events.populate.bind(function(a){f(g,a.items(),q)});var w=function(){g.updateDropdown({enable:r.enable,
disable:r.disable,select:r.select,clear:r.clear,selectElement:r.selectElement,populate:r.populate})};c.events.uiStale.bind(w);return{items:a.constant([r.element()]),structure:a.constant(s),submenus:a.constant([q]),refreshMenu:w,destroyer:function(){r.destroy()},handlers:a.constant(t),events:e.registry}}}})})(f,h,m);(function(e,f,h){e("lu","80 g 4b p3 p4 49 28 29 j 2e global!document".split(" "),function(b,d,c,a,g,k,p,l,n,q,s){var r=n.fromDom(s);return{general:function(n,s){var e=s.general(),y=k.get(e.textkey),
f=b.item(r,e.value,y);c.menuItem(f,y,!1);var h=g.control(f),m=!0===e.toggle?g.selected(f):{select:d.noop,deselect:d.noop,selected:d.constant(!1)},x=function(){e.updateGeneral({disable:h.disable,enable:h.enable,select:m.select,deselect:m.deselect,selected:m.selected})},y=l.create({done:p([])}),A={};A[e.value]=function(){e.action();x()};var C=a.generateFrom(e);q.prepend(f,C);return{items:d.constant([f]),structure:d.constant({}),submenus:d.constant([]),refreshMenu:x,handlers:d.constant(A),destroyer:d.identity,
events:y.registry,spook:e}}}})})(f,h,m);(function(e,f,h){e("lz",["40","1p","1h"],function(b,d,c){var a=function(a,c){b.add(a,"ephox-polish-user-icon");d.setAll(a,{"background-image":"url("+c+")"})};return{setUrl:a,findAndSetUrl:function(b,d){c.descendant(b,".ephox-pastry-icon-content").each(function(b){a(b,d)})}}})})(f,h,m);(function(e,f,h){e("lv","7 80 3 g 4b lz p3 p4 49 1f 40 1p j 2e global!document".split(" "),function(b,d,c,a,g,k,p,l,n,q,s,r,e,w,u){var y=e.fromDom(u),f=function(a){var b=a.element();
g.menu(b,n.get(a.textkey()));s.remove(b,"ephox-gopher-main-menu");s.add(b,"ephox-gopher-submenu");return b},h=function(a){var b=n.get(a.textkey());a=d.item(y,a.name()+"-menu-trigger",b);s.add(a,"ephox-polish-menu-more");g.menuItem(a,b,!0);return a};return{nested:function(b,d){var g=d.menu(),n=f(g),s=q.get(n,"data-ephox-gopher-menu-value"),r=h(g),e={};e[g.name()+"-menu-trigger"]=s;var s=c.merge(e,g.structure()),t=p.generate("ephox-polish-"+g.name());w.prepend(r,t);g.icon().each(function(a){0<t.length&&
k.setUrl(t[0],a)});var u=l.control(r);return{items:a.constant([r]),structure:a.constant(s),submenus:a.constant([n].concat(g.submenus())),refreshMenu:function(){g.updateMenu({enable:u.enable,disable:u.disable})},destroyer:g.destroyer||a.noop,handlers:g.handlers,events:g.events}}}})})(f,h,m);(function(e,f,h){e("lw","80 g 4b p3 p4 49 3u 40 4h j 1g 2e global!document".split(" "),function(b,d,c,a,g,k,p,l,n,q,s,r,e){var w=q.fromDom(e),u=function(a,c){var d=b.widget(w,c);s.append(d,a.element());n.add(a.element(),
["ephox-polish-menu-widget","ephox-gopher-item"]);return d},y=function(c,d){var g=k.get(c.textkey()),g=b.item(w,d,g);l.add(g,"ephox-polish-menu-more");var n=a.generate(p.resolve(d));r.prepend(g,n);return g};return{widget:function(a,b){var l=b.widget(),p=l.name(),n=p+"-submenu",q=u(l,n),s=y(l,p),r=g.control(s),e={};e[p]=n;c.menuItem(s,k.get(l.textkey()),!0);return{items:d.constant([s]),structure:d.constant(e),submenus:d.constant([q]),refreshMenu:function(){l.updateWidget({enable:r.enable,disable:r.disable})},
destroyer:l.destroy,handlers:d.constant({}),events:l.events}},inline:function(a,l){var p=l.widget(),n=p.name(),r=q.fromTag("li");s.append(r,p.element());var n=b.custom(w,n,r),e=g.control(n);c.menuItem(n,k.get(p.textkey()),!1);return{items:d.constant([n]),structure:d.constant({}),submenus:d.constant([]),refreshMenu:function(){p.updateInlineWidget({enable:e.enable,disable:e.disable})},destroyer:p.destroy,handlers:d.constant({}),events:p.events}}}})})(f,h,m);(function(e,f,h){e("hc",["lt","lu","lv","lw"],
function(b,d,c,a){return{widget:a.widget,menu:c.nested,general:d.general,"inline-widget":a.inline,dropdown:b.init}})})(f,h,m);(function(e,f,h){e("hd",["8","3","g","28","29"],function(b,d,c,a,g){return{consolidate:function(k,p){var l=g.create({done:a([])}),n=b.foldr(p,function(a,b){var c=d.merge(b.structure(),a.structures),g=b.submenus().concat(a.submenus),k=d.merge(b.handlers(),a.actions),p=[b.refreshMenu].concat(a.refreshMenu),n=[b.destroyer].concat(a.destroyers);b.events.done.bind(function(){l.trigger.done()});
return{structures:c,submenus:g,refreshMenu:p,actions:k,destroyers:n}},{structures:{},submenus:[],actions:{},refreshMenu:[],destroyers:[]});return{structure:c.constant(n.structures),init:function(){b.each(n.refreshMenu,c.apply)},name:c.constant(k),handlers:c.constant(n.actions),submenus:c.constant(n.submenus),destroy:function(){b.each(n.destroyers,c.apply)},events:l.registry}}}})})(f,h,m);(function(e,f,h){e("c0","8 80 hb g t bz hc hd j 2e global!document".split(" "),function(b,d,c,a,g,k,p,l,n,q,s){var r=
function(a,c){var d=b.flatten(c);return l.consolidate(a,d)},e=function(a){return b.map(a,function(a){a=b.map(a,function(a){return a.items()});return b.flatten(a)})},w=function(l,y,f,h,m,x){var A=b.map(h,function(a){a=b.map(a.items,function(a){return"submenu"===a.type?w(a.name,a.textkey,g.from(a.icon),a.commands,m,x):a});return k.generate(a,p,[m])});h=e(A);var C=r(l,A),D=n.fromDom(s);l=d.mainmenu(D,l,[]);h=c.intersperseThunk(h,function(){return d.separator(D)});q.append(l,b.flatten(h));y={element:a.constant(l),
structure:C.structure,init:C.init,name:C.name,icon:a.constant(f),textkey:a.constant(y),label:a.constant(!1),handlers:C.handlers,submenus:C.submenus,updateMenu:function(a){C.init();m.getSelection().fold(function(){!1!==x?a.disable():a.enable()},a.enable)},destroy:C.destroy,events:C.events,contentFocus:a.constant(x)};f={generated:a.constant({menu:a.constant(y)})};return{feature:g.some(f),type:"menu",command:"generated",menu:a.constant(y)}};return{build:w}})})(f,h,m);(function(e,f,h){e("7j",[],function(){var b=
function(b){return function(){return b}};return{BACKSPACE:b([8]),TAB:b([9]),ENTER:b([13]),SHIFT:b([16]),CTRL:b([17]),ALT:b([18]),CAPSLOCK:b([20]),ESCAPE:b([27]),SPACE:b([32]),PAGEUP:b([33]),PAGEDOWN:b([34]),END:b([35]),HOME:b([36]),LEFT:b([37]),UP:b([38]),RIGHT:b([39]),DOWN:b([40]),INSERT:b([45]),DEL:b([46]),META:b([91,93,224]),F10:b([121])}})})(f,h,m);(function(e,f,h){e("c4",["8","7j","28","29","1q"],function(b,d,c,a,g){return{relate:function(k){var p=a.create({executed:c([])}),l=g.bind(k.element(),
"keydown",function(a){var c=d.SPACE().concat(d.ENTER());b.contains(c,a.raw().which)&&(k.click(),a.prevent(),p.trigger.executed())});return{destroy:function(){l.unbind()},events:p.registry}}}})})(f,h,m);(function(e,f,h){e("b4",["81","40","j","1g","1s"],function(b,d,c,a,g){return function(k){var p=c.fromTag("span");d.add(p,b.resolve("text-content"));a.append(p,c.fromText(k));return{element:function(){return p},destroy:function(){g.remove(p)}}}})})(f,h,m);(function(e,f,h){e("p5","b4 81 4h j 1g 1s".split(" "),
function(b,d,c,a,g,k){return function(p,l){var n=a.fromTag("span");c.add(n,[d.resolve("righticon-content"),l]);var q=b(p);g.append(n,q.element());return{element:function(){return n},destroy:function(){q.destroy();k.remove(n)}}}})})(f,h,m);(function(e,f,h){e("f1",["1f","1p","1q"],function(b,d,c){return{disable:function(a){b.set(a,"unselectable","on");d.setAll(a,{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none"});a.dom().style.setProperty("-moz-user-select","-moz-none");c.bind(a,
"onselectstart",function(){return!1})}}})})(f,h,m);(function(e,f,h){e("b3","k f1 81 28 29 40 1q j 1g 1s global!window".split(" "),function(b,d,c,a,g,k,p,l,n,q,s){return function(s){var e=l.fromTag("span");k.add(e,c.resolve("button"));d.disable(e);var w=null,u=k.toggler(e,c.resolve("button-disabled")),y=function(){u.isOn()||f.trigger.click()},f=g.create({click:a([])}),h=b.detect().deviceType.isTouch()?"touchstart":"click",m=p.bind(e,h,y);return{element:function(){return e},name:function(){return s},
destroy:function(){m.unbind();q.remove(e)},content:function(a){null!==w&&q.detach(w.element());n.append(e,a.element());w=a},enable:u.off,disable:u.on,disabled:u.isOn,click:y,events:f.registry}}})})(f,h,m);(function(e,f,h){e("c3","b3 81 40 j 1g 1s".split(" "),function(b,d,c,a,g,k){return function(p){var l=a.fromTag("span");c.add(l,d.resolve("statebutton"));var n=b(p);g.append(l,n.element());p=c.toggler(l,d.resolve("statebutton-selected"));return{element:function(){return l},destroy:function(){n.destroy();
k.remove(l)},name:n.name,content:n.content,enable:n.enable,disable:n.disable,disabled:n.disabled,click:n.click,events:n.events,select:p.on,deselect:p.off,selected:p.isOn}}})})(f,h,m);(function(e,f,h){e("kc",["c3","28","29"],function(b,d,c){return function(a){var g=b(a),k=c.create({click:d([])}),p=function(){g.selected()?g.deselect():g.select();k.trigger.click()};g.events.click.bind(p);return{element:g.element,name:g.name,content:g.content,destroy:function(){g.events.click.unbind(p);g.destroy()},enable:g.enable,
disable:g.disable,disabled:g.disabled,click:g.click,events:k.registry,select:g.select,deselect:g.deselect,selected:g.selected}}})})(f,h,m);(function(e,f,h){e("41",["g","2a"],function(b,d){var c=function(a,d){return{left:b.constant(a),top:b.constant(d),translate:function(b,p){return c(a+b,d+p)}}};return c})})(f,h,m);(function(e,f,h){e("7t",["1a","7","1p"],function(b,d,c){return{set:function(a,c){if(!d.isNumber(c)&&!c.match(/^[0-9]+$/))throw"Width.set accepts only positive integer values.";var k=a.dom();
b(k).width(c)},get:function(a){a=a.dom();return b(a).width()},getOuter:function(a){a=a.dom();return b(a).outerWidth()},getInner:function(a){a=a.dom();return b(a).innerWidth()},setWithUnit:function(a,b){c.set(a,"width",b)},getWithUnit:function(a){return c.get(a,"width")}}})})(f,h,m);(function(e,f,h){e("p6",["41","7t"],function(b,d){return function(c){return{northwest:function(){return b(d.getOuter(c)-1,1)},northeast:function(){return b(-1,1)},southwest:function(){return b(d.getOuter(c)-1,-2)},southeast:function(){return b(-1,
-2)}}}})})(f,h,m);(function(e,f,h){e("7n",["global!document"],function(b){return{hasFocus:function(d){return d.dom()===b.activeElement},focus:function(b){b.dom().focus()},blur:function(b){b.dom().blur()}}})})(f,h,m);(function(e,f,h){e("51","8 g t q j global!document".split(" "),function(b,d,c,a,g,k){var p=function(a,b){for(var d=a.dom();d.parentNode;){var d=d.parentNode,k=g.fromDom(d);if(b(k))return c.some(k)}return c.none()},l=function(a,k){var l=b.find(a.dom().childNodes,d.compose(k,g.fromDom));
return c.from(l).map(g.fromDom)},n=function(a,b){var d=function(a){for(var k=0;k<a.childNodes.length;k++){if(b(g.fromDom(a.childNodes[k])))return c.some(g.fromDom(a.childNodes[k]));var l=d(a.childNodes[k]);if(l.isSome())return l}return c.none()};return d(a.dom())};return{first:function(a){return n(g.fromDom(k.body),a)},ancestor:p,closest:function(a,b){return b(a)?c.some(a):p(a,b)},sibling:function(b,d){var k=b.dom();return k.parentNode?l(g.fromDom(k.parentNode),function(c){return!a.eq(b,c)&&d(c)}):
c.none()},child:l,descendant:n}})})(f,h,m);(function(e,f,h){e("7o",["1h"],function(b){return{any:function(d){return b.first(d).isSome()},ancestor:function(d,c){return b.ancestor(d,c).isSome()},sibling:function(d,c){return b.sibling(d,c).isSome()},child:function(d,c){return b.child(d,c).isSome()},descendant:function(d,c){return b.descendant(d,c).isSome()},closest:function(d,c){return b.closest(d,c).isSome()}}})})(f,h,m);(function(e,f,h){e("dy","t q j 7n 51 7o 1r global!document".split(" "),function(b,
d,c,a,g,k,p,l){return{refresh:function(a){b.from(l.activeElement).map(c.fromDom).each(function(b){k.closest(b,".ephox-pastry-panel, .ephox-polish-dialog")||a.focused()&&a.restore()})},preserve:function(k,l){var s=p.owner(l),r=c.fromDom(s.dom().activeElement),s=function(a){return d.eq(r,a)},s=s(l)?b.some(l):g.descendant(l,s),e=k(l);s.each(a.focus);return e}}})})(f,h,m);(function(e,f,h){e("dz",["2a"],function(b){return b.immutable("x","y","width","height")})})(f,h,m);(function(e,f,h){e("ja",["g","t"],
function(b,d){var c=function(a,d){return a.view(d).fold(b.constant([]),function(b){var d=a.owner(b),d=c(a,d);return[b].concat(d)})};return{pathTo:function(a,b){var k=b.owner(a),k=c(b,k);return d.some(k)}}})})(f,h,m);(function(e,f,h){e("jb",["t","j","1r","global!document"],function(b,d,c,a){return{view:function(c){return(c.dom()===a?b.none():b.from(c.dom().defaultView.frameElement)).map(d.fromDom)},owner:function(a){return c.owner(a)}}})})(f,h,m);(function(e,f,h){e("7h","g q j 14 51 global!document".split(" "),
function(b,d,c,a,g,k){return{attached:function(a,l){var n=l||c.fromDom(k.documentElement);return g.ancestor(a,b.curry(d.eq,n)).isSome()},windowOf:function(b){var c=b.dom();return c===c.window?b:a.isDocument(b)?c.defaultView||c.parentWindow:null}}})})(f,h,m);(function(e,f,h){e("42","1a 41 1p 7h j global!parseFloat".split(" "),function(b,d,c,a,g,k){var p=function(a){var b=a.body;a=a.documentElement;return void 0===a.clientTop&&void 0===b.clientTop?0:a.clientTop||b.clientTop},l=function(a){var b=a.body;
a=a.documentElement;return void 0===a.clientLeft&&void 0===b.clientLeft?0:a.clientLeft||b.clientLeft||0},n=function(b){var c=a.windowOf(g.fromDom(b));b=b.documentElement;return void 0!==c.pageYOffset?c.pageYOffset:b.scrollTop},q=function(b){var c=a.windowOf(g.fromDom(b));b=b.documentElement;return void 0!==c.pageXOffset?c.pageXOffset:b.scrollLeft},s=function(k){var l=k.dom();if(void 0!==l.ownerDocument){var p=l.ownerDocument,n=g.fromDom(p.body),p=g.fromDom(p.documentElement);if(n.dom()===l)return b.support.doesNotIncludeMarginInBodyOffset?
(k=window.parseFloat(c.get(n,"margin-top"))||0,l=window.parseFloat(c.get(n,"margin-left"))||0,n=d(n.dom().offsetLeft+l,n.dom().offsetTop+k)):n=d(n.dom().offsetLeft,n.dom().offsetTop),n;if(!a.attached(k,p))return d(0,0);void 0===l.getBoundingClientRect?n=d(0,0):(n=l.getBoundingClientRect(),n=d(n.left,n.top));return n}};return{absolute:function(a){var b=a.dom().ownerDocument;return s(a).translate(q(b)-l(b),n(b)-p(b))},relative:function(a){a=a.dom();a=b(a).position();return d(a.left,a.top)},viewport:s}})})(f,
h,m);(function(e,f,h){e("2y",["1a","41","42","global!document"],function(b,d,c,a){return{get:function(b){b=b?b.dom():a;return d(b.body.scrollLeft||b.documentElement.scrollLeft,b.body.scrollTop||b.documentElement.scrollTop)},top:function(a){b(a.dom()).scrollTop(0)},bottom:function(a){},left:function(a){},right:function(a){},fromTop:function(a,b){},fromLeft:function(a,b){},intoView:function(a){},setToElement:function(a,b){var d=c.absolute(b);a.scrollTo(d.left(),d.top())}}})})(f,h,m);(function(e,f,h){e("fi",
"8 g ja jb 41 j 42 2y global!document".split(" "),function(b,d,c,a,g,k,p,l,n){return{find:function(q){var s=k.fromDom(n),r=l.get(s);return c.pathTo(q,a).fold(d.curry(p.absolute,q),function(a){var c=p.viewport(q);a=b.foldr(a,function(a,b){var c=p.viewport(b);return{left:a.left+c.left(),top:a.top+c.top()}},{left:0,top:0});return g(a.left+c.left()+r.left(),a.top+c.top()+r.top())})}}})})(f,h,m);(function(e,f,h){e("7r",["1a","7","1p"],function(b,d,c){return{set:function(a,c){if(!d.isNumber(c)&&!c.match(/^[0-9]+$/))throw"Height.set accepts only positive integer values.";
var k=a.dom();b(k).height(c)},get:function(a){a=a.dom();return b(a).height()},getOuter:function(a){a=a.dom();return b(a).outerHeight()},getInner:function(a){a=a.dom();return b(a).innerHeight()},setWithUnit:function(a,b){c.set(a,"height",b)},getWithUnit:function(a){return c.get(a,"height")}}})})(f,h,m);(function(e,f,h){e("e0","g fi dz 41 1p j 7r 2y 7t global!document global!window".split(" "),function(b,d,c,a,g,k,p,l,n,q,s){var r=function(a,b){g.set(a,"visibility","hidden");var c=b(a);g.remove(a,"visibility");
return c};return{absolute:function(g,k){var l=d.find(g),q=r(g,function(c){k.each(function(b){b.position(a(0,0))});return{width:b.constant(n.getOuter(g)),height:b.constant(p.getOuter(g))}});return c(l.left(),l.top(),q.width(),q.height())},view:function(){var a=s.innerWidth,b=s.innerHeight,d=k.fromDom(q),d=l.get(d);return c(d.left(),d.top(),a,b)}}})})(f,h,m);(function(e,f,h){e("92",["g","41"],function(b,d){return function(c,a){return{southeast:b.constant(d(-c/2,a)),southwest:b.constant(d(c,a)),northeast:b.constant(d(-c/
2,-a)),northwest:b.constant(d(c,-a))}}})})(f,h,m);(function(e,f,h){e("m7",["4c"],function(b){return{resolve:b.create("ephox-repartee").resolve}})})(f,h,m);(function(e,f,h){e("jc",["g","m7"],function(b,d){var c=d.resolve("caret-top-align"),a=d.resolve("caret-bottom-align"),g=d.resolve("caret-right-align"),k=d.resolve("caret-left-align"),p=d.resolve("caret-middle-align");return{east:b.constant(k),south:b.constant(c),west:b.constant(g),north:b.constant(a),middle:b.constant(p),all:b.constant([c,a,k,g,
p])}})})(f,h,m);(function(e,f,h){e("jd",["2a"],function(b){return b.immutable("x","y","bubble","anchors","label","xFit","yFit")})})(f,h,m);(function(e,f,h){e("e2",["jc","jd"],function(b,d){var c=function(a,b){return a.y()-b.height()},a=function(a){return a.y()+a.height()},g=function(c,g,k){return d(c.x(),a(c),k.southeast(),[b.south(),b.east()],"layout-se",!0,!0)},k=function(c,g,k){g=c.x()-g.width();return d(g,a(c),k.southwest(),[b.south(),b.west()],"layout-sw",!0,!0)},p=function(a,g,k){return d(a.x(),
c(a,g),k.northeast(),[b.north(),b.east()],"layout-ne",!0,!0)},l=function(a,g,k){var l;l=a.x()-g.width();return d(l,c(a,g),k.northwest(),[b.north(),b.west()],"layout-nw",!0,!0)},n=function(a,g,k){var l;l=a.x()-g.width()/2;return d(l,c(a,g),k.northeast(),[b.north(),b.middle()],"layout-nm",!0,!0)},q=function(c,g,k){g=c.x()-g.width()/2;return d(g,a(c),k.southeast(),[b.south(),b.middle()],"layout-sm",!0,!0)};return{southeast:g,northeast:p,southwest:k,northwest:l,southmiddle:q,northmiddle:n,all:function(){return[g,
k,p,l,q,n]}}})})(f,h,m);(function(e,f,h){e("m8",["2a"],function(b){return b.immutable("x","y","classes")})})(f,h,m);(function(e,f,h){e("je",["8","g","t","m8"],function(b,d,c,a){var g=function(b,d,g,k,s,e,t,w,u){g+=s.left();k+=s.top();return(!b||g>=w.x()&&g+e<=w.x()+w.width())&&(!d||k>=w.y()&&k+t<=w.y()+w.height())?c.some(a(g,k,u)):c.none()},k=function(b,c,d,g){b+=d.left();c+=d.top();return a(b,c,g)};return{attempt:g,force:k,attempts:function(a,l,n,q,s,e){var t=function(a){a=a(n,q,s);return g(a.xFit(),
a.yFit(),a.x(),a.y(),a.bubble(),q.width(),q.height(),e,a.anchors())};return b.foldl(a,function(a,b){return a.orThunk(d.curry(t,b))},c.none()).getOrThunk(function(){var a=l(n,q,s);return k(a.x(),a.y(),a.bubble(),a.anchors())})}}})})(f,h,m);(function(e,f,h){e("e1","g t e0 e2 jc je 41 4h".split(" "),function(b,d,c,a,g,k,p,l){var n=function(g){g=void 0!==g?g:{};var k=void 0!==g.preference?g.preference:a.all();return{bounds:b.constant(void 0!==g.bounds?g.bounds:c.view()),origin:b.constant(void 0!==g.origin?
g.origin:p(0,0)),preference:b.constant(k),fallback:void 0!==g.fallback?g.fallback:d.from(k[0]).getOr(a.southeast)}},q=function(a,b,c){a.position(p(b.x()-c.left(),b.y()-c.top()));l.remove(a.element(),g.all());l.add(a.element(),b.classes())};return{layout:function(a,b,g,l){l=n(l);var p=c.absolute(b.element(),d.some(b));a=k.attempts(l.preference(),l.fallback,a,p,g,l.bounds());q(b,a,l.origin())},force:function(a,b,g,l,p){p=n(p);var e=c.absolute(b.element(),d.some(b));a=l(a,e,g);a=k.force(a.x(),a.y(),
a.bubble(),a.anchors());q(b,a,p.origin())}}})})(f,h,m);(function(e,f,h){e("e3",["jc","jd"],function(b,d){var c=function(a){return a.x()+a.width()},a=function(a,b){return a.x()-b.width()},g=function(a,b){return a.y()-b.height()+a.height()},k=function(a,g,k){return d(c(a),a.y(),k.southeast(),[b.south(),b.east()],"link-layout-se",!0,!0)},p=function(c,g,k){return d(a(c,g),c.y(),k.southwest(),[b.south(),b.west()],"link-layout-sw",!0,!0)},l=function(a,k,l){return d(c(a),g(a,k),l.northeast(),[b.north(),
b.east()],"link-layout-ne",!0,!0)},n=function(c,k,l){return d(a(c,k),g(c,k),l.northwest(),[b.north(),b.west()],"link-layout-nw",!0,!0)},q=function(a,g,k){return d(c(a),a.y(),k.southeast(),[b.south(),b.east()],"link-layout-just-east(se)",!0,!1)},s=function(c,g,k){return d(a(c,g),c.y(),k.southwest(),[b.south(),b.west()],"link-layout-just-west(sw)",!0,!1)};return{southeast:k,northeast:l,southwest:p,northwest:n,all:function(){return[k,p,l,n,q,s]}}})})(f,h,m);(function(e,f,h){e("91","t dy 3u dz e0 92 e1 e2 e3 1f 42 1h 1r".split(" "),
function(b,d,c,a,g,k,p,l,n,q,s,e,t){var w=function(a){return e.ancestor(a.element(),"."+c.resolve("socket")).bind(t.parent).getOr(a.element())},u=function(a){return d.preserve(function(){return g.absolute(a,b.none())},a)};return{anchored:function(a,c,d,k){var n=void 0!==k?k:l.southeast,e=w(a),r=u(e);a=function(a){var k=s.absolute(e),t=g.absolute(c,b.some(a));q.has(c,"style")&&""===q.get(c,"style")&&q.remove(c,"style");p.layout(t,a,d,{bounds:r,origin:k,preference:[l.southeast,l.southwest,l.northeast,
l.northwest],fallback:n})};return{recalculate:a,place:a}},makeshift:function(b,c,d,g){var k=w(b),n=u(k);return{recalculate:function(a){a.close()},place:function(b){var q=s.absolute(k),e=a(c,d,0,0);p.layout(e,b,g,{bounds:n,origin:q,preference:l.all(),fallback:l.southmiddle})}}},submenu:function(a,c,d){var l=w(a),q=u(l);a=function(a){var c=s.absolute(l),e=g.absolute(d,b.none());p.layout(e,a,k(3,-2),{bounds:q,origin:c,preference:n.all()})};return{recalculate:a,place:a}},findContainer:w}})})(f,h,m);(function(e,
f,h){e("m1",["g","j3","p6","91"],function(b,d,c,a){var g=function(a){return function(){return a.getSelection().isSome()}},k=b.constant(!0),p=function(b,g,k,p,e,t){k.events.click.bind(function(){return(k.selected()&&t()?p.open:p.close)()});var w=c(k.element());p.events.open.bind(function(){var c=a.anchored(b,k.element(),w,e);g.show(p,c);k.select();d.pressed(k);d.expanded(k.element())});p.events.close.bind(function(){k.deselect();d.pressed(k);d.collapsed(k.element())});p.setComponents([k.element()]);
return{destroy:function(){}}};return{relate:function(a,b,c,d,g){return p(a,b,c,d,g,k)},relateWhen:function(a,b,c,d,e,t){t=!0===t?g(a):k;return p(a,b,c,d,e,t)}}})})(f,h,m);(function(e,f,h){e("m3","8 cn co t 40 1h".split(" "),function(b,d,c,a,g,k){var p=d.resolve("item-selected"),l=function(a,b){g.add(b,p)},n=function(a,b){g.remove(b,p)};return{none:function(a){var d=c.all(a);b.each(d,function(b){n(a,b)})},selectAll:function(a,d){var k=c.all(a);b.each(k,function(a){g.remove(a,p)});b.each(d,function(a){g.add(a,
p)})},select:l,deselect:n,selected:function(a){return k.descendant(a,"."+p)},first:function(b){var d=c.all(b);return a.from(d[0]).map(function(a){l(b,a);return a})},last:function(b){var d=c.all(b);return a.from(d[d.length-1]).map(function(a){l(b,a);return a})}}})})(f,h,m);(function(e,f,h){e("m2","8 m3 co g t q".split(" "),function(b,d,c,a,g,k){var p=function(d,l){var p=c.all(d),n=b.findIndex(p,function(a){return k.eq(l,a)});return 0<=n?g.some({index:a.constant(n),all:a.constant(p)}):g.none()},l=function(a,
b){return 0===b?a.length-1:b-1},n=function(a,b){return b===a.length-1?0:b+1},q=function(a,b,c){return p(a,b).map(function(g){var k=c(g.all(),g.index());g=g.all()[k];d.deselect(a,b);d.select(a,g);return g})};return{first:function(a){var b=c.all(a);return g.from(b[0]).map(function(b){d.select(a,b);return b})},prev:function(a,b){return q(a,b,l)},next:function(a,b){return q(a,b,n)}}})})(f,h,m);(function(e,f,h){e("jj",["8","7j","global!String"],function(b,d,c){return{isCommand:function(a,g){var k=[];b.each(g,
function(a){a="string"===typeof a?[a.toUpperCase().charCodeAt(0)]:a;k=k.concat(a)});var p=function(a){return 0<b.filter(k,function(c){return b.contains(d[a](),c)}).length};if(!!a.altKey!==p("ALT")||!!a.shiftKey!==p("SHIFT")||!!a.ctrlKey!==p("CTRL")||!!a.metaKey!==p("META"))return!1;var p=null!==a.charCode&&void 0!==a.charCode&&0!==a.charCode?c.fromCharCode(a.charCode).toUpperCase().charCodeAt(0):a.which,l=d.CTRL().concat(d.ALT()).concat(d.SHIFT()).concat(d.META()),n=b.filter(k,function(a){return!b.contains(l,
a)});return 1<n.length?!1:0===n.length&&void 0===a.which||n[0]===p}}})})(f,h,m);(function(e,f,h){e("jl",[],function(){return{stop:function(b){b.preventDefault();b.stopPropagation&&b.stopPropagation()}}})})(f,h,m);(function(e,f,h){e("nl",["8","r","7j"],function(b,d,c){return function(a,g){var k=g?a.slice(0):[],p=g,l=g?b.map(d.values(c),function(a){return a()}):[];return{swallowShortcuts:function(a){k=a.slice(0)},yieldShortcuts:function(a){k=b.difference(k,a)},swallowChars:function(){p=!0},yieldChars:function(){p=
!1},swallowKeys:function(a){l=a.slice(0)},yieldKeys:function(a){l=b.difference(l,a)},process:function(a,c){a.fold(function(a){b.contains(k,a)&&c()},function(a){b.contains(l,a)&&c()},function(){p&&c()})}}}})})(f,h,m);(function(e,f,h){e("jn",["8","r","7j"],function(b,d,c){var a={BACKSPACE:c.BACKSPACE,TAB:c.TAB,ENTER:c.ENTER,CAPSLOCK:c.CAPSLOCK,ESCAPE:c.ESCAPE,SPACE:c.SPACE,PAGEUP:c.PAGEUP,PAGEDOWN:c.PAGEDOWN,END:c.END,HOME:c.HOME,LEFT:c.LEFT,UP:c.UP,DOWN:c.DOWN,RIGHT:c.RIGHT,INSERT:c.INSERT,DEL:c.DEL};
return{getSpecial:function(c){var k=null;d.each(a,function(a,d){b.contains(a(),c)&&(k=d)});return k},noModifiers:function(a){return!(a.metaKey||a.altKey||a.ctrlKey)},isCharCode:function(a){return a.charCode===a.keyCode}}})})(f,h,m);(function(e,f,h){e("nm","8 jj jn 7j t global!String".split(" "),function(b,d,c,a,g,k){var p=function(a,c){return g.from(b.find(c,function(b){return d.isCommand(a,b)}))},l=function(a){return c.isCharCode(a)?g.none():g.from(c.getSpecial(a.keyCode))};return{identify:function(b,
c){return{fold:function(d,g,e){p(b,c).fold(function(){l(b).fold(function(){e(b.which&&k.fromCharCode(b.which))},function(b){g(a[b]())})},d)}}},shortcut:p,special:l}})})(f,h,m);(function(e,f,h){e("jk",["jl","nl","nm","g"],function(b,d,c,a){return function(g,k){var p=!1,l=d(g,k);return{on:function(){p=!0},off:function(){p=!1},isOn:function(){return p},handle:function(a){return function(b){p&&a(b.raw())}},stop:function(d){var k=c.identify(d,g);l.process(k,a.curry(b.stop,d))},swallowShortcuts:l.swallowShortcuts,
yieldShortcuts:l.yieldShortcuts,swallowChars:l.swallowChars,yieldChars:l.yieldChars,swallowKeys:l.swallowKeys,yieldKeys:l.yieldKeys}}})})(f,h,m);(function(e,f,h){e("jm",["28","29"],function(b,d){return function(){return d.create({character:b(["character"]),space:b(["shift","stopper"]),left:b(["shift","stopper"]),right:b(["shift","stopper"]),backspace:b(["shift","stopper"]),tab:b(["shift","stopper"]),enter:b(["shift","stopper"]),capslock:b(["shift","stopper"]),escape:b(["shift","stopper"]),pageup:b(["shift",
"stopper"]),pagedown:b(["shift","stopper"]),end:b(["shift","stopper"]),home:b(["shift","stopper"]),down:b(["shift","stopper"]),up:b(["shift","stopper"]),insert:b(["shift","stopper"]),del:b(["shift","stopper"]),command:b(["command"])})}})})(f,h,m);(function(e,f,h){e("e8","8 3 jj jk jl jm jn global!String".split(" "),function(b,d,c,a,g,k,p,l){return function(n){var q=d.merge({shortcuts:[],swallow:!1},n),s=k(),e=a(q.shortcuts,q.swallow),t=function(a){return b.find(q.shortcuts,function(b){return c.isCommand(a,
b)})||null},w=function(a,b,c){y(a);s.trigger[b].apply(void 0,c)},u=function(a){return function(){e.isOn()&&g.stop(a)}};n=e.handle(function(a){var b=t(a);null!==b?w(a,"command",[b]):(b=p.getSpecial(a.keyCode),p.noModifiers(a)&&null!==b&&(b=b.toLowerCase(),w(a,b,[a.shiftKey,u(a)])))});var y=function(a){e.isOn()&&e.stop(a)},f=e.handle(function(a){if(p.noModifiers(a))p.isCharCode(a)||null===p.getSpecial(a.keyCode)?null!==t(a)?y(a):a.which&&w(a,"character",[l.fromCharCode(a.which)]):y(a);else return!1});
return{off:e.off,on:e.on,events:s.registry,swallowShortcuts:e.swallowShortcuts,yieldShortcuts:e.yieldShortcuts,swallowChars:e.swallowChars,yieldChars:e.yieldChars,swallowKeys:e.swallowKeys,yieldKeys:e.yieldKeys,keypress:f,keydown:n}}})})(f,h,m);(function(e,f,h){e("m4","8 co 7j e8 g 28 29 1q".split(" "),function(b,d,c,a,g,k,p,l){return function(n){var q=p.create({mouseover:k(["item"]),click:k(["item"])}),s=[],e=a({shortcuts:n.shortcuts,swallow:n.swallow});n=n.tabs?[c.TAB()]:[];e.swallowKeys([c.UP(),
c.DOWN(),c.ENTER(),c.SPACE()].concat(n));var t=function(){b.each(s,function(a){a.mouseover().unbind();a.click().unbind();a.keydown().unbind()});s=[];e.off()};return{destroy:function(){t()},attach:function(a){t();s=b.map(a,function(a){var b=l.bind(a,"mouseover",function(a){d.up(a.target()).each(q.trigger.mouseover)}),c=l.bind(a,"click",function(a){d.up(a.target()).each(q.trigger.click)});a=l.bind(a,"keydown",function(a){e.keydown(a)});return{mouseover:g.constant(b),click:g.constant(c),keydown:g.constant(a)}});
e.on()},detach:t,events:q.registry,keys:e.events}}})})(f,h,m);(function(e,f,h){e("j2","8 m2 m3 m4 co cp cq 3 g 28 29 q j".split(" "),function(b,d,c,a,g,k,p,l,n,q,s,e,t){return function(w,u){var y=s.create({select:q(["item"]),active:q(["item"]),show:q(["menu"]),hide:q(["menu"]),collapse:q(["menu"]),expand:q(["menu","trigger"])}),f=a({shortcuts:[],swallow:[],tabs:u.tabs}),h={},m=function(a){k.activate(w,a)},x=function(a){k.up(a).each(function(b){m(b);c.selectAll(b,[a]);y.trigger.active(a)});var d=k.inactive(w);
b.each(d,function(a){p.submenu().is(a)&&y.trigger.hide(a)});k.submenu(w,h,a).each(function(b){g.isEnabled(a)&&y.trigger.expand(b,a)})},A=function(a){k.active(w).bind(function(b){c.selected(b).orThunk(function(){return d.first(b)}).each(function(c){a(b,c)})})},C=function(a){A(function(b,c){g.isEnabled(c)&&a(b,c)})},D=function(a){A(function(b,c){a(b,c).each(function(a){e.eq(c,a)||(k.submenu(w,h,c).each(y.trigger.collapse),y.trigger.active(a))})})},F=n.curry(D,d.prev),G=n.curry(D,d.next),H=function(){p.main().first(w).each(function(a){m(a);
c.selected(a).each(y.trigger.active)})},J=function(a){C(function(b,d){k.submenu(w,h,d).fold(function(){p.submenu().is(b)&&(y.trigger.collapse(b),H(),a.stopper()())},function(b){y.trigger.expand(b,d);c.none(b);c.first(b).each(y.trigger.active);m(b);a.stopper()()})})},D=function(a){C(function(b,c){var d=g.get(c);void 0===h[d]?y.trigger.select(c):J(a)})},M=function(a){a.shift()?F(a):G(a)};f.keys.up.bind(F);f.keys.down.bind(G);u.tabs&&f.keys.tab.bind(M);f.keys.enter.bind(D);f.keys.space.bind(D);f.keys.left.bind(function(a){C(function(b,
c){p.submenu().is(b)&&(y.trigger.collapse(b),H(),a.stopper()())})});f.keys.right.bind(J);f.events.mouseover.bind(function(a){x(a.item())});f.events.click.bind(function(a){a=a.item();var b=g.get(a);void 0===h[b]&&g.isEnabled(a)&&y.trigger.select(a)});return{destroy:function(){f.destroy()},populate:function(a){h=l.merge({},a)},on:function(a){a=void 0!==a?a:[t.fromDom(document)];f.attach(a)},off:function(){f.detach()},selectFirst:function(){k.active(w).each(function(a){c.none(a);c.first(a).each(y.trigger.active)})},
setActiveMenu:m,events:y.registry}}})})(f,h,m);(function(e,f,h){e("ef",["8","t","2a"],function(b,d,c){var a=function(a){return function(b){return b.key()===a}},g=c.immutable("key","value");return{put:function(c,d,l,n,q){var s=void 0!==n?n:g,e=void 0!==q?q:a(d);c=b.foldl(c,function(a,b){var c=e(b)?s(d,l):b;return{updated:e(b)||a.updated,acc:a.acc.concat([c])}},{updated:!1,acc:[]});return c.updated?c.acc:c.acc.concat([s(d,l)])},get:function(c,g,l){g=void 0!==l?l:a(g);c=b.find(c,g);return d.from(c)}}})})(f,
h,m);(function(e,f,h){e("m5",["8","7o"],function(b,d){return{triage:function(c){c=b.foldr(c,function(a,b){var c=d.ancestor(b.menu(),"body");return{keep:c?[b].concat(a.keep):a.keep,throwaway:!1===c?[b].concat(a.throwaway):a.throwaway}},{throwaway:[],keep:[]});b.each(c.throwaway,function(a){a.popup().destroy()});return c.keep}}})})(f,h,m);(function(e,f,h){e("7p",["1a","1p"],function(b,d){var c=function(a,b,c,p){c=d.get(a,b)===c?p:c;return d.toggler(a,b,c)};return{toggler:function(a){return c(a,"visibility",
"hidden","visible")},displayToggler:function(a,b){return c(a,"display","none",b)},isVisible:function(a){a=a.dom();return b(a).is(":visible")}}})})(f,h,m);(function(e,f,h){e("fp","3 81 40 1p j 1g 1s 1h 7p".split(" "),function(b,d,c,a,g,k,p,l,n){return function(q){var s=b.merge({layerClass:null,zindex:null},q),e=g.fromTag("div");c.add(e,d.resolve("panel"));a.setAll(e,{position:"absolute",display:"none",left:0,top:0});s.zindex&&a.set(e,"z-index",s.zindex);s.layerClass&&c.add(e,s.layerClass);q=void 0!==
q.container?q.container:l.first("body").getOrDie();k.append(q,e);q=n.displayToggler(e,"block");return{element:function(){return e},destroy:function(){p.remove(e)},content:function(a){p.empty(e);k.append(e,a)},position:function(b){a.setAll(e,{left:b.left(),top:b.top()})},show:q.on,hide:q.off,toggle:q.toggle}}})})(f,h,m);(function(e,f,h){e("m6","fp g 3u 28 29 40 j 1g".split(" "),function(b,d,c,a,g,k,p,l){return function(n){var q=g.create({open:a([]),close:a([])});if(void 0===n)throw"uicontainer not specified";
var s=b({layerClass:c.resolve("layer-above-editor"),container:n}),e=p.fromTag("div");k.add(e,c.resolve("popup-container"));k.add(e,c.resolve("basic-popup"));s.content(e);var t=!1;return{element:function(){return e},panel:s.element,destroy:function(){s.destroy()},open:function(){t||(s.show(),t=!0,q.trigger.open())},close:function(){t&&(s.hide(),t=!1,q.trigger.close())},position:s.position,setContent:function(a){l.append(e,a)},setComponents:d.noop,events:q.registry}}})})(f,h,m);(function(e,f,h){e("aq",
["1q"],function(b){return b})})(f,h,m);(function(e,f,h){e("bc",["51"],function(b){return{any:function(d){return b.first(d).isSome()},ancestor:function(d,c){return b.ancestor(d,c).isSome()},sibling:function(d,c){return b.sibling(d,c).isSome()},child:function(d,c){return b.child(d,c).isSome()},descendant:function(d,c){return b.descendant(d,c).isSome()}}})})(f,h,m);(function(e,f,h){e("ar",["8","g","q","bc"],function(b,d,c,a){var g=function(b,g){return a.ancestor(b,d.curry(c.eq,g))};return{ancestor:g,
anyAncestor:function(a,c){return b.exists(c,function(b){return g(a,b)})},sibling:function(b,g){return a.sibling(b,d.curry(c.eq,g))},child:function(b,g){return a.child(b,d.curry(c.eq,g))},descendant:function(b,g){return a.descendant(b,d.curry(c.eq,g))}}})})(f,h,m);(function(e,f,h){e("6f","8 g q j aq ar global!document".split(" "),function(b,d,c,a,g,k,p){return function(l,n,q){q=q||[a.fromDom(p)];var s=[],e=function(a){var b=n();a=a.target();c.member(a,b)||k.anyAncestor(a,b)||l()};return{on:function(){b.each(q,
function(a){s.push(g.bind(a,"mousedown",e).unbind)})},off:function(){b.each(s,d.apply)},mousedown:e}}})})(f,h,m);(function(e,f,h){e("8s",[],function(){return{create:function(){var b=!1;return{isBlocked:function(){return b},block:function(){b=!0},unblock:function(){b=!1}}}}})})(f,h,m);(function(e,f,h){e("8t",[],function(){return{create:function(b,d){return{control:b,instance:d}}}})})(f,h,m);(function(e,f,h){e("65",["8s","8t"],function(b,d){return{tap:function(c){var a=b.create();return d.create(a,
function(){a.isBlocked()||c.apply(null,arguments)})}}})})(f,h,m);(function(e,f,h){e("am","6f 7j fp 65 3u 28 29 40 j 1g".split(" "),function(b,d,c,a,g,k,p,l,n,q){return{view:function(s,e,t){var w=p.create({open:k([]),close:k([]),update:k([]),enter:k([]),escaped:k([])});if(void 0===t)throw"uicontainer not specified";var u=c({layerClass:g.resolve("layer-menus"),container:t}),y=n.fromTag("div");l.add(y,g.resolve("popup-container"));u.content(y);var f=!1,h=function(){f&&(s.foreground(),G.control.unblock(),
x.off(),F.off(),u.hide(),f=!1,w.trigger.close(),s.focus())},m=[y],x=b(h,function(){return m}),A=function(a){x.mousedown(a.original())},C=function(){h();w.trigger.escaped()},D=function(){w.trigger.enter()},F=e.all();F.swallowKeys([d.ESCAPE(),d.ENTER()]);F.events.escape.bind(C);F.events.enter.bind(D);var G=a.tap(function(){w.trigger.update()});s.events.uiStale.bind(G.instance);s.events.mousedown.bind(A);return{element:function(){return y},panel:u.element,destroy:function(){F.events.escape.unbind(C);
F.events.enter.unbind(D);s.events.uiStale.unbind(G.instance);s.events.mousedown.unbind(A);F.off();F.destroy();u.hide();u.destroy()},open:function(){f||(s.background(),G.control.block(),u.show(),F.on(),x.on(),f=!0,w.trigger.open())},close:h,position:u.position,setContent:function(a){q.append(y,a)},setComponents:function(a){m=a.concat([y])},events:w.registry}}}})})(f,h,m);(function(e,f,h){e("j4","8 ef m5 m6 am 91 2a q 1p".split(" "),function(b,d,c,a,g,k,p,l,n){var q=p.immutable("menu","popup"),s=function(a){return function(b){return l.eq(b.menu(),
a)}};return function(l,p,e,u){var y=void 0!==u&&void 0!==u.uiContainer?u.uiContainer:e.uiContainer(),f=[],h=function(){var a=b.map(f,function(a){return a.popup().panel()}),c=void 0!==u.extra?u.extra:[];b.each(f,function(b){b.popup().setComponents(a.concat(c))})},m=function(b){var c=d.get(f,b,s(b)).fold(function(){var c=a(y);c.setContent(b);return c},function(a){return a.popup()});h();f=d.put(f,b,c,q,s(b));return c},x=function(a){d.get(f,a,s(a)).each(function(a){a.popup().close()});n.set(a,"display",
"none")},A=function(){f=c.triage(f)};return{expandMenu:function(a,b){var c=m(a),d=k.submenu(l,{},b);n.set(a,"display","block");c.open();e.show(c,d)},initMenu:function(a){var b=g.view(l,p,y);b.setContent(a);f=d.put(f,a,b,q,s(a));return b},hideMenu:x,hideAll:function(){b.each(f,function(a){x(a.menu())})},cleanup:A,destroy:function(){b.each(f,function(a){a.popup().destroy()})},registerMenus:function(a){A();return b.map(a,m)}}}})})(f,h,m);(function(e,f,h){e("ay",["t","2y"],function(b,d){return function(c){var a=
c.doc().getOrDie(),g=c.win().getOrDie(),k=b.none();return{begin:function(){k=b.some(d.get(a))},end:function(){k.each(function(a){g.scrollTo(a.left(),a.top())});k=b.none()}}}})})(f,h,m);(function(e,f,h){e("3n",["8","g","28"],function(b,d,c){return function(a,g){var k=c(a),p=0,l=function(c){var d=b.map(a,function(a){return c[a]()});k.trigger.apply(null,d)};return{bind:function(a){k.bind(a);p++;1===p&&g.bind(l)},unbind:function(a){k.unbind(a);p--;0===p&&g.unbind(l)},trigger:d.die("Cannot trigger a source event.")}}})})(f,
h,m);(function(e,f,h){e("9g",[],function(){var b=function(d){var c=d;return{get:function(){return c},set:function(a){c=a},clone:function(){return b(c)}}};return b})})(f,h,m);(function(e,f,h){e("dt","8 r j2 g t j3 j4 ay 3u 28 29 3n 9g 2a 1f 40 1p j 7n 1g 2e 14 1s 1h 1r global!document".split(" "),function(b,d,c,a,g,k,p,l,n,q,s,e,t,w,u,y,f,h,m,x,A,C,D,F,G,H){return function(J,M,K,P,L){var N=h.fromTag("div");y.add(N,n.resolve(P+"-sandbox"));u.set(N,"tabindex",-1);var O=l(J),V=t({}),S=c(N,{tabs:!0}),
I=p(J,M,K,{uiContainer:N,extra:L});S.events.active.bind(function(a){O.begin();if(null!==H.activeElement&&void 0!==H.activeElement){var b=h.fromDom(H.activeElement);"input"!==C.name(b)&&m.focus(a.item())}else m.focus(a.item())});var X=h.fromTag("div");y.add(X,"ephox-polish-menu-system-main");var Z=I.initMenu(X),Y=s.create({reveal:q(["menu"]),hide:q(["menu"]),close:q([]),open:q([]),postOpen:q([]),action:q(["value","item"]),escaped:e([],Z.events.escaped)});x.append(K.uiContainer(),N);var ja=function(){var a=
G.children(N);b.each(a,function(a){f.set(a,"display","none")})};S.events.expand.bind(function(a){k.expanded(a.trigger());I.expandMenu(a.menu(),a.trigger());Y.trigger.reveal(a.menu());J.allowScroll(a.menu())});var ca=function(a){var c=d.mapToArray(V.get(),w.immutable("menu","item")),l=u.get(a,"data-ephox-gopher-menu-value");a=b.find(c,function(a){return a.menu()===l});g.from(a).bind(function(a){return F.descendant(N,"."+a.item())}).each(k.collapsed)};M=function(a){I.hideMenu(a.menu());Y.trigger.hide(a.menu());
ca(a.menu())};S.events.hide.bind(M);S.events.collapse.bind(M);Z.events.open.bind(function(){m.focus(N);Y.trigger.open();f.set(Z.panel(),"display","block");f.set(X,"display","block");S.on([N,J.body().getOrDie()]);S.selectFirst();Y.trigger.postOpen();J.allowScroll(X)});Z.events.close.bind(function(){$()});var $=function(){S.off();I.hideAll();J.focus();O.end();Y.trigger.close()};S.events.select.bind(function(a){a=a.item();var b=u.get(a,"data-ephox-gopher-item-value");O.end();Y.trigger.action(b,a)});
return{update:function(a,c,d){V.set(d);D.empty(X);x.append(X,a);a=I.registerMenus(c);a=b.map(a,function(a){return a.panel()});D.empty(N);A.append(N,[Z.panel()].concat(a));ja();S.populate(d)},setActiveMenu:function(a){S.setActiveMenu(a);S.selectFirst();J.allowScroll(a)},destroy:function(){S.destroy();I.destroy()},popup:a.constant(Z),open:Z.open,close:$,cleanup:I.cleanup,events:Y.registry}}})})(f,h,m);(function(e,f,h){e("j5",["1p","7r","7t"],function(b,d,c){return{copy:function(a,g){var k=d.getOuter(a),
p=c.getOuter(a);b.setAll(g,{height:k+"px",width:p+"px"})}}})})(f,h,m);(function(e,f,h){e("j6",["g","t","1f"],function(b,d,c){var a=function(a,b){return d.from(c.get(b,a))};return{item:b.curry(a,"data-ephox-gopher-item-value"),menu:b.curry(a,"data-ephox-gopher-menu-value")}})})(f,h,m);(function(e,f,h){e("j7","80 49 3u 40 j 1g global!document".split(" "),function(b,d,c,a,g,k,p){var l=g.fromDom(p),n=function(){var g=b.item(l,"card-back-button",d.translate("chameleon.back")),p=b.submenu(l,"menu-back",
[]);a.add(g,c.resolve("card-layout-back"));k.append(p,g);return p},q=function(b){var d=g.fromTag("div");a.add(d,c.resolve("card-layout"));k.append(d,b);return d};return{child:function(b){b=q(b);a.add(b,c.resolve("card-layout-child"));k.prepend(b,n(q));return b},parent:function(b){b=q(b);a.add(b,c.resolve("card-layout-root"));return b}}})})(f,h,m);(function(e,f,h){e("2f",["8","g"],function(b,d){return function(){var c=[],a=[],g=function(a){return a.slice(0)},k=function(a){return-1!==b.indexOf(c,a)};
return{get:function(d){return a[b.indexOf(c,d)]},put:function(b,d){if(void 0===b||null===b)throw"Invalid key, no undefined or null.";if(k(b))throw"Invalid key, key already exists.";c.push(b);a.push(d)},contains:k,remove:function(d,g){var k=b.indexOf(c,d);if(-1===k)throw"Invalid key, does not exist.";c.splice(k,1);return a.splice(k,1)[0]},each:function(d){b.each(c,function(b,c){d(a[c],b,c)})},keys:d.curry(g,c),values:d.curry(g,a),reset:function(){c.splice(0,c.length);a.splice(0,a.length)}}}})})(f,
h,m);(function(e,f,h){e("j8","8 2f g t 3u 28 29 2a 40 1p 1s global!document".split(" "),function(b,d,c,a,g,k,p,l,n,q,e,r){return function(r){n.add(r,g.resolve("card-layout-main"));var w=a.none(),u=l.immutable("key","element"),y=d(),f=p.create({onActiveItemChange:k(["activeItem","lastActiveItem"])}),h=function(a){return y.get(a)},m=function(a,c){var d=c.exists(function(a){return a.key()});b.each(y.keys(),function(b){var c=a.key()===b||d===b?"block":"none";q.set(h(b),"display",c)})},x=function(){y.reset();
w=a.none();e.empty(r)};return{element:c.constant(r),addItem:function(a,b){y.put(a,b)},getItem:h,clear:x,show:function(b){b=u(b,y.get(b));m(b,w);f.trigger.onActiveItemChange(b,w);w=a.some(b)},events:f.registry,destroy:x}}})})(f,h,m);(function(e,f,h){e("c8",["1a","g"],function(b,d){return{animate:function(c,a,g,k){b(c.dom()).animate(a,g,k||d.identity)},slideUp:function(c,a,d){b(c.dom()).slideUp(a,d)},slideDown:function(c,a,d){b(c.dom()).slideDown(a,d)}}})})(f,h,m);(function(e,f,h){e("j9",["2a","c8",
"1p","7r","7t"],function(b,d,c,a,g){var k=b.immutable("from","to"),p=function(b,p,q,e,r){var t=g.getOuter(q),w=a.getOuter(p),u="left"===e?k("0px",-t+"px"):k("0px",t+"px");e="left"===e?k(t+"px","0px"):k(-t+"px","0px");c.set(p,"left",e.from());c.set(q,"left",u.from());d.animate(b,{height:w+"px"},"fast");d.animate(q,{left:u.to()},"fast");d.animate(p,{left:e.to()},"fast",r)};return{left:function(a,b,c,d){p(a,b,c,"left",d)},right:function(a,b,c,d){p(a,b,c,"right",d)}}})})(f,h,m);f("global!setTimeout",
[],function(){return setTimeout});(function(e,f,h){e("du","8 3 g t j5 j6 j7 j8 j9 am 3u 28 29 3n 9g 1f 40 1q j 7n 1g 1h global!setTimeout".split(" "),function(b,d,c,a,g,k,p,l,n,q,e,r,t,w,u,y,f,h,m,x,A,C,D){return function(F,G,H,J,M){var K=m.fromTag("div");f.add(K,e.resolve(J+"-sandbox"));y.set(K,"tabindex",-1);var P=u({}),L=u(),N=m.fromTag("div"),O=l(N),V=q.view(F,G,H.uiContainer());A.append(K,V.panel());V.setContent(N);var S=t.create({reveal:r(["menu"]),hide:r(["menu"]),close:r([]),open:r([]),postOpen:r([]),
action:r(["value","item"]),escaped:w([],V.events.escaped)});A.append(H.uiContainer(),K);var I=function(){var a=L.get();O.show(a);D(function(){var b=O.getItem(a);F.allowScroll(b);g.copy(b,O.element())},10)},X=function(a,b){k.menu(a).each(function(c){var d=b(a);A.append(N,d);O.addItem(c,d)})};G=function(){V.close();S.trigger.close()};V.events.close.bind(G);V.events.open.bind(function(){x.focus(K);S.trigger.open()});var Z=function(a,b){var d=L.get()===a.key()?n.right:n.left,k=a.element();F.allowScroll(k);
g.copy(k,O.element());d(O.element(),a.element(),b.element(),c.noop)};O.events.onActiveItemChange.bind(function(a){var b=a.activeItem();a.lastActiveItem().each(c.curry(Z,b))});var Y=h.bind(K,"click",function(b){b=b.target();C.closest(b,".ephox-gopher-item").each(function(b){k.item(b).each(function(c){var d=P.get();a.from(d[c]).fold(function(){S.trigger.action(c,b)},function(a){O.show(a)})})})});return{update:function(a,c,g){var l=k.menu(a).getOrDie("Main menu Attr key is required");O.clear();g=d.merge(g,
{"card-back-button":l});P.set(g);X(a,p.parent);L.set(l);b.each(c,function(a){X(a,p.child)});I()},setActiveMenu:c.noop,destroy:function(){Y.unbind()},popup:c.constant(V),open:V.open,close:G,cleanup:c.noop,events:S.registry}}})})(f,h,m);(function(e,f,h){e("8z",["k","dt","du"],function(b,d,c){var a=b.detect().deviceType.isTouch();return function(b,k,p,l,n){return(a?c:d)(b,k,p,l,n)}})})(f,h,m);(function(e,f,h){e("lx","8 80 p5 kc g 4b m1 8z 4j p3 49 3u 29 3n e2 40 j 1g 2e 1s global!document".split(" "),
function(b,d,c,a,g,k,p,l,n,q,e,r,t,w,u,y,f,h,m,x,A){return function(C,D,F,G,H,J){var M=a(G);y.add(M.element(),r.resolve("dropdown-button"));y.add(M.element(),"ephox-polish-"+G+"-dropdown-button");var K=l(C,D,F,"dropdown-"+G,[M.element()]);D=t.create({select:w(["value","item"],K.events.action),escaped:w([],K.events.escaped)});var P=p.relate(C,F,M,K.popup(),u.southeast),L=C.doc().getOr(f.fromDom(A)),N=d.mainmenu(L,G+"-menu",[]);k.menu(N,e.get(H));var O=function(a,b){var c=b.map(q.generate).getOr([]);
m.prepend(a,c)};C=function(){V(e.get(H))};var V=function(a){x.empty(S);h.append(S,c(a,"ephox-pastry-arrow-righticon").element())},S=f.fromTag("span");y.add(S,"ephox-polish-dropdown-viewport");C();M.content({element:g.constant(S)});K.events.open.bind(function(){K.update(N,[],{});K.setActiveMenu(N)});return{element:g.constant(M.element()),populate:function(a){x.empty(N);b.each(a,function(a){a.label().each(function(a){a=n.generateSeparator(L,a);h.append(N,a)});b.each(a.items(),function(a){var b=n.generateItem(L,
a,J);k.menuItem(b,e.get(a.textkey()),!1);O(b,a.icon());h.append(N,b)})})},enable:function(){M.enable()},disable:function(){M.disable()},close:K.close,clear:C,click:M.click,select:function(a){V(e.get(a.textkey()));O(S,a.icon())},selectElement:function(a){M.content({element:g.constant(a),destroy:g.noop})},destroy:function(){K.destroy();P.destroy();M.destroy()},events:D.registry}}})})(f,h,m);(function(e,f,h){e("ly",["g","j3"],function(b,d){var c=function(a){a.enable();d.enable(a.element())},a=function(a){a.disable();
d.disable(a.element())};return{control:function(d){return{enable:b.curry(c,d),disable:b.curry(a,d)}}}})})(f,h,m);(function(e,f,h){e("he","c4 4b lx ly 49 1f".split(" "),function(b,d,c,a,g,k){return{init:function(p,l,n,q,e){var r=e.dropdown(n.uiContainer()),t=c(p,l,n,r.name,r.textkey,r.render);k.set(t.element(),"title",g.get(r.textkey));var w=b.relate(t);d.toolbarButton(t.element(),g.get(r.textkey),!0,!0);t.events.select.bind(function(a){r.action(a.value());t.close();q.focused()&&q.restore()});t.events.escaped.bind(function(){q.focused()&&
q.restore()});var u=a.control(t);p=function(){r.updateDropdown({enable:u.enable,disable:u.disable,select:t.select,clear:t.clear,selectElement:t.selectElement,populate:t.populate})};p();return{component:t.element,refreshUi:p,destroy:function(){t.destroy();w.destroy()}}}}})})(f,h,m);(function(e,f,h){e("p7",["81","4h","j","1s"],function(b,d,c,a){return function(g){var k=c.fromTag("span");d.add(k,[b.resolve("icon-content"),g]);return{element:function(){return k},destroy:function(){a.remove(k)}}}})})(f,
h,m);(function(e,f,h){e("m0","b3 p7 b4 kc 49 3u p8 1f 2e".split(" "),function(b,d,c,a,g,k,p,l,n){var q=function(a,b,q,e,u,y){a=a(b);q=d(k.resolve("icon")+" "+k.resolve(q));y=!0===y?[c(g.get(u)).element()]:[];n.append(q.element(),y);a.content(q);a.events.click.bind(function(){e()});l.set(a.element(),"title",p.get(u));return a};return{typical:function(a,c,d,g,k){return q(b,a,c,d,g,k)},toggle:function(b,c,d,g,k){return q(a,b,c,d,g,k)}}})})(f,h,m);(function(e,f,h){e("hf","7 c4 j3 dy 4b lz ly 49 m0 40 1p 1h".split(" "),
function(b,d,c,a,g,k,p,l,n,q,e,r){var t=function(a){var b=n.typical(a.value,a.value,a.action,a.textkey,a.label);a.setup&&a.setup(b,a);return b},w=function(a){var b=n.toggle(a.value,a.value,a.action,a.textkey,a.label);a.setup&&a.setup(b,a);a.selected&&b.select();return b};return{init:function(n,q,e,s,r){var f=r.general();n=!0===f.hasPopup;var h=!0===f.toggle?w(f):t(f);b.isString(f.icon)&&k.findAndSetUrl(h.element(),f.icon);var m=d.relate(h);g.toolbarButton(h.element(),l.get(f.textkey),n,f.toggle);
var x=p.control(h),A=function(){!0===f.toggle&&c.pressed(h)};h.events.click.bind(function(){a.refresh(s);A()});A();return{component:h.element,refreshUi:function(){f.updateGeneral({disable:x.disable,enable:x.enable,select:h.select,deselect:h.deselect,selected:h.selected});A()},destroy:function(){h.destroy();m.destroy()}}}}})})(f,h,m);(function(e,f,h){e("hg","7 g c4 dy 4b m1 8z lz ly 49 m0 e2 global!document".split(" "),function(b,d,c,a,g,k,p,l,n,q,e,r,t){return{init:function(t,u,y,f,h){var m=h.menu();
h=m.textkey();h=b.isString(h)?q.has(h)?q.key(h):q.raw(h):h;g.menu(m.element(),q.get(h));var x=e.toggle(m.name(),m.name(),d.identity,h,m.label());g.toolbarButton(x.element(),q.get(h),!0,!0);var A=p(t,u,y,"toolbar-menu-"+m.name(),[x.element()]);A.events.reveal.bind(function(a){m.init(a.menu())});u=void 0===m.layout?r.northeast:m.layout;m.contentFocus()&&x.disable();var C=k.relateWhen(t,y,x,A.popup(),u,m.contentFocus()),D=c.relate(x),F=n.control(x);m.icon().filter(b.isString).each(function(a){l.findAndSetUrl(x.element(),
a)});m.events.done.bind(function(){A.close()});A.events.open.bind(function(){A.update(m.element(),m.submenus(),m.structure());m.init(m);A.setActiveMenu(m.element())});A.events.action.bind(function(b){var c=m.handlers();void 0!==c[b.value()]&&(c=c[b.value()],A.close(),c(b.item()),a.refresh(f))});A.events.escaped.bind(function(){f.focused()&&f.restore()});return{component:x.element,refreshUi:function(){m.updateMenu({enable:F.enable,disable:F.disable})},destroy:function(){A.destroy();x.destroy();m.destroy();
D.destroy();C.destroy()}}}}})})(f,h,m);(function(e,f,h){e("m9",["1q"],function(b){return{disabler:function(d,c){return b.bind(c.element(),"click",function(a){c.disabled()&&d.focus()})}}})})(f,h,m);(function(e,f,h){e("hh","g m9 c4 j3 4b m1 ly 49 am m0 e2".split(" "),function(b,d,c,a,g,k,p,l,n,q,e){return{widget:function(a,t,w,u,y){var f=y.widget();f.events.done.bind(function(){h.close()});var h=n.view(a,t,w.uiContainer());h.setContent(f.element());h.events.open.bind(f.open);h.events.close.bind(f.close);
h.events.escaped.bind(u.refocus);var m=q.toggle(f.name(),f.name(),b.identity,f.textkey(),f.label());g.toolbarButton(m.element(),l.get(f.textkey()),!0,!0);var x=c.relate(m),A=d.disabler(a,m),C=k.relate(a,w,m,h,e.southeast),D=p.control(m);return{component:m.element,refreshUi:function(){f.updateWidget({enable:D.enable,disable:D.disable})},destroy:function(){x.destroy();C.destroy();h.destroy();f.destroy();m.destroy();A.unbind()}}},inline:function(c,d,k,p,n){var q=n.widget();g.toolbarButton(q.element(),
l.get(q.textkey()),!1);return{component:q.element,refreshUi:function(){q.updateInlineWidget({enable:b.curry(a.enable,q.element()),disable:b.curry(a.disable,q.element())})},destroy:function(){q.destroy()}}}}})})(f,h,m);(function(e,f,h){e("c1",["he","hf","hg","hh"],function(b,d,c,a){return{dropdown:b.init,widget:a.widget,menu:c.init,general:d.init,"inline-widget":a.inline}})})(f,h,m);(function(e,f,h){e("hi",["8","3u","40","j","2e"],function(b,d,c,a,g){return function(k){var p=a.fromTag("span");c.add(p,
d.resolve("toolbar-group"));var l=b.map(k,function(a){return a.component()});g.append(p,l);return{component:function(){return p},refreshUi:function(){b.each(k,function(a){void 0!==a.refreshUi&&a.refreshUi()})},destroy:function(){b.each(k,function(a){a.destroy()})}}}})})(f,h,m);(function(e,f,h){e("c2","8 hi 28 29 1f 1r".split(" "),function(b,d,c,a,g,k){return function(p){p=d(p);var l=a.create({escaped:c([]),executed:c([])}),n=k.children(p.component());b.each(n,function(a){g.set(a,"tabindex",-1)});
return{component:p.component,refreshUi:p.refreshUi,destroy:p.destroy,events:l.registry}}})})(f,h,m);(function(e,f,h){e("7i","8 t 4b bz c0 c1 49 c2".split(" "),function(b,d,c,a,g,k,p,l){return function(n,q,e,r){return{composite:function(a){var c=b.map(a.items,function(a){var b=void 0!==a.contentFocus?a.contentFocus:!0;return"submenu"===a.type?g.build(a.name,a.textkey,d.from(a.icon),a.commands,q,b):a});return{category:a.category,items:c}},group:function(b){return{items:a.generate(b.items,k,[q,e,r,n.toolbar]),
category:b.category}},aria:function(a){var b=l(a.items);a=a.category;a=p.has(a)?p.key(a):p.raw(a);c.toolbarGroup(b.component(),p.get(a));return b}}}})})(f,h,m);(function(e,f,h){e("48",["8","7i"],function(b,d){return function(c,a,g,k){var p=d(c,a,g,k),l=b.map;return{compile:function(a){a=l(a,p.composite);a=l(a,p.group);return l(a,p.aria)},make:function(a,b){return l(a,p[b])}}}})})(f,h,m);(function(e,f,h){e("3s",["k","g","49","2a","global!Array"],function(b,d,c,a,g){var k=a.immutable("description",
"link"),p=a.immutable("url","text"),l=b.detect(),n=function(a){return p(a.websiteUrl,"Go to the Administrator Dashboard")},q=function(a,b){return k("An unknown error has occured ("+a+")",null)};b=function(a,b){return k(c.get(a)+" ("+b+")",null)};var e={"no.api.key":function(a){return k("Your API key is invalid.",n(a))},"domain.not.supported":function(a){return k("Your domain ("+a.details.domain+") is not supported by your API key.",n(a))},"plan.exceeded":function(a){return k("You have exceeded the number of editor downloads available on your plan. Visit the website to upgrade.",
n(a))},"flash.clipboard.no.rtf":function(a){a=l.browser.isSafari()?p("https://support.ephox.com/entries/59328357-Safari-6-1-and-7-Flash-Sandboxing","More information on paste for Safari"):null;return k("Your browser security settings may be preventing images from being imported.",a)},"spelling.service.not.found":d.curry(b,c.key("error.no.spelling.service")),"fileupload.invalidimages":function(){return k("Not all files were processed - some were invalid images",null)},"imageupload.service.not.found":d.curry(b,
c.key("error.no.imageupload.service")),"error.imageupload":d.curry(k,c.key("error.imageupload"),null),"invalid.toolbar":function(a){var b=c.key("error.invalid.toolbar.configuration"),d=c.key("error.see.console");return k(c.get(b)+" ("+a+"). "+c.get(d),null)},"safari.imagepaste":function(a){a=p("https://support.ephox.com/entries/88543243-Safari-Direct-paste-of-images-does-not-work","More information on image pasting for Safari");return k("Safari does not support direct paste of images.",a)}};return{get:function(a){var b=
void 0!==e[a]?e[a]:d.curry(q,a),c=g.prototype.slice.call(arguments,1);return b.apply(null,c)}}})})(f,h,m);f("global!clearTimeout",[],function(){return clearTimeout});(function(e,f,h){e("4a",["47","49","global!clearTimeout","global!setTimeout"],function(b,d,c,a){return{setup:function(g,k){k.events.initialLogin.bind(function(k){var l=b(d.translate("banner.logged-in")+k.email());l.events.close.bind(function(){c(n)});g.displayBanner(l);var n=a(function(){g.hideBanner(l)},5E3)})}}})})(f,h,m);(function(e,
f,h){e("30","8 g 3r 48 3s 4a global!console".split(" "),function(b,d,c,a,g,k,p){var l=function(a,k){var l=function(d){var k=g.get("invalid.toolbar",d.small()),k=c(k);a.displayBanner(k);b.each(d.big(),function(a){p.error(a)})};return k.fold(function(a){l(a);return[]},d.identity)};return{setup:function(c,d,g,p,e,w){w=l(c,w);g=a(c,d,g,p).compile(w);b.each(g,function(a){c.toolbar.add(a);d.events.uiStale.bind(a.refreshUi)});k.setup(c,e);c.toolbar.refresh()}}})})(f,h,m);(function(e,f,h){e("7k","8 g t q 1h 1r".split(" "),
function(b,d,c,a,g,k){return{identify:function(p,l,n){return g.descendant(p,l).bind(function(l){return g.ancestor(l,n).bind(function(g){var p=k.children(g),n=b.findIndex(p,function(b){return a.eq(b,l)});return-1<n?c.some({index:d.constant(n),current:d.constant(l),group:d.constant(g),members:d.constant(p)}):c.none()})})}}})})(f,h,m);(function(e,f,h){e("7l","c3 b4 g c4 49 3u c2 40 7n".split(" "),function(b,d,c,a,g,k,p,l,n){return function(){var q=b("overflower");l.add(q.element(),k.resolve("more-button"));
q.content(d(g.translate("toolbar.more")));var e=a.relate(q),r=p([{component:q.element,destroy:q.destroy,refreshUi:c.noop}]);return{group:r.component,select:q.select,deselect:q.deselect,focus:function(){n.focus(q.element())},destroy:function(){r.destroy();e.destroy()},events:q.events}}})})(f,h,m);(function(e,f,h){e("hj",["2a"],function(b){return b.immutable("component","index")})})(f,h,m);(function(e,f,h){e("c5",["8","hj"],function(b,d){return function(c){var a=[];return{add:function(b,k){var p=k?
c.indexOf(a,k).getOrDie():a.length;a.splice(p,0,b);return d(b,p)},remove:function(g){g=c.resolve(a,g).getOrDie();var k=b.indexOf(a,g);a.splice(k,1);return d(g,k)},get:function(){return a.slice(0)},itemAt:function(b){return c.resolve(a,b)}}}})})(f,h,m);(function(e,f,h){e("3x",["g","t"],function(b,d){var c=function(a){return g(function(b,c){return c(a)})},a=function(a){return g(function(b,c){return b(a)})},g=function(g){var p=function(){return g(b.constant(!1),b.constant(!0))},l=b.not(p),n=function(a){return q(function(b){return c(a(b))})},
q=function(b){return g(a,b)};return{is:function(a){return g(b.constant(!1),function(b){return b===a})},isValue:p,isError:l,getOr:function(a){return g(b.constant(a),b.identity)},getOrThunk:function(a){return g(a,b.identity)},getOrDie:function(){return g(function(a){b.die(a)()},b.identity)},or:function(a){return g(b.constant(a),c)},orThunk:function(a){return g(a,c)},fold:g,map:n,each:n,bind:q,exists:function(a){return g(b.constant(!1),a)},forall:function(a){return g(b.constant(!0),a)},toOption:function(){return g(d.none,
d.some)}}};return{value:c,error:a}})})(f,h,m);(function(e,f,h){e("c6",["7","8","3x"],function(b,d,c){return function(a){var g=function(a,d){return b.isNumber(d)?k(a,d):b.isString(d)?p(a,d):b.isObject(d)?l(a,d):c.error("Unsupported specifier type: "+d)},k=function(a,b){return 0===a.length?c.error("Items is empty"):0>b||b>=a.length?c.error("Item index: "+b+" is out of range (0-"+(a.length-1)+")"):c.value(a[b])},p=function(b,g){var k=d.find(b,function(b){return a(b)===g});return void 0===k?c.error("No item with value: ["+
g+"]"):c.value(k)},l=function(a,b){return-1===d.indexOf(a,b)?c.error("Specified object is not a registered item: "+b):c.value(b)};return{resolve:g,indexOf:function(a,b){return g(a,b).bind(function(g){g=d.indexOf(a,g);return-1<g?c.value(g):c.error("Item not found: "+b)})},index:k,value:p,item:l}}})})(f,h,m);(function(e,f,h){e("hk",["2a"],function(b){return b.immutable("within","extra")})})(f,h,m);(function(e,f,h){e("fb",["8","g"],function(b,d){return{make:function(c,a,g){return b.foldl(c,function(b,
c){return a(c,b.len).fold(d.constant(b),function(a){return{len:a.finish(),list:b.list.concat([a])}})},{len:void 0!==g?g:0,list:[]}).list}}})})(f,h,m);(function(e,f,h){e("fc",["8","t"],function(b,d){var c=function(a,b){return b>=a.start()&&b<=a.finish()},a=function(a,c){return b.findIndex(a,function(a){return a.start()===c})};return{get:function(a,k){var p=b.find(a,function(a){return c(a,k)});return d.from(p)},find:function(a,c){return d.from(b.find(a,c))},inUnit:c,sublist:function(b,c,d){c=a(b,c);
var l=a(b,d);d=-1<l?l:b[b.length-1]&&b[b.length-1].finish()===d?b.length+1:-1;return-1<c&&-1<d?b.slice(c,d):[]}}})})(f,h,m);(function(e,f,h){e("fe",["8","3","g"],function(b,d,c){return{translate:function(a,g){return b.map(a,function(a){return d.merge(a,{start:c.constant(a.start()+g),finish:c.constant(a.finish()+g)})})}}})})(f,h,m);(function(e,f,h){e("fd",["8","fc","fe"],function(b,d,c){var a=function(a,b,d){b=d(a,b);return c.translate(b,a.start())};return{splits:function(c,k,p){return 0===k.length?
c:b.bind(c,function(c){var g=b.bind(k,function(a){return d.inUnit(c,a)?[a-c.start()]:[]});return 0<g.length?a(c,g,p):[c]})}}})})(f,h,m);(function(e,f,h){e("ad",["fb","fc","fd","fe"],function(b,d,c,a){return{generate:function(a,c,d){return b.make(a,c,d)},get:function(a,b){return d.get(a,b)},find:function(a,b){return d.find(a,b)},splits:function(a,b,d){return c.splits(a,b,d)},translate:function(b,c){return a.translate(b,c)},sublist:function(a,b,c){return d.sublist(a,b,c)}}})})(f,h,m);(function(e,f,
h){e("c7",["8","hk","g","t","ad"],function(b,d,c,a,g){var k=function(d,k,p){var e=g.generate(d,function(b,d){var g=p(b);return a.some({element:c.constant(b),start:c.constant(d),finish:c.constant(d+g),width:c.constant(g)})});d=b.filter(e,function(a){return a.finish()<k});e=e.slice(d.length);return{within:c.constant(d),extra:c.constant(e)}},p=function(a){return b.map(a,function(a){return a.element()})};return{partition:function(a,b,c,g){b=k(b,a-c(g),c);a=b.within();b=b.extra();return 1===b.length&&
b[0].width()<=c(g)?(c=p(a.concat(b)),d(c,[])):1<=b.length?(c=p(a).concat([g]),d(c,p(b))):d(p(a),[])}}})})(f,h,m);(function(e,f,h){e("7m","8 c5 c6 c7 g 3u 28 29 c8 40 1p j 7r 1g 2e 1s 7p 7t".split(" "),function(b,d,c,a,g,k,p,l,n,q,e,r,t,w,u,f,h,m){return function(x,B){var A=l.create({drawer:p(["delta","total"]),grow:p([]),shrink:p([]),exit:p([])}),C=d(c(g.identity)),D=r.fromTag("div");q.add(D,k.resolve("toolstrip"));q.add(D,k.resolve("layer-above-editor"));var F=r.fromTag("div");q.add(F,k.resolve("toolbar"));
var G=r.fromTag("div");q.add(G,k.resolve("toolbar"));q.add(G,k.resolve("toolbar-more"));e.set(G,"display","none");w.append(D,F);w.append(D,G);B.events.click.bind(function(){if(h.isVisible(G)){var a=t.get(D);n.slideUp(G,"fast",g.identity);n.animate(G,{opacity:0},"fast",g.curry(H,a));B.deselect();A.trigger.shrink()}else a=t.get(D),n.slideDown(G,"fast",g.identity),n.animate(G,{opacity:1},"fast",g.curry(H,a)),B.select(),A.trigger.grow()});var H=function(a){var b=t.get(D);A.trigger.drawer(b-a,b)};return{element:function(){return D},
main:g.constant(F),mores:g.constant(G),destroy:function(){var a=C.get();b.each(a,function(a){a.destroy()});B.destroy()},focused:g.constant(!1),enter:g.noop,restore:g.noop,refocus:g.noop,refresh:function(){var c=C.get(),c=b.map(c,function(a){return a.component()});e.set(F,"visibility","hidden");f.empty(F);b.each(c,function(a){w.append(F,a)});w.append(F,B.group());var d=m.getOuter(F)-15,d=a.partition(d,c,m.getOuter,B.group()),c=d.extra(),d=d.within();f.empty(F);f.empty(G);u.append(F,d);u.append(G,c);
e.remove(F,"visibility")},add:function(a){w.append(F,a.component());C.add(a)},events:A.registry}}})})(f,h,m);(function(e,f,h){e("4d","8 7j g t 7k 4b 7l 7m 28 29 3n q 1q 7n 7o 1h 1r 7p global!Math".split(" "),function(b,d,c,a,g,k,p,l,n,q,e,r,t,w,u,f,h,m,x){return function(x){var A=p(),Q=l(x,A);k.toolbar(Q.main());var D=q.create({drawer:e(["delta","total"],Q.events.drawer),grow:e([],Q.events.grow),shrink:n([]),exit:n([])}),F=a.none();x=function(b){return g.identify(Q.element(),":focus",".ephox-polish-toolbar-group").bind(function(c){var d=
c.members();c=c.index()+b;return c>d.length-1?a.from(d[0]):0>c?a.from(d[d.length-1]):a.from(d[c])})};var G=function(a){return g.identify(Q.element(),":focus",".ephox-polish-toolbar-group").bind(function(b){return a(b.group()).bind(h.firstChild)})},H=function(a){return function(c){return b.contains(a,c.raw().which)}},J=[{pred:[H(d.ESCAPE())],action:function(){P();D.trigger.exit();return a.none()}},{pred:[H(d.RIGHT().concat(d.DOWN()))],action:c.curry(x,1)},{pred:[H(d.LEFT().concat(d.UP()))],action:c.curry(x,
-1)},{pred:[function(a){return a.raw().shiftKey},H(d.TAB())],action:c.curry(G,function(a){return h.prevSibling(a).orThunk(function(){return h.parent(a).bind(function(a){a=m.isVisible(Q.mores())&&r.eq(Q.main(),a)?Q.mores():Q.main();return h.lastChild(a)})})})},{pred:[H(d.TAB())],action:c.curry(G,function(a){return h.nextSibling(a).orThunk(function(){return h.parent(a).bind(function(a){a=m.isVisible(Q.mores())&&r.eq(Q.main(),a)?Q.mores():Q.main();return h.firstChild(a)})})})}],M=function(c){var d=b.find(J,
function(a){return b.forall(a.pred,function(a){return a(c)})});void 0!==d&&null!==d&&d.action().each(function(b){w.focus(b);F=a.some(b);c.prevent()})},K=a.none(),P=function(){K.each(function(a){a.unbind()});K=a.none();F=a.none()},L=function(){return K.isSome()},N=function(){F.each(w.focus)};Q.events.shrink.bind(function(){u.descendant(Q.mores(),":focus")&&A.focus();D.trigger.shrink()});return{element:Q.element,refresh:Q.refresh,add:Q.add,enter:function(){K.each(P);K=a.some(t.bind(Q.element(),"keydown",
M));f.descendant(Q.element(),".ephox-polish-toolbar-group").bind(h.firstChild).each(function(b){F=a.some(b);w.focus(b)})},destroy:function(){P();Q.destroy()},focused:L,restore:N,refocus:function(){L()&&N()},events:D.registry}}})})(f,h,m);(function(e,f,h){e("1x",["2f"],function(b){return{create:function(){var d=b();return{bind:function(b,a){d.put(b,a);b.bind(a)},unbind:function(b){var a=d.remove(b);b.unbind(a)}}}}})})(f,h,m);(function(e,f,h){e("7q","3u 1x 28 29 40 j 1g 1s".split(" "),function(b,d,
c,a,g,k,p,l){return function(){var n=k.fromTag("div");g.add(n,b.resolve("bannerarium"));var q=d.create(),e=function(a){q.unbind(a.events.close);l.detach(a.element())},r=a.create({close:c(["banner"])});return{element:function(){return n},display:function(a){q.bind(a.events.close,function(){e(a);r.trigger.close(a)});p.append(n,a.element())},hide:e,destroy:function(){l.remove(n)},events:r.registry}}})})(f,h,m);(function(e,f,h){e("4e",["7q","28","29"],function(b,d,c){return function(){var a=b();a.events.close.bind(function(){g.trigger.resize()});
var g=c.create({resize:d([])});return{element:a.element,display:function(b){a.display(b);g.trigger.resize()},hide:function(b){a.hide(b);g.trigger.resize()},destroy:a.destroy,events:g.registry}}})})(f,h,m);f("global!clearInterval",[],function(){return clearInterval});f("global!setInterval",[],function(){return setInterval});(function(e,f,h){e("7s","8 q 7r 7t global!clearInterval global!setInterval".split(" "),function(b,d,c,a,g,k){var p=function(b){return{element:b,handlers:[],lastWidth:a.get(b),lastHeight:c.get(b)}},
l=[],n=null,q=function(){b.each(l,function(d){var g=a.get(d.element),k=c.get(d.element);if(g!==d.lastWidth||k!==d.lastHeight)d.lastWidth=g,d.lastHeight=k,b.each(d.handlers,function(a){a()})})};return{bind:function(a,c){var g=b.find(l,function(b){return d.eq(b.element,a)});void 0===g&&(g=p(a),l.push(g));g.handlers.push(c);null===n&&(n=k(q,250))},unbind:function(a,c){var k=b.findIndex(l,function(b){return d.eq(b.element,a)});if(-1!==k){var p=b.indexOf(l[k].handlers,c);-1!==p&&(l[k].handlers.splice(p,
1),0===l[k].handlers.length&&l.splice(k,1),0===l.length&&(g(n),n=null))}}}})})(f,h,m);(function(e,f,h){e("4f","g t 28 29 7r 7s 7t".split(" "),function(b,d,c,a,g,k,p){return function(l){var n=a.create({change:c(["width","height","element"])}),q=void 0!==l.resize&&void 0!==l.resize.container?d.some(l.resize.container):d.none(),e=d.none();return{hookup:function(a){var c=q.getOr(a);a=function(){l.resize&&l.resize.callback&&l.resize.callback();var a=p.get(c),b=g.get(c);n.trigger.change(a,b,c)};e=d.some({target:b.constant(c),
f:a});k.bind(c,a)},destroy:function(){e.each(function(a){k.unbind(a.target(),a.f)})},events:n.registry}}})})(f,h,m);(function(e,f,h){e("4g",["g","28","29"],function(b,d,c){return function(){var a=c.create({change:d(["width","height","element"])});return{hookup:b.noop,destroy:b.noop,events:a.registry}}})})(f,h,m);(function(e,f,h){e("31","4b 3u 4d 4e 4f 4g 40 4h j 1g 2e 1s".split(" "),function(b,d,c,a,g,k,p,l,n,q,e,r){return function(t,w,u,f){var h=n.fromTag("div");l.add(h,[d.resolve("editor-container"),
d.resolve("layer-editor")]);b.editor(h);var m=c(u.uiContainer());w.events.toolbar.bind(m.enter);m.events.exit.bind(t.focus);t=a();var x=n.fromTag("div");p.add(x,d.resolve("socket"));var B=f.autoresize?g(f):k();e.append(h,[m.element(),t.element(),x]);B.events.change.bind(function(a){m.refresh()});return{element:function(){return h},socket:function(a){q.append(x,a.element())},connect:function(a){q.append(a,h);B.hookup(a);m.refresh()},destroy:function(){B.destroy();m.destroy();r.remove(h)},toolbar:m,
refresh:m.refresh,displayBanner:t.display,hideBanner:t.hide}}})})(f,h,m);(function(e,f,h){e("2j",["30","31"],function(b,d){return function(c,a,g,k,p,l){var n=d(c,a,g,l),q=k.tabbed(n);q.init();return{element:n.element,socket:n.socket,init:function(a,d,k,l,e,f,h,m,x,B,A,C,D,F){d=q.config(d,l,e,f,h,m,x,p,k,B,A,C,D,F);b.setup(n,c,a,g,k,d);q.loaded()},connect:n.connect,destroy:function(){n.destroy();q.destroy()},displayBanner:n.displayBanner,hideBanner:n.hideBanner,tabstrip:n.toolbar}}})})(f,h,m);(function(e,
f,h){e("21",["2i","2j"],function(b,d){return{settings:function(c){return{blocktag:{styles:[{rule:"p"},{rule:"h1"},{rule:"h2"},{rule:"h3"},{rule:"h4"},{rule:"div"},{rule:"pre"}],bundled:!0},content:{tabindex:null,stylesheets:[]},ui:{layout:d,autoresize:!0},spelling:{bundled:!1},feedback:{bundled:!0,mailto:"ops@textbox.io"},snippets:{bundled:!0},usersettings:{bundled:!0,menu:["spellcheck","capitalisation","autocorrect"],login:!1},imageupload:{bundled:!1},embedly:{bundled:!1},registration:{bundled:!1},
help:{baseUrl:c+"/html",locale:"en",bundled:!0},formatting:{bundled:!0},alignindent:{bundled:!0},font:{bundled:!0},lists:{bundled:!0},link:{bundled:!0},removeformat:{bundled:!0},fullscreen:{bundled:!0,autoresize:!1},emoticons:{bundled:!1},editorcontext:{bundled:!0},macros:{bundled:!0},highlighter:{external:[],bundled:!0},table:{bundled:!0},contextmenu:{bundled:!0},project:{apikey:"demo"},integration:{},smartpaste:{bundled:!0,swf:c+"/flash/textboxpaste.swf",officeStyles:"prompt",htmlStyles:"clean"},
resize:{bundled:!0},platform:{toolbar:{items:b}}}},state:function(){return{spelling:{words:{}},undo:{initial:{clean:"",marked:""},undo:[],redo:[]},profile:{spelling:!1,autocorrect:!0,capitalisation:!1,linkpreviews:!1},content:{clean:"",marked:""}}}}})})(f,h,m);(function(e,f,h){e("22",[],function(){return function(b){var d=function(c){return function(){var a=b.get();if(null===a[c]||void 0===a[c])throw"cant find instance method : "+c;return a[c].apply(null,arguments)}};return{content:d("content"),keyboard:d("keyboard"),
smartview:d("smartview"),macros:d("macros"),ui:d("ui"),filter:d("filter"),undo:d("undo"),operations:d("operations"),element:d("element"),connect:d("connect"),focus:d("focus"),getContent:d("getContent"),setContent:d("setContent"),state:d("state"),communication:d("communication"),uploader:d("uploader")}}})})(f,h,m);(function(e,f,h){e("23",["k"],function(b){return{settings:function(){var d=b.detect(),c={spelling:{bundled:!1},snippets:{bundled:!1},emoticons:{bundled:!1},highlighter:{bundled:!1},table:{bundled:!1},
embedly:{bundled:!1},resize:{bundled:!1}},a={resize:{bundled:!1}};return d.deviceType.isTouch()?c:d.browser.isIE()?a:{}}}})})(f,h,m);(function(e,f,h){e("7u",["2a"],function(b){var d=b.immutable("element","offset"),c=b.immutable("element","deltaOffset"),a=b.immutable("element","start","finish"),g=b.immutable("begin","end");b=b.immutable("element","text");return{point:d,delta:c,range:a,points:g,text:b}})})(f,h,m);(function(e,f,h){e("aa",["t","14"],function(b,d){return{get:function(b){if(!d.isText(b))throw"Can only get text of a text node";
try{return b.dom().nodeValue}catch(a){return""}},getOption:function(c){return d.isText(c)?b.some(c.dom().nodeValue):b.none()},set:function(b,a){if(!d.isText(b))throw"Can only set raw text of a text node";b.dom().nodeValue=a}}})})(f,h,m);(function(e,f,h){e("8h",["aa","1r"],function(b,d){var c=function(a){return b.getOption(a).fold(function(){return d.children(a).length},function(a){return a.length})};return{getEnd:c,isEnd:function(a,b){return c(a)===b},isStart:function(a,b){return 0===b}}})})(f,h,
m);(function(e,f,h){e("7v","8h 7u 1f 14 aa 1r".split(" "),function(b,d,c,a,g,k){var p=function(a){return"false"===c.get(a,"contenteditable")},l=function(a){a=a[a.length-1];var c=b.getEnd(a);return d.point(a,c)};return{descend:function(b,c){var l=k.children(b);if(0===l.length)return d.point(b,c);if(c<l.length)return d.point(l[c],0);var l=l[l.length-1],p=a.isText(l)?g.get(l).length:k.children(l).length;return d.point(l,p)},descendUntilLeaf:function(a,b){var c=d.point(a,b),g=function(a){return p(a.element())?
c:k.child(a.element(),a.offset()).fold(function(){return a},function(a){return g(d.point(a,0))})},e=k.children(a);return 0<e.length&&b<e.length?g(d.point(e[b],0)):0<e.length&&b===e.length?g(l(e)):c}}})})(f,h,m);(function(e,f,h){e("6t",[],function(){var b=function(b){return{fold:b}};return{on:function(d,c){return b(function(a,b,k){return b(d,c)})},before:function(d){return b(function(b,a,g){return b(d)})},after:function(d){return b(function(b,a,g){return g(d)})}}})})(f,h,m);(function(e,f,h){e("ag",
["8","j","1r","global!document"],function(b,d,c,a){var g=function(a,d){var l=[];b.each(c.children(a),function(a){d(a)&&(l=l.concat([a]));l=l.concat(g(a,d))});return l};return{all:function(b){return g(d.fromDom(a.body),b)},ancestors:function(a,d){return b.filter(c.parents(a),d)},siblings:function(a,d){return b.filter(c.siblings(a),d)},children:function(a,d){return b.filter(c.children(a),d)},descendants:g}})})(f,h,m);(function(e,f,h){e("8b","8 g 1f q 1p j 1g 2e 14 ag 51 1s 1t 1h aa 1r".split(" "),function(b,
d,c,a,g,k,p,l,n,q,e,r,t,w,u,f){var h="body p div article aside figcaption figure footer header nav section ol ul li table tr td th h1 h2 h3 h4 h5 h6 blockquote pre address".split(" ");return function(){return{up:d.constant({selector:w.ancestor,closest:w.closest,predicate:e.ancestor,all:f.parents}),down:d.constant({selector:t.descendants,predicate:q.descendants}),styles:d.constant({get:g.get,set:g.set,remove:g.remove}),attrs:d.constant({get:c.get,set:c.set,remove:c.remove}),insert:d.constant({before:p.before,
after:p.after,afterAll:l.after,append:p.append,appendAll:l.append,prepend:p.prepend,wrap:p.wrap}),remove:d.constant({unwrap:r.unwrap,detach:r.detach,remove:r.remove}),create:d.constant({nu:k.fromTag,clone:function(a){return k.fromDom(a.dom().cloneNode(!1))},text:k.fromText}),query:d.constant({comparePosition:function(a,b){return a.dom().compareDocumentPosition(b.dom())},prevSibling:f.prevSibling,nextSibling:f.nextSibling}),property:d.constant({children:f.children,name:n.name,parent:f.parent,isText:n.isText,
isElement:n.isElement,getText:u.get,setText:u.set,isBoundary:function(a){if(!n.isElement(a))return!1;if("body"===n.name(a))return!0;var c=g.get(a,"display");return void 0!==c&&0<c.length?b.contains(["block","table-cell","table-row","table","list-item"],c):b.contains(h,n.name(a))},isEmptyTag:function(a){return n.isElement(a)?b.contains(["br","img"],n.name(a)):!1}}),eq:a.eq,is:a.is}}})})(f,h,m);(function(e,f,h){e("p9",["8","g","t","2a"],function(b,d,c,a){var g=function(a,g,l){g=a.property().children(g);
a=b.findIndex(g,d.curry(a.eq,l));return-1<a?c.some({before:d.constant(g.slice(0,a)),after:d.constant(g.slice(a+1))}):c.none()};return{breakAt:function(a,b,c){return g(a,b,c).map(function(c){var d=a.create().clone(b);a.insert().appendAll(d,c.after());a.insert().after(b,d);return d})},breakPath:function(b,g,l,n){var q=a.immutable("first","second","splits"),e=function(a,g,p){var u=q(a,c.none(),p);return l(a)?q(a,g,p):b.property().parent(a).fold(function(){return u},function(c){var g=n(b,c,a),l=g.fold(d.constant([]),
function(a){return[{first:d.constant(c),second:d.constant(a)}]});return e(c,g,p.concat(l))})};return e(g,c.none(),[])}}})})(f,h,m);(function(e,f,h){e("pa",["8","g","t"],function(b,d,c){var a=function(a,c,d,n){d=c(a,d);return b.foldr(n,function(b,d){var l=c(a,d);return g(a,b,l)},d)},g=function(a,b,c){return b.bind(function(b){return c.filter(d.curry(a.eq,b))})};return{oneAll:function(b,d,g){if(0<g.length){var n=g[0];g=g.slice(1);b=a(b,d,n,g)}else b=c.none();return b}}})})(f,h,m);(function(e,f,h){e("pb",
["8","g","t","global!Math"],function(b,d,c,a){var g=function(g,k,n,q){var e=g.property().children(k);if(g.eq(k,n[0]))return c.some([n[0]]);if(g.eq(k,q[0]))return c.some([q[0]]);var r=function(a){a=b.reverse(a);var c=b.findIndex(a,d.curry(g.eq,k));return b.findIndex(e,d.curry(g.eq,c<a.length-1?a[c+1]:a[c]))};n=r(n);q=r(q);var r=a.min(n,q),t=a.max(n,q);return-1<n&&-1<q?c.some(e.slice(r,t+1)):c.none()},k=function(a,g,k,q){var e=void 0!==q?q:d.constant(!1);g=[g].concat(a.up().all(g));q=[k].concat(a.up().all(k));
var r=function(a){var c=b.findIndex(a,e);return-1<c?a.slice(0,c):a};k=r(g);var t=r(q);g=b.find(k,function(c){return b.exists(t,d.curry(a.eq,c))});g=c.from(g);return{firstpath:d.constant(k),secondpath:d.constant(t),shared:d.constant(g)}};return{subset:function(a,b,c){var d=k(a,b,c);return d.shared().bind(function(b){return g(a,b,d.firstpath(),d.secondpath())})}}})})(f,h,m);(function(e,f,h){e("ma",["p9","pa","pb"],function(b,d,c){return{sharedOne:function(a,b,c){return d.oneAll(a,b,c)},subset:function(a,
b,d){return c.subset(a,b,d)},breakAt:function(a,c,d){return b.breakAt(a,c,d)},breakPath:function(a,c,d,p){return b.breakPath(a,c,d,p)}}})})(f,h,m);(function(e,f,h){e("hv",["8b","ma"],function(b,d){var c=b();return{sharedOne:function(a,b){return d.sharedOne(c,function(b,c){return a(c)},b)},subset:function(a,b){return d.subset(c,a,b)},breakAt:function(a,b){return d.breakAt(c,a,b)},breakPath:function(a,b,k){return d.breakPath(c,a,b,function(a,b,c){return k(b,c)})}}})})(f,h,m);(function(e,f,h){e("mb",
["q","j","1g","14","1s"],function(b,d,c,a,g){return{forceAddBr:function(k,p){if("br"!==a.name(k)){var l=d.fromTag("br");a.isText(k)?(c.after(k,l),b.eq(p,k)||g.remove(k)):c.prepend(k,l)}},rootBr:function(a,b){c.before(a,d.fromTag("br"))}}})})(f,h,m);(function(e,f,h){e("mc",["8","1r"],function(b,d){var c=function(a,k,p){var l=[];b.each(d.children(a),function(a){k(a)&&(l=l.concat([a]));l=p(a)?l:l.concat(c(a,k,p))});return l},a=function(b,c){var p=d.children(b);return 0<p.length?(p=p[0],c(p)?b:a(p,c)):
0<p.length?a(p[0]):b};return{descendants:c,plunge:a}})})(f,h,m);(function(e,f,h){e("d2",["8"],function(b){var d="body p div article aside figcaption figure footer header nav section ol ul table tr td th h1 h2 h3 h4 h5 h6 blockquote pre".split(" ");return{isBlock:function(c,a){var g=c.property().name(a);return b.contains(d,g)},isFormatting:function(c,a){var d=c.property().name(a);return b.contains("address pre p h1 h2 h3 h4 h5 h6".split(" "),d)},isContainer:function(c,a){return b.contains("div li td th blockquote body".split(" "),
c.property().name(a))}}})})(f,h,m);(function(e,f,h){e("88",["8b","d2"],function(b,d){var c=b();return{isBlock:function(a){return d.isBlock(c,a)},isFormatting:function(a){return d.isFormatting(c,a)},isContainer:function(a){return d.isContainer(c,a)}}})})(f,h,m);(function(e,f,h){e("e5","8 g t 88 q 14 ag 51 aa".split(" "),function(b,d,c,a,g,k,p,l,n){var q=function(a,b){return b(a)?c.some(a):l.ancestor(a,b)},e=function(a){a=k.name(a);return"td"===a||"th"===a},r=function(b){return"li"===k.name(b)||a.isBlock(b)},
t=function(a){return"a"===k.name(a)},w=function(a){return q(a,r)};return{stopAt:function(a){return d.curry(g.eq,a)},isList:function(a){a=k.name(a);return"ol"===a||"ul"===a},isAnchor:t,isCollapsed:function(a){return g.eq(a.startContainer(),a.endContainer())&&a.startOffset()===a.endOffset()},exitList:function(a){return 0===p.descendants(a,function(a){return k.isText(a)&&0<n.get(a).length||k.isElement(a)&&b.contains(["hr","img"],k.name(a))}).length},findBlock:w,findValidHardBreak:function(a,b){return w(a).filter(d.not(b)).filter(d.not(e))},
findAnchorBreak:function(a,b){return q(a,t).filter(d.not(b)).filter(d.not(e))}}})})(f,h,m);(function(e,f,h){e("86",[],function(){return{zeroWidth:function(){return"\ufeff"}}})})(f,h,m);(function(e,f,h){e("1m",["1a","j","1g"],function(b,d,c){var a=function(a){return b(a.dom()).html()};return{get:a,set:function(a,b){a.dom().innerHTML=b},getOuter:function(b){var k=d.fromTag("div");b=d.fromDom(b.dom().cloneNode(!0));c.append(k,b);return a(k)}}})})(f,h,m);(function(e,f,h){e("md","86 8 1f 1m 14 1t aa 1r 1d".split(" "),
function(b,d,c,a,g,k,p,l,n){var q=function(a){if(!g.isText(a))return!1;a=p.get(a).trim();return 0===a.length||0===a.replace(b.zeroWidth(),"").length},e=function(b){if(g.isText(b))return q(b);var c=a.get(b);b=l.children(b);return""===n.trim(c)||d.forall(b,q)};return{vacant:function(a){a=k.descendants(a,"span,a");return d.filter(a,function(a){return"span"===g.name(a)?!(c.has(a,"class")&&0<c.get(a,"class").length)&&!c.has(a,"style")&&e(a):e(a)})},isEmpty:e,hasCursor:function(a,b){var c=void 0!==b?b:
["hr","br","img"];return g.isText(a)?!1===q(a):d.contains(c,g.name(a))},isVacantText:q,hasNoContent:e}})})(f,h,m);(function(e,f,h){e("hm","8 g t mb mc e5 md 1f 14 1s 1t".split(" "),function(b,d,c,a,g,k,p,l,n,q,e){var r=function(a){var b="li"===n.name(a)?k.isList:d.constant(!1);return 0<g.descendants(a,p.hasCursor,b).length?c.none():c.some(g.plunge(a,b))},t=function(a){a=p.vacant(a);b.each(a,q.remove)},w=function(a,c){var d=e.descendants(c,a),d=b.filter(d,p.isEmpty);b.each(d,q.remove);p.isEmpty(c)&&
q.remove(c)};return{vacate:t,emptyStyles:function(a){!0===l.has(a,"style")&&0===l.get(a,"style").length&&l.remove(a,"style")},needsCursor:r,postprocess:function(b,c,d){t(b);r(b).each(function(b){a.forceAddBr(b,c)})},lists:d.curry(w,"ul,ol"),blockquotes:d.curry(w,"blockquote")}})})(f,h,m);(function(e,f,h){e("hl",["8","g","hv","hm","1f"],function(b,d,c,a,g){var k=function(c){b.each(["id"],d.curry(g.remove,c));a.emptyStyles(c)},p=function(a,b){var d=c.breakAt(a,b);d.each(k);return d};return{breakPath:function(a,
b){return c.breakPath(a,b,p)}}})})(f,h,m);(function(e,f,h){e("c9","8 6t g hl hm e5 1g".split(" "),function(b,d,c,a,g,k,p){return{breakQuote:function(l,n){var q=a.breakPath(n,k.stopAt(l));return q.second().map(function(a){var k=q.first();p.before(a,n);b.each([k,a],g.blockquotes);return{start:c.constant(d.on(n,0)),finish:c.constant(d.on(n,0))}})}}})})(f,h,m);(function(e,f,h){e("7w",["c9"],function(b){return{breakQuote:b.breakQuote}})})(f,h,m);(function(e,f,h){e("ca",["g"],function(b){return{tag:function(){return"p"},
nu:function(d){return b.curry(d.create().nu,"p")}}})})(f,h,m);(function(e,f,h){e("pc",["2a"],function(b){return b.immutable("left","element","right")})})(f,h,m);(function(e,f,h){e("pe",["2a"],function(b){return b.immutable("result","pruned")})})(f,h,m);(function(e,f,h){e("qo",["pe"],function(b){var d=function(a,b,c,d,n){return a.fold(function(){var a=c(b,d,n);return{r:a.result(),pruned:a.pruned()}},function(a){return{r:a,pruned:!0}})},c=function(a,k,p){for(var l=[],n=a.length-1;0<=n;n--){var q=a[n],
e=p.left(q),q=d(e,c,k,q,p),l=l.concat(q.r);if(q.pruned)return b(l,!0)}return b(l,!1)},a=function(c,k,p){for(var l=[],n=0;n<c.length;n++){var q=c[n],e=p.right(q),q=d(e,a,k,q,p),l=l.concat(q.r);if(q.pruned)return b(l,!0)}return b(l,!1)};return{ltr:a,rtl:c}})})(f,h,m);(function(e,f,h){e("qp",["8","g"],function(b,d){var c=function(a,b){return a.property().parent(b).fold(d.constant([]),function(b){return a.property().children(b)})};return{left:function(a,d){var k=c(a,d),p=b.findIndex(k,function(b){return a.eq(b,
d)});return k.slice(0,p)},right:function(a,d){var k=c(a,d),p=b.findIndex(k,function(b){return a.eq(b,d)});return-1<p?k.slice(p+1):[]}}})})(f,h,m);(function(e,f,h){e("pd",["qo","qp"],function(b,d){return{left:function(){return{iter:b.rtl,siblings:d.left}},right:function(){return{iter:b.ltr,siblings:d.right}}}})})(f,h,m);(function(e,f,h){e("o1",["8","g","pc","pd"],function(b,d,c,a){var g=d.curry,k=function(a,b,c,d,k){var e;e=b.siblings(a,c);e=b.iter(e,k,d);return p(e,g(l,a,b,c,d,k))},p=function(a,b){return a.pruned()?
a.result():a.result().concat(b())},l=function(a,b,c,d,k){return a.property().parent(c).fold(function(){return[]},function(c){if(d.stop(c))return[];var e;e=b.siblings(a,c);e=b.iter(e,k,d);return p(e,g(l,a,b,c,d,k))})};return{traverse:k,gather:function(d,g,l,p){var e=k(d,a.left(),g,l,p);d=k(d,a.right(),g,l,p);e=b.reverse(e);return c(e,g,d)}}})})(f,h,m);(function(e,f,h){e("o2",["g","t","pe","o1","pd"],function(b,d,c,a,g){var k=b.constant(d.some([])),p=function(a,b){return 0===a.property().children(b).length?
d.some([b]):d.none()},l=function(a,d,g,k){var p=a.property().children(g);a=b.curry(l,a);return 0===p.length?c([g],!0):d(p,a,k)};return{before:function(c,q,e){var r=b.curry(l,c);c=a.traverse(c,g.left(),q,{left:b.curry(p,c),right:k,stop:void 0!==e?e:b.constant(!1)},r);return d.from(c[0])},after:function(c,q,e){var r=b.curry(l,c);c=a.traverse(c,g.right(),q,{left:k,right:b.curry(p,c),stop:void 0!==e?e:b.constant(!1)},r);return d.from(c[0])}}})})(f,h,m);(function(e,f,h){e("jz",["o1","o2"],function(b,d){return{gather:function(c,
a,d,k){return b.gather(c,a,d,k)},before:function(b,a,g){return d.before(b,a,g)},after:function(b,a,g){return d.after(b,a,g)}}})})(f,h,m);(function(e,f,h){e("pf",["g","t"],function(b,d){return{range:function(c,a,g){var k=b.constant(d.some([])),p=function(a){return c.eq(a,g)?d.some([a]):d.none()};a=c.query().comparePosition(a,g);return{left:a&2?p:k,right:a&4?p:k,stop:b.constant(!1)}}}})})(f,h,m);(function(e,f,h){e("pg",["8","g"],function(b,d){var c=function(a,c,k){k=a.up().all(k);return b.exists(k,
function(k){return b.exists(c,d.curry(a.eq,k))})};return{simplify:function(a,g){return b.filter(g,function(k,p){var l=g.slice(0,p),n=g.slice(p+1),l=l.concat(n);return!(b.exists(n,d.curry(a.eq,k))||c(a,l,k))})}}})})(f,h,m);(function(e,f,h){e("ph",["pe"],function(b){return function(d){var c=function(c,k,p){var l=d.property().children(k);c=c(l,function(b,c,d){return a(b,c,d)},p);return c.pruned()?c:b([k],!1)},a=function(a,k,p){return 0===d.property().children(k).length?b([k],!1):c(a,k,p)};return a}})})(f,
h,m);(function(e,f,h){e("me",["jz","pf","pg","ph"],function(b,d,c,a){return{between:function(c,k,p){p=d.range(c,k,p);c=b.gather(c,k,p,a(c));return c.left().concat([k]).concat(c.right())},simplify:function(a,b){return c.simplify(a,b)},transform:function(b){return a(b)}}})})(f,h,m);(function(e,f,h){e("hu",["3","3q"],function(b,d){var c=d.generate([{none:[]},{root:["target","block"]},{created:["target","block"]},{actual:["target","block"]}]);return b.merge(c,{cata:function(a,b,c,d,l){return a.fold(b,
c,d,l)}})})})(f,h,m);(function(e,f,h){e("qq",[],function(){return{isBlock:function(b,d){return b.property().isEmptyTag(d)||b.property().isBoundary(d)}}})})(f,h,m);(function(e,f,h){e("pi",["t","jz","me","qq"],function(b,d,c,a){var g=function(c){var d=function(b){return a.isBlock(c,b)};return{stop:d,left:function(a){return d(a)?b.some([a]):b.none()},right:function(a){return d(a)?b.some([a]):b.none()}}};return{gather:function(a,b){var l=c.transform(a);return d.gather(a,b,g(a),l)}}})})(f,h,m);(function(e,
f,h){e("mf",["8","t","ma","pi"],function(b,d,c,a){var g=function(a,b){return function(c){return a.property().parent(c).map(function(c){return a.eq(c,b)}).getOr(!1)}},k=function(a,b,k){return a.eq(b,k)?d.none():a.property().isBoundary(k)?a.query().nextSibling(k):a.property().isEmptyTag(k)?(b=g(a,b),b(k)?a.query().nextSibling(k):c.breakPath(a,k,b,c.breakAt).second()):d.none()},p=function(a,b,k){if(a.eq(b,k))return d.none();if(a.property().isBoundary(k))return a.query().prevSibling(k);if(a.property().isEmptyTag(k)){var l=
g(a,b);return l(k)?a.query().prevSibling(k):a.query().prevSibling(k).map(function(b){return c.breakPath(a,b,l,c.breakAt).first()})}return d.none()},l=function(a,c,g,k){return g(a,c,k).bind(function(g){var k=a.property().children(c),k=b.findIndex(k,function(b){return a.eq(b,g)});return-1<k?d.some(k):d.none()})};return{create:function(b,c,g){g=a.gather(b,g);var e=g.left().concat([g.element()]).concat(g.right());g=d.from(e[0]).bind(function(a){return l(b,c,k,a)}).getOr(0);var t=b.property().children(c),
e=d.from(e[e.length-1]).bind(function(a){return l(b,c,p,a)}).getOr(t.length-1);return b.property().children(c).slice(g,e+1)}}})})(f,h,m);(function(e,f,h){e("mh",["8","g"],function(b,d){return{boundAt:function(c,a,g,k){a=b.findIndex(c,d.curry(k,a));a=-1<a?a:0;g=b.findIndex(c,d.curry(k,g));return c.slice(a,-1<g?g+1:c.length)}}})})(f,h,m);(function(e,f,h){e("mi",["8"],function(b){return{sliceby:function(d,c){var a=b.findIndex(d,c);return d.slice(0,a)}}})})(f,h,m);(function(e,f,h){e("mj",["8"],function(b){return{splitby:function(d,
c){var a=[],g=[];b.each(d,function(b){c(b)?(a.push(g),g=[]):g.push(b)});0<g.length&&a.push(g);return a}}})})(f,h,m);(function(e,f,h){e("hp",["mh","mi","mj"],function(b,d,c){return{splitby:function(a,b){return c.splitby(a,b)},sliceby:function(a,b){return d.sliceby(a,b)},boundAt:function(a,c,d,p){return b.boundAt(a,c,d,p)}}})})(f,h,m);(function(e,f,h){e("pj",["g","t","2a"],function(b,d,c){var a=c.immutable("start","end"),g=function(a,b){var c=a.property().children(b);return d.from(c[c.length-1])},k=
function(a,b,c){a=a.property().children(b);return d.from(a[c])};c=function(a,b,c,d){return(b.eq(d,c)?p:a)(b,c,d)};var p=function(b,c){var d=b.property().children(c);0<d.length?d=a(d[0],d[d.length-1]):(d=b.nu().tag("br"),b.insert().append(c,d),d=a(d,d));return d};return{readFromStart:b.curry(c,function(b,c,d){return k(b,c,0).fold(function(){return p(b,c)},function(b){return a(b,d)})}),readToEnd:b.curry(c,function(b,c,d){return g(b,c).fold(function(){return p(b,c)},function(b){return a(d,b)})}),contents:p,
shareTable:function(a,b,c){var d=a.up().closest;return d(b,"table").bind(function(b){return d(c,"table").map(function(c){return a.eq(b,c)})}).getOr(!1)}}})})(f,h,m);(function(e,f,h){e("mg","8 g hp 3q 2a pj".split(" "),function(b,d,c,a,g,k){var p=g.immutable("start","end"),l=a.generate([{sameCells:["start","end","cell"]},{oneTable:["start","startCell","end","endCell"]},{differentTables:["start","end"]},{other:["start","end"]}]);return function(a){var g=function(b,d){var g=a.up().closest(b,"table").getOrDie(),
g=a.down().selector(g,"td, th"),g=c.boundAt(g,b,d,a.eq);return g.slice(1,g.length-1)},e=function(b,c){return a.up().closest(b,"td,th").bind(function(d){return a.up().closest(c,"td,th").map(function(g){return a.eq(d,g)?l.sameCells(b,c,d):k.shareTable(a,d,g)?l.oneTable(b,d,c,g):l.differentTables(b,c)})}).fold(function(){return l.other(b,c)},d.identity)},r=function(c){var l=function(a,b){return[p(a,b)]};return c.fold(l,function(c,l,p,e){var s,r=(s=0<(a.query().comparePosition(l,e)&2))?g(e,l):g(l,e),
t=s?k.readToEnd:k.readFromStart;return b.flatten([[(s?k.readFromStart:k.readToEnd)(a,l,c)],b.map(r,d.curry(k.contents,a)),[t(a,e,p)]])},l,l)};return{gather:function(a,b){var c=e(a,b);return r(c)}}}})})(f,h,m);(function(e,f,h){e("hn","8 g t ma me hu mf mg".split(" "),function(b,d,c,a,g,k,p,l){var n=function(a,b,d){return d(b)?c.some(b):a.up().predicate(b,d)},q=function(a,b,c){c=c();a.insert().wrap(b,c);return k.created(b,c)},e=function(a,c,d,g){var l=g();a.insert().before(d[0],l);b.each(d,function(b){a.insert().append(l,
b)});return k.created(c,l)},r=function(a,b,c,d,g){return g(c)?k.root(c,b):d.fold(function(){return k.root(c,b)},function(d){if(a.property().isEmptyTag(c))d=q(a,c,d);else{var g=p.create(a,b,c);d=0<g.length?e(a,c,g,d):q(a,c,d)}return d})},t=function(a,b,c,d,g){return n(a,c,b).fold(k.none,function(b){return g(b)?r(a,b,c,d,g):k.actual(c,b)})},w=function(a,c,g,l,p){return g.fold(d.constant([]),function(g){var n=d.constant([]),q=function(a,b){return[b]};return b.bind(g,function(b){b=t(a,c,b,l,p);return k.cata(b,
n,n,q,q)})})};return{single:t,multiple:function(c,d,k,p,n,q){k=l(c).gather(k,p);return b.bind(k,function(b){b=a.subset(c,b.start(),b.end());b=w(c,d,b,n,q);return g.simplify(c,b)})}}})})(f,h,m);(function(e,f,h){e("cb",["8b","8","hn","14"],function(b,d,c,a){var g=b(),k=function(b){return d.contains("ol p div ul table td th h1 h2 h3 h4 h5 h6 body blockquote".split(" "),a.name(b))};return{single:function(a,b,d){return c.single(g,k,a,b,d)},multiple:function(a,b,d,q){return c.multiple(g,k,a,b,d,q)},multipleWith:function(a,
b,d,k,e){return c.multiple(g,a,b,d,k,e)},isBlock:k}})})(f,h,m);(function(e,f,h){e("ho",["g","2a","q","1r","global!Math"],function(b,d,c,a,g){var k=d.immutable("element","offset"),p=function(b,c){var d=a.children(b);return 0<d.length?k(d[g.max(0,g.min(c,d.length-1))],0):k(b,c)};return{after:function(a,d,g,k){var e;(e=c.eq(a,g)&&d>k)||(a=p(a,d),g=p(g,k),k=a.element().dom().compareDocumentPosition(g.element().dom()),g={comparison:b.constant(k),start:a.element,finish:g.element,soffset:a.offset,foffset:g.offset},
e=c.eq(g.start(),g.finish())&&g.soffset()>g.foffset()||0<(g.comparison()&2));return e}}})})(f,h,m);(function(e,f,h){e("cc","8 q ho 14 1t 1h hp".split(" "),function(b,d,c,a,g,k,p){return{expand:function(l,n,q,e,r){var t=c.after(n,q,e,r),w=["ol","ul"];return b.bind(l,function(c){if(b.contains(w,a.name(c))){c=("li"===a.name(c)?["li"]:[]).concat(g.descendants(c,"li"));var l=k.closest(n,"li").getOr(n),q=k.closest(e,"li").getOr(e);c=p.boundAt(c,t?q:l,t?l:q,d.eq)}else c=[c];return c})}}})})(f,h,m);(function(e,
f,h){e("hq",["1p"],function(b){var d=function(c){return"rtl"===b.get(c,"direction")?"rtl":"ltr"};return{onDirection:function(b,a){return function(g){return"rtl"===d(g)?a:b}},getDirection:d}})})(f,h,m);(function(e,f,h){e("cd",["1p","hq"],function(b,d){var c=function(a){return function(b){return a}},a={start:d.onDirection("left","right"),end:d.onDirection("right","left"),justify:c("justify"),center:c("center"),"match-parent":c("match-parent")};return{hasAlignment:function(c,d,p){d=b.get(c,d);return(void 0!==
a[d]?a[d](c):d)===p}}})})(f,h,m);(function(e,f,h){e("ce",["1p"],function(b){return function(d,c){return{is:function(a){return b.get(a,d)===c},remove:function(a){b.remove(a,d)},set:function(a){b.set(a,d,c)}}}})})(f,h,m);(function(e,f,h){e("7x","8b 8 g t ca cb cc cd ce 14 1r".split(" "),function(b,d,c,a,g,k,p,l,n,q,e){var r=b(),t=function(a){return q.isElement(a)?a:e.parent(a).getOr(a)},w=function(a){return function(b){return k.isBlock(b)||d.contains(a,q.name(b))}},u=function(b,q){var e=n("text-align",
q);return{run:function(b,l,n,q,s){b=k.multipleWith(w(["li"]),l,q,a.some(g.nu(r)),b);n=p.expand(b,l,n,q,s);s=d.forall(n,e.is)?e.remove:e.set;d.each(n,s);return a.some({start:c.constant(l),finish:c.constant(q),all:c.constant(n)})},query:function(a,b){var c=t(a),d=t(b);return l.hasAlignment(c,"text-align",q)&&l.hasAlignment(d,"text-align",q)},name:c.constant(b)}};b=u("JustifyLeft","left");var f=u("JustifyCenter","center"),h=u("JustifyRight","right"),u=u("JustifyFull","justify");return{justifyleft:c.constant(b),
justifycentre:c.constant(f),justifyright:c.constant(h),justifyfull:c.constant(u)}})})(f,h,m);(function(e,f,h){e("mk",["2a"],function(b){return b.immutable("level","content","cruft","list","item")})})(f,h,m);(function(e,f,h){e("hr",["mk"],function(b){return{changeLevel:function(d,c){return b(d.level()+c,d.content(),d.cruft(),d.list(),d.item())}}})})(f,h,m);(function(e,f,h){e("cf",["8","hr","g","q"],function(b,d,c,a){var g=function(c,d){var g=b.find(c,function(b){return a.eq(d,b)});return null!==g&&
void 0!==g},k=function(a,c,k){return b.map(c,function(b){return g(k,b.item())?d.changeLevel(b,a):b})},p=c.curry(k,1);c=c.curry(k,-1);return{indent:p,outdent:c}})})(f,h,m);(function(e,f,h){e("cg",["1u"],function(b){return{isRootOrCell:function(d){return function(c){return d(c)||b.is(c,"td,th")}}}})})(f,h,m);(function(e,f,h){e("ch","8 g t q 1t 1h".split(" "),function(b,d,c,a,g,k){var p=function(a){return k.closest(a,"li").bind(function(a){return l(a).map(function(b){return{item:d.constant(a),outerlist:d.constant(b)}})})},
l=function(a){a=g.ancestors(a,"ol,ul");return c.from(a[a.length-1])};return{context:function(b,d){return p(b).bind(function(b){return p(d).bind(function(d){return a.eq(b.outerlist(),d.outerlist())?c.some({outerlist:b.outerlist,startItem:b.item,finishItem:d.item}):c.none()})})},replaced:function(c,d){var g=b.find(d,function(b){return a.eq(b.original(),c)});return void 0!==g&&null!==g?g.replaced():c}}})})(f,h,m);(function(e,f,h){e("ml",["8","t","2a"],function(b,d,c){var a=c.immutable("before","on",
"after");return{refine:function(c,k){var p=b.findIndex(c,k),l=a(c,d.none(),[]);if(-1===p)p=l;else var l=d.from(c[p]),n=c.slice(0,p),p=c.slice(p+1),p=a(n,l,p);return p}}})})(f,h,m);(function(e,f,h){e("hs","8 mk ml 1p 1t 1u 1r".split(" "),function(b,d,c,a,g,k,p){var l=function(a,c){var d=g.children(a,"li");return b.bind(d,function(b){return n(a,b,c)})},n=function(b,c,g){var k=e(c),p="none"===a.get(c,"list-style-type")?[]:[d(g,k.before(),k.after(),b,c)];return k.on().fold(function(){return p},function(a){a=
l(a,g+1);return p.concat(a)})},q=function(a){return k.is(a,"ol,ul")},e=function(a){a=p.children(a);return c.refine(a,q)};return{read:function(a){return l(a,1)}}})})(f,h,m);(function(e,f,h){e("mm",["8","2a"],function(b,d){var c=d.immutable("elements","elementsTransformed"),a=d.immutable("original","replaced"),g=d.immutable("result","items");return{write:function(d,p){var l=[],n=function(a){var b=d.create().nu("p");d.insert().appendAll(b,a);return b},q=function(a){if(0===a.length)throw"Cannot get tail of an empty array";
return a.slice(1)},e=function(a,c){for(var l=d.create().clone(c[0].list()),p=[];0<c.length&&c[0].level()>=a;){var n;if(c[0].level()===a){var r=a;n=c;var f=n[0],h;h=f;var m=h.item(),x=m,x=d.property().children(x);b.each(x,d.remove().remove);d.insert().appendAll(m,h.content());h=m;f=f.cruft();n=q(n);0<n.length&&n[0].level()>r&&(r=e(r+1,n),n=r.items(),d.insert().append(h,r.result()));d.insert().appendAll(h,f);n=g(h,n);n=g([n.result()],n.items())}else n=e(a+1,c),r=d.create().nu("li"),d.styles().set(r,
"list-style-type","none"),d.attrs().remove(l,"id"),d.insert().append(r,n.result()),n=g([r],n.items());c=n.items();p=p.concat(n.result())}d.insert().appendAll(l,p);return g(l,c)},r=function(b){for(var c=[];0<b.length;){var d=b[0];if(0===d.level()){var k;k=b[0];var p=n(k.content());l.push(a(k.item(),p));k=g([p],q(b));b=k.items();c=c.concat(k.result());for(k=[];0<b.length&&0<b[0].level();)p=e(1,b),b=p.items(),k=k.concat([p.result()]);k=g(k,b);b=k.items();c=c.concat(k.result());0<d.cruft().length&&(c=
c.concat([n(d.cruft())]))}else d=e(1,b),b=d.items(),c=c.concat([d.result()])}return g(c,b)}(p);if(0!==r.items().length)throw"Error - there should not be any remaining items to parse";return c(r.result(),l)}}})})(f,h,m);(function(e,f,h){e("ht",["8b","mm","g"],function(b,d,c){return{write:c.curry(d.write,b())}})})(f,h,m);(function(e,f,h){e("ci","8b 8 hs ht t q 2e 1s 1t global!Math".split(" "),function(b,d,c,a,g,k,p,l,n,q){var e=function(a,b){return d.findIndex(a,function(a){return k.eq(a,b)})},r=function(a,
b,c){b=e(a,b);var d=e(a,c);c=q.min(b,d);b=q.max(b,d);return-1<c&&-1<b?g.some(a.slice(c,b+1)):g.none()},t=function(b,d,g){var k=c.read(d);b=b(k,g);b=a.write(b);p.before(d,b.elements());l.remove(d);return b};return{single:function(a,b,c){return g.some(t(a,c.outerlist(),[c.startItem()]))},many:function(a,b){var c=n.descendants(b.outerlist(),"li");return r(c,b.startItem(),b.finishItem()).map(function(c){return t(a,b.outerlist(),c)})}}})})(f,h,m);f("global!parseInt",[],function(){return parseInt});(function(e,
f,h){e("cj","8b g t ca hu cb 1p j global!parseInt".split(" "),function(b,d,c,a,g,k,p,l,n){b();var q=function(){return l.fromTag(a.tag())},e=function(a,b){var c=p.get(b,"margin-left"),c=n(c,10)+40*a;(0<c?p.set:p.remove)(b,"margin-left",c)};return{adjust:function(a,b,l){a=k.single(l,c.some(q),a);l=function(a,c){e(b,c)};g.cata(a,d.noop,d.noop,l,l)},adjustMargin:e}})})(f,h,m);(function(e,f,h){e("7y","8b 8 cf g t ca cg cb ch ci cj q".split(" "),function(b,d,c,a,g,k,p,l,n,q,e,r){var t=b(),w=function(b,
c,d,g){return(r.eq(b,c)?q.single(d,b,g):q.many(d,g)).map(function(d){var g=d.elementsTransformed(),k=n.replaced(b,g),g=n.replaced(c,g);return{start:a.constant(k),finish:a.constant(g),all:a.constant(d.elements())}})},f=function(a,b,c,d){e.adjust(a,d,b);return[b]},h=function(a,b,c,p){a=l.multiple(b,c,g.some(k.nu(t)),a);d.each(a,function(a){e.adjustMargin(p,a)});return a},m=function(b,c,d,k){b=(r.eq(c,d)?f:h)(b,c,d,k);return g.some({start:a.constant(c),finish:a.constant(d),all:a.constant(b)})};return{indent:function(a,
b,d){var g=p.isRootOrCell(a);return n.context(b,d).fold(function(){return m(g,b,d,1)},function(a){return w(b,d,c.indent,a)})},outdent:function(a,b,d){var g=p.isRootOrCell(a);return n.context(b,d).fold(function(){return m(g,b,d,-1)},function(a){return w(b,d,c.outdent,a)})}}})})(f,h,m);(function(e,f,h){e("cm","8 hv j 1s 1t 1h".split(" "),function(b,d,c,a,g,k){var p=function(a){return k.closest(a,"blockquote")};return{point:p,all:function(a){return d.sharedOne(p,a)},cleanup:function(c){c=g.descendants(c,
"blockquote");b.map(c,a.unwrap)},nu:function(){return c.fromTag("blockquote")}}})})(f,h,m);(function(e,f,h){e("ck","t ca cb cm j 1g 2e 1s".split(" "),function(b,d,c,a,g,k,p,l){var n=function(){return g.fromTag(d.tag())};return{enquote:function(d,g,l){d=c.multiple(g,l,b.some(n),d);g=a.nu();0<d.length&&(k.before(d[0],g),p.append(g,d),a.cleanup(g))},dequote:function(a){l.unwrap(a)}}})})(f,h,m);(function(e,f,h){e("cl","g t hu cb cm 1g 1s".split(" "),function(b,d,c,a,g,k,p){return{enquote:function(l,p){var e=
a.single(p,d.some(g.nu),l);c.cata(e,b.noop,b.noop,b.noop,function(a,b){var c=g.nu();k.wrap(b,c);g.cleanup(c)})},dequote:function(a){p.unwrap(a)}}})})(f,h,m);(function(e,f,h){e("7z",["cg","ck","cl","cm","q"],function(b,d,c,a,g){var k=function(b,d){a.point(d).fold(function(){c.enquote(b,d)},c.dequote)},p=function(b,c,g){a.all([c,g]).fold(function(){d.enquote(b,c,g)},d.dequote)};return{toggle:function(a,c,d){(g.eq(c,d)?k:p)(b.isRootOrCell(a),c,d)},queryPoint:a.point,queryAll:a.all}})})(f,h,m);(function(e,
f,h){e("4i","7u 7v 7w 7x 7y 7z".split(" "),function(b,d,c,a,g,k){var p=function(a){return function(b){var c=b.undo();c.save();a(b);c.save()}},l=function(a){return function(b){var c=b.content();c.getSelection().each(function(b){(0<a?g.indent:g.outdent)(c.isRoot,b.startContainer(),b.endContainer()).each(function(a){c.setSelection(a.start(),b.startOffset(),a.finish(),b.endOffset())})})}},n=function(a,c,g){return g(a)?d.descend(a,c):b.point(a,c)},e=function(a){return function(b){var c=b.content();c.getSelection().each(function(b){var d=
n(b.startContainer(),b.startOffset(),c.isRoot),g=n(b.endContainer(),b.endOffset(),c.isRoot);a.run(c.isRoot,d.element(),d.offset(),g.element(),g.offset()).each(function(a){c.setSelection(a.start(),d.offset(),a.finish(),g.offset())});c.uiChanged()})}};return{indent:p(l(1)),outdent:p(l(-1)),blockquote:p(function(a){var b=a.content();a.operations().preserve(function(a,c){k.toggle(b.isRoot,a,c)})}),justifyLeft:p(e(a.justifyleft())),justifyCentre:p(e(a.justifycentre())),justifyRight:p(e(a.justifyright())),
justifyFull:p(e(a.justifyfull())),breakQuote:function(a,b,d){c.breakQuote(b,d).each(function(b){a.content().setRelativeSelection(b.start(),b.finish())})}}})})(f,h,m);(function(e,f,h){e("82",["14","1r"],function(b,d){return{hasNoContent:function(c){var a=d.children(c);return b.isElement(c)&&(0===a.length||1===a.length&&"br"===b.name(a[0]))}}})})(f,h,m);(function(e,f,h){e("4m",["g"],function(b){var d=function(){return g(function(a,b,c){return a()},"off")},c=function(){return g(function(a,b,c){return b()},
"unchanged")},a=function(a){return g(function(b,c,d){return d(a)},"on")},g=function(g,p){return{fold:g,map:function(b){return g(d,c,function(c){return a(b(c))})},label:b.constant(p)}};return{off:d,unchanged:c,on:a}})})(f,h,m);(function(e,f,h){e("4k","8 g t 82 4m 2a 7z 7x q 1h".split(" "),function(b,d,c,a,g,k,p,l,n,e){var s=k.immutable("alignment","quoted"),r=function(a){return a.getSelection().fold(function(){return!1},function(a){var b=a.startContainer();a=a.endContainer();return n.eq(b,a)?p.queryPoint(b).isSome():
p.queryAll([b,a]).isSome()})},t=[l.justifyleft(),l.justifycentre(),l.justifyright(),l.justifyfull()],w=function(a){return a.getSelection().bind(function(a){var d=b.find(t,function(b){return b.query(a.startContainer(),a.endContainer())});return null!==d&&void 0!==d?c.some(d.name()):c.none()}).fold(g.off,g.on)};return{read:function(a){var b=w(a);a=r(a)?g.on({}):g.off();return s(b,a)},alignment:w,inQuote:r,atQuoteBreak:function(b){return b.getSelection().bind(function(b){var g=b.startContainer();return b.collapsed()?
e.closest(g,"blockquote").bind(function(b){return a.hasNoContent(g)?c.some({quote:d.constant(b),element:d.constant(g)}):c.none()}):c.none()})}}})})(f,h,m);(function(e,f,h){e("83",["1"],function(b){return{namespace:function(d,c){for(var a=c||b,g=d.split("."),k=0;k<g.length;++k){var p=g[k];if(void 0===a[p]||null===a[p])a[p]={};a=a[p]}return a}}})})(f,h,m);(function(e,f,h){e("4l",["8","r","83","g","t"],function(b,d,c,a,g){var k=function(g,k){var n={};d.each(g,function(a,b){var d=b.split(".");if(1>=d.length)n[b]=
{finalvalue:a};else{var g=n;c.namespace(b,n);for(var k=0;k<d.length-1;k++)g=g[d[k]];g[d[d.length-1]]={finalvalue:a}}});var e=function(c){var g={},p=d.keys(c);b.each(p,function(b){g[b]=void 0!==c[b].finalvalue?k(c[b].finalvalue):a.constant(e(c[b]))});return g};return e(n)};return{ui:function(b,c){var d=k(b,void 0!==c?c:a.constant);return a.constant(g.some(d))},actions:function(b){b=k(b,a.identity);return a.constant(b)}}})})(f,h,m);(function(e,f,h){e("32","g t 4i 4j 49 4k 3u 4l 4m 28 29 2a global!document".split(" "),
function(b,d,c,a,g,k,p,l,n,e,s,r,t){return function(t){var f=t.content(),h=t.shortcuts(),m=t.context(),x=s.create({analytics:e(["message","properties"])}),Q=b.curry(c.indent,t),B=b.curry(c.outdent,t),A=b.curry(c.blockquote,t);h.events.indent.bind(Q);h.events.outdent.bind(B);h.events.blockquote.bind(A);m.events.preLinebreak.bind(function(a){k.atQuoteBreak(t.content()).each(function(b){c.breakQuote(t,b.quote(),b.element());a.handler().handle()})});var h=r.immutable("value","icon","textkey"),C=[h("justifyleft",
d.some(p.resolve("justifyleft")),g.key("alignment.left")),h("justifycenter",d.some(p.resolve("justifycenter")),g.key("alignment.center")),h("justifyright",d.some(p.resolve("justifyright")),g.key("alignment.right")),h("justifyfull",d.some(p.resolve("justifyfull")),g.key("alignment.justify"))],D={justifyleft:c.justifyLeft,justifycenter:c.justifyCentre,justifyright:c.justifyRight,justifyfull:c.justifyFull},F=function(a){return a.toLowerCase()},G=function(){return 0<C.length?n.on(C[0].value()):n.off()},
H=d.none();return{ui:l.ui({"indent.general":{value:"indent",textkey:g.key("action.indent"),action:Q,updateGeneral:b.identity},"outdent.general":{value:"outdent",textkey:g.key("action.outdent"),action:B,updateGeneral:b.identity},"blockquote.general":{value:"blockquote",textkey:g.key("action.blockquote"),action:A,updateGeneral:b.identity},"alignment.dropdown":{name:"alignment",textkey:g.key("alignment.menu"),action:function(a){(void 0!==D[a]?D[a]:b.noop)(t)},updateDropdown:function(c){var g=k.read(f).alignment().fold(G,
n.unchanged,n.on);a.updateDropdown(c,g.map(F),n.on(),C,H);c.populate([{label:d.none,items:b.constant(C)}])},values:C,render:H}}),events:x.registry,destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("cr",["g","t"],function(b,d){return function(c,a){return{name:b.constant(c),run:function(b){a(b);b.doc().dom().execCommand(c);b.focus();return d.none()},query:function(a){return a.doc().dom().queryCommandState(c.toLowerCase())}}}})})(f,h,m);(function(e,f,h){e("9y",["2a"],function(b){var d=b.immutable("start",
"soffset","finish","foffset"),c=b.immutable("start","soffset","finish","foffset");b=b.immutable("start","finish");return{read:d,general:c,write:b}})})(f,h,m);(function(e,f,h){e("ct",[],function(){return{run:function(b,d){if(b.getSelection)return d(b,b.getSelection());throw"No selection model supported.";}}})})(f,h,m);(function(e,f,h){e("hw",["9y","ho","j","global!window"],function(b,d,c,a){var g=function(a){return d.after(c.fromDom(a.anchorNode),a.anchorOffset,c.fromDom(a.focusNode),a.focusOffset)},
k=function(a,d){var k=c.fromDom(d.startContainer),l=c.fromDom(d.endContainer);return g(a)?b.read(l,d.endOffset,k,d.startOffset):b.read(k,d.startOffset,l,d.endOffset)},p=function(a){return g(a)},l=function(b,c,d,g){return function(k){if(k.extend)k.collapse(b.dom(),c),k.extend(d.dom(),g);else{var l=a.document.createRange();l.setStart(d.dom(),g);l.setEnd(b.dom(),c);k.removeAllRanges();k.addRange(l)}}},n=function(a,b,c,g){return d.after(a,b,c,g)};return{read:function(){return{flip:k,isRtl:p}},write:function(){return{flip:l,
isRtl:n}}}})})(f,h,m);(function(e,f,h){e("hx",["9y","hw","t"],function(b,d,c){var a=function(a){return a.start().fold(c.none,function(g,k){return a.finish().fold(c.none,function(a,p){return d.write().isRtl(g,k,a,p)?c.some(b.general(g,k,a,p)):c.none()},c.none)},c.none)},g=function(a,b){var c=a.document.createRange(),d=b.start(),g=b.finish();d.fold(function(a){c.setStartBefore(a.dom())},function(a,b){c.setStart(a.dom(),b)},function(a){c.setStartAfter(a.dom())});g.fold(function(a){c.setEndBefore(a.dom())},
function(a,b){c.setEnd(a.dom(),b)},function(a){c.setEndAfter(a.dom())});return c},k=function(a,b){var c=g(a,b);return function(a){a.addRange(c)}};return{build:function(b,c){return a(c).fold(function(){return k(b,c)},function(a){return d.write().flip(a.start(),a.soffset(),a.finish(),a.foffset())})},toNative:g}})})(f,h,m);(function(e,f,h){e("hy",["9y","6t","14"],function(b,d,c){var a=function(a,b){return"br"===c.name(a)?d.before(a):d.on(a,b)};return{preprocess:function(c){var k=c.start().fold(d.before,
a,d.after);c=c.finish().fold(d.before,a,d.after);return b.write(k,c)}}})})(f,h,m);(function(e,f,h){e("hz",["8","j","global!document"],function(b,d,c){return{fromElements:function(a,g){var k=(g||c).createDocumentFragment();b.each(a,function(a){k.appendChild(a.dom())});return d.fromDom(k)}}})})(f,h,m);(function(e,f,h){e("cu","9y hw hx hy t j hz".split(" "),function(b,d,c,a,g,k,p){var l=function(a,b){var c=b.getRangeAt(0),d=b.getRangeAt(b.rangeCount-1),g=a.document.createRange();g.setStart(c.startContainer,
c.startOffset);g.setEnd(d.endContainer,d.endOffset);return g},n=function(a,b){return void 0!==b&&null!==b&&0<b.rangeCount?g.from(l(a,b)):g.none()};return{get:function(a,c){return n(a,c).map(function(a){var g=k.fromDom(a.startContainer),l=k.fromDom(a.endContainer);return d.read().isRtl(c)?d.read().flip(c,a):b.read(g,a.startOffset,l,a.endOffset)})},set:function(b){return function(d,g){var k=a.preprocess(b),k=c.build(d,k);void 0!==g&&null!==g&&(g.removeAllRanges(),k(g))}},replace:function(a){return function(b,
c){n(b,c).each(function(c){var d=p.fromElements(a,b.document);c.deleteContents();c.insertNode(d.dom())})}},replaceRange:function(b,d){return function(g,k){var l=a.preprocess(b),l=c.toNative(g,l),n=p.fromElements(d,g.document);l.deleteContents();l.insertNode(n.dom())}}}})})(f,h,m);(function(e,f,h){e("9z",["9y","6t","ct","cu","q"],function(b,d,c,a,g){var k=function(b,d){c.run(b,a.set(d))};return{get:function(b){return c.run(b,a.get)},set:k,setExact:function(a,c,g,e,s){c=b.write(d.on(c,g),d.on(e,s));
k(a,c)},replace:function(b,d){c.run(b,a.replace(d))},replaceRange:function(b,d,g){c.run(b,a.replaceRange(d,g))},isCollapsed:function(a,b,c,d){return g.eq(a,c)&&b===d}}})})(f,h,m);(function(e,f,h){e("rd",["2a"],function(b){return b.immutable("startContainer","startOffset","endContainer","endOffset")})})(f,h,m);(function(e,f,h){e("pw",["2a"],function(b){return b.immutable("before","after")})})(f,h,m);(function(e,f,h){e("43",["g"],function(b){return{chars:b.constant("\\w'\\-\\u00C0-\\u00FF"),wordbreak:b.constant("[^\\w'\\-\\u00C0-\\u00FF]"),
wordchar:b.constant("[\\w'\\-\\u00C0-\\u00FF]")}})})(f,h,m);f("global!RegExp",[],function(){return RegExp});(function(e,f,h){e("44",["global!RegExp"],function(b){return function(d,c,a){return{term:function(){return new b(d,"g")},prefix:c,suffix:a}}})})(f,h,m);(function(e,f,h){e("46",["g","43","44"],function(b,d,c){return{token:function(a){return c(a,b.constant(0),b.constant(0))},word:function(a){a="((?:^'?)|(?:"+d.wordbreak()+"+'?))"+a+"((?:'?$)|(?:'?"+d.wordbreak()+"+))";return c(a,function(a){return 1<
a.length?a[1].length:0},function(a){return 2<a.length?a[2].length:0})}}})})(f,h,m);(function(e,f,h){e("45",["46"],function(b){var d=function(b){return b.replace(/[-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")};return{sanitise:d,word:function(c){c=d(c);return b.word(c)},token:function(c){c=d(c);return b.token(c)}}})})(f,h,m);(function(e,f,h){e("2z",["43","44","45","46"],function(b,d,c,a){return{safeword:function(a){return c.word(a)},safetoken:function(a){return c.token(a)},custom:function(a,b,c){return d(a,b,
c)},unsafeword:function(b){return a.word(b)},unsafetoken:function(b){return a.token(b)},sanitise:function(a){return c.sanitise(a)},chars:function(){return b.chars()},wordbreak:function(){return b.wordbreak()},wordchar:function(){return b.wordchar()}}})})(f,h,m);(function(e,f,h){e("ff",["g"],function(b){return{all:function(d,c){for(var a=c.term(),g=[],k=a.exec(d);k;){var p=k.index+c.prefix(k),k=k[0].length-c.prefix(k)-c.suffix(k);g.push({start:b.constant(p),finish:b.constant(p+k)});a.lastIndex=p+k;
k=a.exec(d)}return g}}})})(f,h,m);(function(e,f,h){e("fg",["8","3","ff","global!Array"],function(b,d,c,a){var g=function(b){b=a.prototype.slice.call(b,0);b.sort(function(a,b){return a.start()<b.start()?-1:b.start()<a.start()?1:0});return b};return{search:function(a,p){var l=b.bind(p,function(g){var l=c.all(a,g.pattern());return b.map(l,function(a){return d.merge(g,{start:a.start,finish:a.finish})})});return g(l)}}})})(f,h,m);(function(e,f,h){e("ae",["ff","fg"],function(b,d){return{findall:function(c,
a){return b.all(c,a)},findmany:function(b,a){return d.search(b,a)}}})})(f,h,m);(function(e,f,h){e("ne","g t 2z ae pw global!RegExp".split(" "),function(b,d,c,a,g,k){var p=new k(c.wordbreak()+"+","g"),l=b.constant(0),n=function(b){b=a.findall(b,c.custom(c.wordbreak(),l,l));return d.from(b[b.length-1]).map(function(a){return a.start()})},e=function(a){a=a.search(p);return-1<a?d.some(a):d.none()};return{firstWord:function(a){return e(a).map(function(b){return a.substring(0,b+1)})},lastWord:function(a){return n(a).map(function(b){return a.substring(b)})},
leftBreak:n,rightBreak:e,hasBreak:function(a){return e(a).isSome()}}})})(f,h,m);(function(e,f,h){e("re",["t","pw","ne"],function(b,d,c){return{around:function(a,g){var k=a.substring(0,g),p=c.leftBreak(k).map(function(a){return a+1}),k=a.substring(g),k=c.rightBreak(k).map(function(a){return g+a}),l=d(p,k),n=d(b.some(g),b.some(g));return k.bind(function(a){return g===a?b.some(n):b.none()}).getOrThunk(function(){return p.bind(function(a){return g===a?b.some(n):b.none()}).getOr(l)})}}})})(f,h,m);(function(e,
f,h){e("qr",["8","t","7u","rd","re"],function(b,d,c,a,g){return{select:function(k,p,l,n,e){var s=function(a){return k.property().isText(a)?k.property().getText(a):""},r=k.property().getText(p),t=g.around(r,l),w=b.map(n,function(a){return s(a.element()).substring(a.offset())}).join(""),f=b.map(e,function(a){return s(a.element()).substring(0,a.offset())}).join(""),h=d.from(n[0]).getOr(c.point(p,0)),m=d.from(e[e.length-1]).getOr(c.point(p,r.length)),R=0===w.length&&0===l,x=0===f.length&&l===r.length;
return t.before().fold(function(){return t.after().fold(function(){return R||x?d.none():d.some(a(h.element(),h.offset(),m.element(),m.offset()))},function(b){return R?d.none():d.some(a(h.element(),h.offset(),p,b))})},function(b){return t.after().fold(function(){return x?d.none():d.some(a(p,b,m.element(),m.offset()))},function(c){return b===c?d.none():d.some(a(p,b,p,c))})})}}})})(f,h,m);(function(e,f,h){e("qs",["t","7u","ne"],function(b,d,c){return function(a){var g=function(b){return a.property().isEmptyTag(b)||
a.property().isBoundary(b)},k=function(c,k,n){return g(k)?b.some([]):(a.property().isText(k)?b.some(a.property().getText(k)):b.none()).bind(c).map(function(a){return[d.point(k,b.some(a+n))]})};return{left:function(a){return k(c.leftBreak,a,1)},right:function(a){return k(c.rightBreak,a,0)},stop:g}}})})(f,h,m);(function(e,f,h){e("q8",["pe"],function(b){return function(d){var c=function(a,c,d,g){a=g(c);return b(a,!1)},a=function(a,b,c,n){b=d.property().children(b);return a(b,function(a,b,c){return g(a,
b,c,n)},c)},g=function(b,g,l,n){return(d.property().isText(g)?c:a)(b,g,l,n)};return{traverse:g}}})})(f,h,m);(function(e,f,h){e("qt",["t","7u","q8"],function(b,d,c){return function(a){var g=c(a);return function(a,c,l){return g.traverse(a,c,l,function(a){return[d.point(a,b.none())]})}}})})(f,h,m);(function(e,f,h){e("pk","8 t 7u jz qr qs qt".split(" "),function(b,d,c,a,g,k,p){var l=function(b,c){var d=k(b),g=p(b);return a.gather(b,c,d,g)};return{word:function(a,k,p){if(!a.property().isText(k))return d.none();
var e=l(a,k),t=b.map(e.left(),function(a){return c.point(a.element(),a.offset().getOr(0))}),e=b.map(e.right(),function(b){var d=a.property().getText(b.element());return c.point(b.element(),b.offset().getOr(d.length))});return g.select(a,k,p,t,e)}}})})(f,h,m);(function(e,f,h){e("mn",["pk"],function(b){return{word:function(d,c,a){return b.word(d,c,a)}}})})(f,h,m);(function(e,f,h){e("i0",["8b","mn"],function(b,d){var c=b();return{word:function(a,b){return d.word(c,a,b)}}})})(f,h,m);(function(e,f,h){e("cs",
["9z","i0"],function(b,d){var c=function(a,c,k){var p=a.win();d.word(c,k).each(function(a){b.setExact(p,a.startContainer(),a.startOffset(),a.endContainer(),a.endOffset())})};return{expand:function(a){b.get(a.win()).each(function(d){b.isCollapsed(d.start(),d.soffset(),d.finish(),d.foffset())&&c(a,d.start(),d.soffset())})},expandWord:c}})})(f,h,m);(function(e,f,h){e("84",["g","cr","cs"],function(b,d,c){var a=d("bold",c.expand),g=d("italic",c.expand),k=d("underline",c.expand);d=d("strikethrough",c.expand);
return{bold:b.constant(a),italic:b.constant(g),underline:b.constant(k),strikethrough:b.constant(d)}})})(f,h,m);(function(e,f,h){e("cv",["8","q","1r"],function(b,d,c){var a=function(b,g){return d.eq(b,g)?[]:c.parent(b).fold(function(){return[]},function(d){d=a(d,g);var k=c.findIndex(b).toArray();return d.concat(k)})},g=function(a,b){return a.slice(b+1)},k=function(a,b){return a.slice(0,b)},p=function(a,d,g,k){if(0===k.length)d(g);else{var e=k[0],t=k.slice(1);c.child(g,e).each(function(b){p(a,d,b,t)});
g=c.children(g);e=a(g,e);b.each(e,d)}};return{one:function(a,b){a(b)},across:function(d,n,e,s){e=a(e,n);s=a(s,n);n=c.children(n);var r=n.slice(0<e.length?e[0]+1:0,0<s.length?s[0]:n.length-1);b.each(r,d);0<e.length&&p(g,d,n[e[0]],e.slice(1));0<s.length&&p(k,d,n[s[0]],s.slice(1))}}})})(f,h,m);(function(e,f,h){e("pl",["8"],function(b){return{splits:function(d,c){if(0===c.length)return[d];var a=b.foldl(c,function(a,b){if(0===b)return a;var c=d.substring(a.prev,b);return{prev:b,values:a.values.concat([c])}},
{prev:0,values:[]}),g=c[c.length-1];return g<d.length?a.values.concat(d.substring(g)):a.values}}})})(f,h,m);(function(e,f,h){e("mo",["pl"],function(b){return{splits:function(d,c){return b.splits(d,c)}}})})(f,h,m);(function(e,f,h){e("i1",["8","t","7u","ad","mo"],function(b,d,c,a,g){return{subdivide:function(k,p,l){var n=k.property().getText(p);l=b.filter(g.splits(n,l),function(a){return 0<a.length});if(1>=l.length)return[c.range(p,0,n.length)];k.property().setText(p,l[0]);var n=a.generate(l.slice(1),
function(a,b){var g=k.create().text(a),g=c.range(g,b,b+a.length);return d.some(g)},l[0].length),e=b.map(n,function(a){return a.element()});k.insert().afterAll(p,e);return[c.range(p,0,l[0].length)].concat(n)}}})})(f,h,m);(function(e,f,h){e("mp",["g"],function(b){var d=function(c,a){return{fold:c,label:b.constant(a)}};return{none:function(){return d(function(b,a,d,k){return b()},"none")},start:function(b){return d(function(a,d,k,p){return d(b)},"start")},middle:function(b,a){return d(function(d,k,p,
l){return p(b,a)},"middle")},end:function(b){return d(function(a,d,k,p){return p(b)},"end")}}})})(f,h,m);(function(e,f,h){e("i2",["mp"],function(b){return{determine:function(d){return d.before().fold(function(){return d.after().fold(function(){return b.none()},function(c){return b.start(c)})},function(c){return d.after().fold(function(){return b.end(c)},function(a){return b.middle(c,a)})})}}})})(f,h,m);(function(e,f,h){e("qu",["g","t"],function(b,d){var c=b.constant(!1),a=b.constant(!0),g=function(g){return{isBoundary:function(){return g(a,
c,c)},fold:g,toText:function(){return g(d.none,d.none,function(a,b){return d.some(a)})},is:function(a){return g(c,c,function(b,c){return c.eq(b,a)})},len:function(){return g(b.constant(0),b.constant(1),function(a,b){return b.property().getText(a).length})}}};return{text:function(a,b){return g(function(c,d,g){return g(a,b)})},boundary:function(a,b){return g(function(c,d,g){return c(a,b)})},empty:function(a,b){return g(function(c,d,g){return d(a,b)})}}})})(f,h,m);(function(e,f,h){e("qv",["8","g","t",
"7u","hp"],function(b,d,c,a,g){return{count:function(a){return b.foldr(a,function(a,b){return b.len()+a},0)},dropUntil:function(a,b){return g.sliceby(a,function(a){return a.is(b)})},gen:function(b,d){return b.fold(c.none,function(b){return c.some(a.range(b,d,d+1))},function(g){return c.some(a.range(g,d,d+b.len()))})},justText:function(a){return b.bind(a,function(a){return a.fold(d.constant([]),d.constant([]),d.identity)})}}})})(f,h,m);(function(e,f,h){e("pm",["8","g","7u","qu","qv"],function(b,d,
c,a,g){var k=function(c,d){if(c.property().isText(d))return[a.text(d,c)];if(c.property().isEmptyTag(d))return[a.empty(d,c)];if(c.property().isElement(d)){var g=c.property().children(d),p=c.property().isBoundary(d)?[a.boundary(d,c)]:[],g=b.bind(g,function(a){return k(c,a)});return p.concat(g).concat(p)}return[]},p=function(a,b,d,p){a=k(a,p);b=g.dropUntil(a,b);b=g.count(b);return c.point(p,b+d)};return{typed:k,items:function(a,c){var d=k(a,c),g=function(a,b){return a};return b.map(d,function(a){return a.fold(g,
g,g)})},extractTo:function(a,b,d,g){return a.up().predicate(b,g).fold(function(){return c.point(b,d)},function(c){return p(a,b,d,c)})},extract:function(a,b,d){return a.property().parent(b).fold(function(){return c.point(b,d)},function(c){return p(a,b,d,c)})}}})})(f,h,m);(function(e,f,h){e("pn",["7u","pm","qv","ad"],function(b,d,c,a){return{find:function(g,k,p){g=d.typed(g,k);g=a.generate(g,c.gen);return a.get(g,p).map(function(a){return b.point(a.element(),p-a.start())})}}})})(f,h,m);(function(e,
f,h){e("mt",["pm","pn"],function(b,d){return{extract:function(c,a,d){return b.extract(c,a,d)},extractTo:function(c,a,d,k){return b.extractTo(c,a,d,k)},all:function(c,a){return b.items(c,a)},from:function(c,a){return b.typed(c,a)},find:function(b,a,g){return d.find(b,a,g)}}})})(f,h,m);(function(e,f,h){e("mq",["8","mt","hp"],function(b,d,c){return{group:function(a,g){var k=b.bind(g,function(b){return d.from(a,b)}),k=c.splitby(k,function(a){return a.isBoundary()});return b.filter(k,function(a){return 0<
a.length})}}})})(f,h,m);(function(e,f,h){e("po",["8","t"],function(b,d){return{common:function(c,a,g){a=[a].concat(c.up().all(a));var k=[g].concat(c.up().all(g));g=b.find(a,function(a){return b.exists(k,function(b){return c.eq(b,a)})});return d.from(g)}}})})(f,h,m);(function(e,f,h){e("pp",["8"],function(b){var d="table tbody thead tfoot tr ul ol".split(" ");return function(c){var a=c.property(),g=function(c,d){return a.parent(c).map(a.name).map(function(a){return!b.contains(d,a)}).getOr(!1)};return{validateText:function(b){return a.isText(b)&&
g(b,d)}}}})})(f,h,m);(function(e,f,h){e("mr",["8","g","mt","po","pp"],function(b,d,c,a,g){return{range:function(k,p,l,n,e){return k.eq(p,n)?[p]:a.common(k,p,n).fold(function(){return[]},function(a){a=[a].concat(c.all(k,a));var r=b.findIndex(a,d.curry(k.eq,p)),t=b.findIndex(a,d.curry(k.eq,n));a=-1<r&&-1<t?r<t?a.slice(r+l,t+e):a.slice(t+e,r+l):[];r=g(k);return b.filter(a,r.validateText)})}}})})(f,h,m);(function(e,f,h){e("ia",["mq","mr"],function(b,d){return{range:function(b,a,g,k,p){return d.range(b,
a,g,k,p)},group:function(c,a){return b.group(c,a)}}})})(f,h,m);(function(e,f,h){e("ms",["2a"],function(b){return b.immutable("before","after")})})(f,h,m);(function(e,f,h){e("i4",["8","t","ms","mo"],function(b,d,c,a){var g=function(b,c,d){b=b.property().getText(c);return a.splits(b,d)},k=function(a,c,d,e){if(!a.property().isText(c)||d===e)return c;if(d>e)return k(a,c,e,d);var s=a.property().getText(c).length;if(0===d&&e===s)return c;e=g(a,c,[d,e]);a.property().setText(c,e[0]);e=b.map(e.slice(1),function(b){return a.create().text(b)});
s=e[0];a.insert().afterAll(c,e);return 0===d?c:s};return{split:function(a,b,k){if(!a.property().isText(b)||0===k)return c(d.none(),d.some(b));if(k===a.property().getText(b).length)return c(d.some(b),d.none());k=g(a,b,[k]);a.property().setText(b,k[0]);k=a.create().text(k[1]);a.insert().after(b,k);return c(d.some(b),d.some(k))},splitByPair:k}})})(f,h,m);(function(e,f,h){e("i3",["7u","ia","i4"],function(b,d,c){var a=function(a,g,l,n,e){l=c.split(a,g,l).after().fold(function(){return b.delta(g,1)},function(a){return b.delta(a,
0)});e=c.split(a,n,e).before().fold(function(){return b.delta(n,0)},function(a){return b.delta(a,1)});return d.range(a,l.element(),l.deltaOffset(),e.element(),e.deltaOffset())},g=function(a,b,d,g,e){return[c.splitByPair(a,b,d,e)]};return{nodes:function(b,c,d,n,e){return(b.eq(c,n)?g:a)(b,c,d,n,e)}}})})(f,h,m);(function(e,f,h){e("f9",["i1","i2","i3","i4"],function(b,d,c,a){return{split:function(b,c,d){return a.split(b,c,d)},splitByPair:function(b,c,d,l){return a.splitByPair(b,c,d,l)},range:function(a,
b,d,l,n){return c.nodes(a,b,d,l,n)},subdivide:function(a,c,d){return b.subdivide(a,c,d)},position:function(a,b){return d.determine(b)}}})})(f,h,m);(function(e,f,h){e("ab",["8b","f9"],function(b,d){var c=b();return{split:function(a,b){return d.split(c,a,b)},splitByPair:function(a,b,k){return d.splitByPair(c,a,b,k)},range:function(a,b,k,p){return d.range(c,a,b,k,p)},subdivide:function(a,b){return d.subdivide(c,a,b)},position:function(a){return d.position(c,a)}}})})(f,h,m);(function(e,f,h){e("i6",["7u",
"ho","1r"],function(b,d,c){return{makeTo:function(a,b,d){var p=c.owner(a).dom().createRange();p.setStart(a.dom(),b);p.setEndBefore(d.dom());return p},makeFrom:function(a,b,d){var p=c.owner(b).dom().createRange();p.setStartAfter(a.dom());p.setEnd(b.dom(),d);return p},leftEdge:function(a,c,k,p){return d.after(a,c,k,p)?b.point(k,p):b.point(a,c)},rightEdge:function(a,c,k,p){return d.after(a,c,k,p)?b.point(a,c):b.point(k,p)}}})})(f,h,m);(function(e,f,h){e("i5","8 ab i6 14 1r global!Array".split(" "),function(b,
d,c,a,g,k){var p=function(c,d,k){var l=g.children(d),p=0===k,n=k===l.length,e=0<l.length;return void 0!==c.empty&&b.contains(["br","hr","img"],a.name(d))?c.empty:void 0!==c.hasPrevious&&e&&0<k&&k<l.length?c.hasPrevious:void 0!==c.hasNext&&e&&k<l.length-1?c.hasNext:void 0!==c.rightEdge&&e&&n?c.rightEdge:void 0!==c.first&&p?c.first:c.otherwise},l=function(a,b,c){return p(a.before.element,b,c)(b,c)},n=function(a,b,c){return p(a.after.element,b,c)(b,c)},e=function(a,b,c){c=d.split(b,c);var g=function(a){return function(){var c=
k.prototype.slice.call(arguments,0),c=[b].concat(c);return a.apply(null,c)}};return d.position(c).fold(g(a.none),g(a.start),g(a.middle),g(a.end))},s=function(a,b,c){return e(a.before.text,b,c)},r=function(a,b,c){return e(a.after.text,b,c)};return{prefix:function(b,c,d){return(a.isText(c)?s:l)(b,c,d)},postfix:function(b,d,g,k,l){d=c.rightEdge(d,g,k,l);return(a.isText(d.element())?r:n)(b,d.element(),d.offset())}}})})(f,h,m);(function(e,f,h){e("cw","g t ab i5 i6 q 14 1r global!Array".split(" "),function(b,
d,c,a,g,k,p,l,n){var e=function(a,d,g,k){var l=c.splitByPair(d,g,k);return a.general.insertBefore(l).bind(function(c){return a.general.insertAfter(l).map(function(a){return{left:b.constant(c),right:b.constant(a)}})})},s=function(a,c,d,g){d=l.child(c,d);var k=g<l.children(c).length?l.child(c,g):l.lastChild(c);return d.bind(function(c){return k.bind(function(d){return a.general.insertBefore(c).bind(function(c){return a.general.insertAfter(d).map(function(a){return{left:b.constant(c),right:b.constant(a)}})})})})},
r=function(a,b,c,d){var g=p.isText(b)?e:s;return c>d?g(a,b,d,c):g(a,b,c,d)};return{both:function(c,d,l,p,n){if(k.eq(d,p))return r(c,d,l,n);var e=g.leftEdge(d,l,p,n);return a.postfix(c,d,l,p,n).bind(function(d){return a.prefix(c,e.element(),e.offset()).map(function(a){return{left:b.constant(a),right:b.constant(d)}})})}}})})(f,h,m);(function(e,f,h){e("i7",["8","1m","14","1s","1r"],function(b,d,c,a,g){var k=function(a,c){var d=g.children(a);b.each(d,function(a){k(a,c)});c(a)};return{wipeout:k,wipeoutEmpty:function(b){k(b,
function(b){c.isElement(b)&&0===d.get(b).length&&a.remove(b)})}}})})(f,h,m);(function(e,f,h){e("cx","8b 8 g t 88 2a hl i7 q 51 1r".split(" "),function(b,d,c,a,g,k,p,l,n,e,s){var r=k.immutable("inside","outside"),t=function(a){return s.parent(a).fold(c.constant(!0),function(a){return g.isBlock(a)||g.isContainer(a)})},f=function(g,k){var l=b(),p=[g].concat(l.up().all(g)),e=[k].concat(l.up().all(k)),l=d.find(p,function(a){return d.exists(e,c.curry(n.eq,a))});return a.from(l)},h=function(b){return r(b.second(),
a.some(b.first()))},y=function(b){return r(a.some(b.first()),b.second())},m=function(b,d){var g=t(b)?b:e.ancestor(b,t).getOr(b);n.eq(b,g)?g=r(a.some(b),a.none()):(g=p.breakPath(b,c.curry(n.eq,g)),g=d(g));return g};return{bridge:function(a,b){var d=m(a,h),g=m(b,y);return d.inside().bind(function(a){return g.inside().bind(function(b){return f(a,b).map(function(k){return{common:c.constant(k),left:c.constant(a),right:c.constant(b),wipeout:function(){d.outside().each(l.wipeoutEmpty);g.outside().each(l.wipeoutEmpty)}}})})})}}})})(f,
h,m);(function(e,f,h){e("cy",["g","t","j","1g","1s"],function(b,d,c,a,g){return function(k,p){var l=function(a,k,l){var p=c.fromText(k);a(l,p);return d.some({element:b.constant(p),cleanup:function(){g.remove(p)},splits:b.constant([])})},n=function(c){return{none:d.none,start:b.curry(l,a.before,c),end:b.curry(l,a.after,c),middle:function(b,d,g){return l(a.after,c,d)}}},e=function(c){var d=function(b){return function(c,d){a.appendAt(c,d,b)}};return{prepend:b.curry(l,a.prepend,c),before:b.curry(l,a.before,
c),after:b.curry(l,a.after,c),insertAt:function(a,b){return l(d(b),c,a)},append:b.curry(l,a.append,c)}};return{before:{text:n(k),element:{hasPrevious:e(k).insertAt,first:e(k).prepend,empty:e(k).before,otherwise:e(k).append}},after:{text:n(p),element:{hasNext:e(p).insertAt,rightEdge:e(p).append,empty:e(p).after,otherwise:e(p).append}},general:{insertBefore:e(k).before,insertAfter:e(p).after}}}})})(f,h,m);(function(e,f,h){e("i8",["8","1d"],function(b,d){return{onlyEphox:function(c){return void 0!==
c&&null!==c&&0<c.trim().length?(c=c.split(/\s+/),b.filter(c,function(a){return d.startsWith(a,"ephox-")}).join(" ")):""}}})})(f,h,m);(function(e,f,h){e("cz","8 g i8 1f 14 1s 1t 1u".split(" "),function(b,d,c,a,g,k,p,l){var n=function(a){k.unwrap(a)},e={b:n,i:n,u:n,span:function(b){var d=a.get(b,"class");a.remove(b,"class");d=c.onlyEphox(d);0<d.length&&a.set(b,"class",d);a.remove(b,"style");a.hasNone(b)&&n(b)},s:n,del:n,strike:n,strong:n,em:n},s=function(a){var b=g.name(a);(void 0!==e[b]?e[b]:d.noop)(a)};
return{cleanse:function(a){a=(l.is(a,"b,strong,i,em,u,font,strike,s,sup,sub,small,del,span")?[a]:[]).concat(p.descendants(a,"b,strong,i,em,u,font,strike,s,sup,sub,small,del,span"));b.each(a,s)}}})})(f,h,m);(function(e,f,h){e("i9",["8b","mt"],function(b,d){var c=b();return{extract:function(a,b){return d.extract(c,a,b)},extractTo:function(a,b,k){return d.extractTo(c,a,b,k)},all:function(a){return d.all(c,a)},from:function(a){return d.from(c,a)},find:function(a,b){return d.find(c,a,b)}}})})(f,h,m);(function(e,
f,h){e("d0",["g","i9","88"],function(b,d,c){var a=function(a){return c.isBlock(a)||c.isContainer(a)};return{record:function(c,k,p,l){var n=d.extractTo(c,k,a),e=d.extractTo(p,l,a);return{find:function(){return d.find(n.element(),n.offset()).bind(function(a){return d.find(e.element(),e.offset()).map(function(c){return{start:b.constant(a.element()),soffset:b.constant(a.offset()),finish:b.constant(c.element()),foffset:b.constant(c.offset())}})})}}}}})})(f,h,m);(function(e,f,h){e("85","86 9z g cs cv cw cx cy cz d0 q".split(" "),
function(b,d,c,a,g,k,p,l,n,e,s){return{name:c.constant("removeformat"),run:function(c){a.expand(c);c.doc();return d.get(c.win()).bind(function(a){var c=e.record(a.start(),a.soffset(),a.finish(),a.foffset()),d=l(b.zeroWidth(),b.zeroWidth());return k.both(d,a.start(),a.soffset(),a.finish(),a.foffset()).bind(function(a){return p.bridge(a.left().element(),a.right().element()).bind(function(b){var d=b.left(),k=b.right();if(s.eq(d,k))g.one(n.cleanse,d);else g.across(n.cleanse,b.common(),d,k);a.left().cleanup();
a.right().cleanup();b.wipeout();return c.find()})})})},query:c.constant(!1)}})})(f,h,m);(function(e,f,h){e("4n",["84","85"],function(b,d){var c=function(a){return function(b){b.on(a.run).each(function(a){a.each(function(a){b.setSelection(a.start(),a.soffset(),a.finish(),a.foffset())});b.backupSelection()})}};return{bold:c(b.bold()),italic:c(b.italic()),underline:c(b.underline()),strikethrough:c(b.strikethrough()),removeformat:c(d)}})})(f,h,m);(function(e,f,h){e("4o",["4m","2a","84"],function(b,d,
c){var a=d.immutable("bold","italic","underline","strikethrough"),g=function(a,c){return a.on(function(a){return c.query(a)?b.on(!0):b.off()}).getOrThunk(b.off)};return{bold:c.bold().query,italic:c.italic().query,underline:c.underline().query,strikethrough:c.strikethrough().query,read:function(b){return a(g(b,c.bold()),g(b,c.italic()),g(b,c.underline()),g(b,c.strikethrough()))}}})})(f,h,m);(function(e,f,h){e("33","g 4n 49 4o 4l 4m 28 29".split(" "),function(b,d,c,a,g,k,p,l){return function(n){var e=
n.content(),s=n.shortcuts(),r=n.undo();n=l.create({analytics:p(["message","properties"])});var t=function(c,d){var g=a.read(e);(void 0!==g[c]?g[c]():k.unchanged()).fold(d.deselect,b.noop,d.select)},f=function(a){r.save();a(e);r.save();e.uiChanged()},h=b.curry(f,d.bold),y=b.curry(f,d.italic),m=b.curry(f,d.underline),f=b.curry(f,d.strikethrough);s.events.bold.bind(h);s.events.italic.bind(y);s.events.underline.bind(m);return{ui:g.ui({"bold.general":{toggle:!0,value:"bold",textkey:c.key("action.bold"),
action:h,updateGeneral:b.curry(t,"bold"),icon:!0},"italic.general":{toggle:!0,value:"italic",textkey:c.key("action.italic"),action:y,updateGeneral:b.curry(t,"italic"),icon:!0},"underline.general":{toggle:!0,value:"underline",textkey:c.key("action.underline"),action:m,updateGeneral:b.curry(t,"underline"),icon:!0},"strikethrough.general":{toggle:!0,value:"strikethrough",textkey:c.key("action.strikethrough"),action:f,updateGeneral:b.curry(t,"strikethrough"),icon:!0},"removeformat.general":{toggle:!1,
value:"removeformat",textkey:c.key("action.removeformat"),action:function(){d.removeformat(e);e.uiChanged()},updateGeneral:b.identity,icon:!0}}),events:n.registry,destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("d1",["4c"],function(b){return{resolve:b.create("ephox-soldier").resolve}})})(f,h,m);(function(e,f,h){e("87",["g","d1"],function(b,d){var c=d.resolve("style-span");return{styleSpan:b.constant(c)}})})(f,h,m);(function(e,f,h){e("4v",["4m","2a","87","40","1h"],function(b,d,c,a,g){var k=d.immutable("content");
return{temp:function(a){return g.closest(a,"."+c.styleSpan())},hasSelection:function(a){return a.getSelection().fold(function(){return k(b.off())},function(){return k(b.on(!0))})},isAnnotation:function(b){return a.has(b,"ephox-cram-annotation-wrap")}}})})(f,h,m);(function(e,f,h){e("ib",["8"],function(b){return{unique:function(d,c,a){return b.filter(c,function(g,k){var p=c.slice(0,k),l=c.slice(k+1);p.concat(l);return!b.exists(l,a(d,g))})}}})})(f,h,m);(function(e,f,h){e("d7",["d2"],function(b){var d=
function(a,b,c){c=a.create().nu(c);var d=a.property().children(b);a.insert().append(b,c);a.insert().appendAll(c,d);return c},c=function(a,b,c){c=a.create().nu(c);var d=a.property().children(b);a.attrs().set(c,"name",a.attrs().get(b,"name"));a.attrs().set(c,"style",a.attrs().get(b,"style"));a.insert().before(b,c);a.insert().appendAll(c,d);a.remove().remove(b);return c};return{blockTransform:function(a,g,k){return(b.isFormatting(a,g)?c:d)(a,g,k)},nest:d,replace:c}})})(f,h,m);(function(e,f,h){e("d3",
"8 g t ia d2 ca ib d7 hu hn".split(" "),function(b,d,c,a,g,k,p,l,n,e){var s=function(a,l,p){l=e.single(a,function(c){var d;(d=g.isFormatting(a,c))||(d=g.isContainer(a,c))||(d=b.contains(["ol","ul"],a.property().name(c)));return d},p,c.some(d.curry(function(a){return a.create().nu(k.tag())},a)),l);p=function(a,b){return c.some({target:d.constant(a),block:d.constant(b)})};return n.cata(l,c.none,c.none,p,p)};return{point:function(a,b,c,g){return s(a,b,g).map(function(b){b=l.blockTransform(a,b.block(),
c);var g=[b];return{start:d.constant(b),finish:d.constant(b),all:d.constant(g)}})},range:function(g,k,n,e,q){e=g.query().comparePosition(e,q)&4?a.range(g,e,0,q,1):a.range(g,e,1,q,0);e=b.bind(e,function(a){return s(g,k,a).fold(function(){return[]},function(a){return[a]})});e=p.unique(g,e,function(a,b){return function(c){return a.eq(b.block(),c.block())}});e=b.map(e,function(a){return l.blockTransform(g,a.block(),n)});return 0===e.length?c.none():c.some({start:d.constant(e[0]),finish:d.constant(e[e.length-
1]),all:d.constant(e)})}}})})(f,h,m);(function(e,f,h){e("d4",["g"],function(b){return{tags:b.constant("address article aside audio blockquote canvas dd div dl fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 header hgroup hr li noscript ol output p pre section table tbody td tfoot th thead tr ul video".split(" "))}})})(f,h,m);(function(e,f,h){e("8d",["8","g","t","d4"],function(b,d,c,a){return function(g){var k=function(a,k,n){var e=n.join(",");a=g.up().closest(a,e);k=g.up().closest(k,e);return a.isSome()&&
k.isSome()?(e=a.getOrDie("Just checked it was some."),k=k.getOrDie("Just checked it was some."),g.eq(e,k)?(n=b.find(n,d.curry(g.is,e)),n=void 0!==n&&null!==n?c.some(n):c.none()):n=c.none(),n):c.none()};return{query:function(b,c){var d=c.concat(a.tags());return k(b.startContainer(),b.endContainer(),d)},queryAll:k}}})})(f,h,m);(function(e,f,h){e("89",["8b","d3","8d","q"],function(b,d,c,a){var g=b();return{query:c(g).query,apply:function(b,c,l,n){return(a.eq(c,l)?d.point:d.range)(g,b,n,c,l)}}})})(f,
h,m);(function(e,f,h){e("qw",["g"],function(b){var d=function(c,a){return{fold:c,label:b.constant(a)}};return{before:function(b){return d(function(a,d,k,p,l){return a(b)},"before")},after:function(b){return d(function(a,d,k,p,l){return d(b)},"after")},rest:function(b){return d(function(a,d,k,p,l){return k(b)},"rest")},last:function(b){return d(function(a,d,k,p,l){return p(b)},"last")},invalid:function(b,a){return d(function(d,k,p,l,n){return n(b,a)},"invalid")}}})})(f,h,m);(function(e,f,h){e("pq",
["g","qw","f9"],function(b,d,c){var a=function(a,b,g){var n=c.split(a,b,g);return c.position(a,n).fold(function(){return d.invalid(b,g)},d.before,d.after,d.after)},g=function(a,b,c){a=a.property().children(b);return c===a.length?d.last(b):c<a.length?d.rest(a[c]):d.invalid(b,c)};return{atStartOf:function(c,d,l,n){var e=function(a){c.insert().before(a,n)};(c.property().isText(d)?a:g)(c,d,l).fold(e,function(a){c.insert().after(a,n)},e,function(a){c.insert().append(a,n)},b.noop)}}})})(f,h,m);(function(e,
f,h){e("mu",["pq"],function(b){return{atStartOf:function(d,c,a,g){b.atStartOf(d,c,a,g)}}})})(f,h,m);(function(e,f,h){e("mv",["8","t"],function(b,d){var c=function(a,b,c){return{groups:0<a.current.length?a.groups.concat({parent:a.parent,children:a.current}):a.groups,current:[c],parent:b}},a=function(a,b,c){return{groups:a.groups,current:a.current.concat([c]),parent:b}},g=function(b,g,l){return d.from(g.current[g.current.length-1]).bind(b.query().nextSibling).bind(function(c){return b.eq(c,l)?d.some(a):
d.none()}).getOr(c)};return{textnodes:function(a,c){var d=b.foldl(c,function(b,c){return a.property().parent(c).fold(function(){return b},function(d){return g(a,b,c)(b,d,c)})},{groups:[],current:[],parent:null});return 0<d.current.length?d.groups.concat({parent:d.parent,children:d.current}):d.groups}}})})(f,h,m);(function(e,f,h){e("mw",["7u"],function(b){var d=function(a,c){if(a.property().isText(c))return b.point(c,a.property().getText(c).length);var k=a.property().children(c);return 0<k.length?
d(a,k[k.length-1]):b.point(c,k.length)},c=function(a,g,k){var p=a.property().children(g);return 0<p.length&&k<p.length?c(a,p[k],0):0<p.length&&a.property().isElement(g)&&p.length===k?d(a,p[p.length-1]):b.point(g,k)};return{toLast:d,toLeaf:c,toLower:function(a,c){var d=a.property().isText(c)?a.property().getText(c).length:a.property().children(c).length;return b.point(c,d)}}})})(f,h,m);(function(e,f,h){e("id","8 t 7u f9 mv mw".split(" "),function(b,d,c,a,g,k){var p=function(b,c,d,g,k,p){c=a.range(b,
c,d,g,k);return l(b,c,p)},l=function(a,c,d){if(0===c.length)return c;c=b.filter(c,function(b){return a.property().isText(b)&&0<a.property().getText(b).length});return b.map(c,function(b){var c=d();a.insert().before(b,c.element());c.wrap(b);return c.element()})},e=function(a,b){return d.from(b[0]).map(function(d){var g=k.toLower(a,b[b.length-1]);return c.points(c.point(d,0),c.point(g.element(),g.offset()))})};return{wrapWith:p,wrapper:l,leaves:function(a,b,c,d,g,l){b=k.toLeaf(a,b,c);d=k.toLeaf(a,d,
g);l=p(a,b.element(),b.offset(),d.element(),d.offset(),l);return e(a,l)},reuse:function(c,d,l,p,e,n,f){d=k.toLeaf(c,d,l);p=k.toLeaf(c,p,e);p=a.range(c,d.element(),d.offset(),p.element(),p.offset());p=g.textnodes(c,p);var h=function(a){return a.parent},m=function(a){var d=f();c.insert().before(a.children[0],d.element());b.each(a.children,d.wrap);return d.element()};return b.map(p,function(a){return(c.property().children(a.parent).length===a.children.length&&n(a.parent)?h:m)(a)})}}})})(f,h,m);(function(e,
f,h){e("ie",["g"],function(b){return function(d,c){return{element:b.constant(c),wrap:function(a){d.insert().append(c,a)}}}})})(f,h,m);(function(e,f,h){e("ic","86 g t 7u mu id ie 2a".split(" "),function(b,d,c,a,g,k,p,l){var e=function(b,g,k,l,p,e){b=q(b,g,k,l,p,e);g=b.cursor();g=a.points(a.point(g.element(),g.offset()),a.point(g.element(),g.offset()));return c.some({range:d.constant(g),temporary:b.temporary,wrappers:b.wrappers})};l.immutable("span","cursor");var q=function(k,l,p,e,n,q){return k.property().parent(l).bind(function(g){var e=
a.point(l,p),n;if(n=s(k,q,g))if(n=1===k.property().children(g).length)n=k.property().isText(l)&&k.property().getText(l)===b.zeroWidth();return n?c.some({cursor:d.constant(e),temporary:d.constant(!1),wrappers:d.constant(g)}):c.none()}).getOrThunk(function(){var c=l.dom().ownerDocument,e=k.create().nu("span",c),c=k.create().text(b.zeroWidth(),c);k.insert().append(e,c);g.atStartOf(k,l,p,e);return{cursor:d.constant(a.point(c,1)),wrappers:d.constant([e]),temporary:d.constant(!0)}})},s=function(a,b,c){return"span"===
a.property().name(c)&&!1===b(c)},r=function(b,g,l,e,n,q){var r=g.dom().ownerDocument,f=k.reuse(b,g,l,e,n,d.curry(s,b,q),function(){return p(b,b.create().nu("span",r))});return c.from(f[f.length-1]).map(function(c){var g=b.property().children(c).length;c=a.points(a.point(f[0],0),a.point(c,g));return{wrappers:d.constant(f),temporary:d.constant(!1),range:d.constant(c)}})};return{spans:function(a,b,c,g,k,l){l=void 0!==l?l:d.constant(!1);return(a.eq(b,g)&&c===k?e:r)(a,b,c,g,k,l)}}})})(f,h,m);(function(e,
f,h){e("fa",["ic","id","ie"],function(b,d,c){return{nu:function(a,b){return c(a,b)},wrapWith:function(a,b,c,p,l,e){return d.wrapWith(a,b,c,p,l,e)},wrapper:function(a,b,c){return d.wrapper(a,b,c)},leaves:function(a,b,c,p,l,e){return d.leaves(a,b,c,p,l,e)},reuse:function(a,b,c,p,l,e,q){return d.reuse(a,b,c,p,l,e,q)},spans:function(a,c,d,p,l,e){return b.spans(a,c,d,p,l,e)}}})})(f,h,m);(function(e,f,h){e("ac",["8b","fa"],function(b,d){var c=b();return{nu:function(a){return d.nu(c,a)},wrapWith:function(a,
b,k,p,l){return d.wrapWith(c,a,b,k,p,l)},wrapper:function(a,b){return d.wrapper(c,a,b)},leaves:function(a,b,k,p,l){return d.leaves(c,a,b,k,p,l)},reuse:function(a,b,k,p,l,e){return d.reuse(c,a,b,k,p,l,e)},spans:function(a,b,k,p,l){return d.spans(c,a,b,k,p,l)}}})})(f,h,m);(function(e,f,h){e("d5","8 9z ac 87 4h 1p".split(" "),function(b,d,c,a,g,k){var p=function(k,l,p){d.get(k).each(function(e){c.spans(e.start(),e.soffset(),e.finish(),e.foffset(),p).each(function(c){var p=c.temporary()?[a.styleSpan()]:
[],e=c.range();b.each(c.wrappers(),function(a){g.add(a,p);l(a)});c=e.begin();e=e.end();d.setExact(k,c.element(),c.offset(),e.element(),e.offset())})})},l=function(a,b,c,d){b(a);a=a.win();p(a,d,c)};return{style:function(a,b,c,d){return l(a,c,d,function(a){k.setAll(a,b)})},generic:l}})})(f,h,m);(function(e,f,h){e("8a",["d5","cs","40"],function(b,d,c){return{background:function(a,c,k){b.style(a,{"background-color":c},d.expand,k)},addClass:function(a,g,k){b.generic(a,d.expand,k,function(a){c.add(a,g)})},
foreground:function(a,c,k){b.style(a,{color:c},d.expand,k)},face:function(a,c,k){b.style(a,{"font-family":c},d.expand,k)},size:function(a,c,k){b.style(a,{"font-size":c},d.expand,k)}}})})(f,h,m);(function(e,f,h){e("d6","8 t 14 51 aa 1r".split(" "),function(b,d,c,a,g,k){var p=["img","br"],l=function(a){return c.isText(a)&&g.get(a).length||b.contains(p,c.name(a))},e=function(a,b){var c=function(a){a=k.children(a);for(var g=a.length-1;0<=g;g--){var l=a[g];if(b(l))return d.some(l);l=c(l);if(l.isSome())return l}return d.none()};
return c(a)};return{firstCursor:function(b){return a.descendant(b,l)},lastCursor:function(a){return e(a,l)}}})})(f,h,m);(function(e,f,h){e("d9",["3","3q"],function(b,d){var c=d.generate([{mine:["element"]},{other:["element"]},{paragraphs:["elements"]}]);return b.merge(c,{cata:function(a,b,c,d){return a.fold(b,c,d)}})})})(f,h,m);(function(e,f,h){e("d8","8 g t 88 3q ca hu cb d9 q 14 1s 1r".split(" "),function(b,d,c,a,g,k,p,l,e,q,s,r,f){var h=function(a){return b.contains(["ol","ul"],s.name(a))},u=d.constant([]),
y=function(a,b){return[b]},m=function(d,g,e,n){d=c.some(k.nu(d));if(q.eq(e,n))return e=l.single(e,d,g),p.cata(e,u,u,y,y);e=l.multiple(e,n,d,function(b){var c;(c=g(b))||(c=a.isContainer(b)&&"li"!==s.name(b));return c});e=b.partition(e,function(a){var b=f.siblings(a),c=f.children(a);return 0===b.length||!(s.name(a)===k.tag()&&1===c.length&&"br"===s.name(c[0]))});b.each(e.fail,r.remove);return R(e.pass)},R=function(c){return b.bind(c,function(b){return a.isFormatting(b)||h(b)?[b]:f.children(b)})};return{gather:function(a,
d,g,k,l){a=m(a,g,k,l);a=b.groupBy(a,function(a){return h(a)?!0:c.some(a).bind(f.parent).map(function(a){return a.dom()}).getOr(!1)});return b.bind(a,function(a){return b.forall(a,h)?b.map(a,function(a){return s.name(a)===d?e.mine(a):e.other(a)}):[e.paragraphs(a)]})}}})})(f,h,m);(function(e,f,h){e("aw","1f j 1g 2e 1s 1r".split(" "),function(b,d,c,a,g,k){var p=function(a){return d.fromDom(a.dom().cloneNode(!0))},l=function(a,c){var g=d.fromTag(c),k=b.clone(a);b.setAll(g,k);return g};return{shallow:function(a){return d.fromDom(a.dom().cloneNode(!1))},
shallowAs:l,deep:p,copy:function(b,c){var d=l(b,c),g=k.children(p(b));a.append(d,g);return d},mutate:function(b,d){var p=l(b,d);c.before(b,p);var e=k.children(b);a.append(p,e);g.remove(b);return p}}})})(f,h,m);(function(e,f,h){e("8c","8 d6 g t 7y d7 d8 d9 j 1g 2e aw".split(" "),function(b,d,c,a,g,k,p,l,e,q,s,r){return function(f,h){var u=function(a){return k.blockTransform(f,a,"li")},y=function(a){var b=c.constant(!0),d=c.constant(!1);return a.fold(b,d,d)},m=function(a){return function(b){return l.cata(b,
function(b){return d.firstCursor(b).bind(function(c){return d.lastCursor(b).bind(function(b){return g.outdent(a,c,b).bind(function(a){return a.all()})})})},c.noop,c.noop)}},R=function(a){return l.cata(a,c.identity,function(a){return r.mutate(a,h)},function(a){a=b.map(a,u);var c=e.fromTag(h);q.before(a[0],c);s.append(c,a);return a})};return{apply:function(d,g,k){g=p.gather(f,h,d,g,k);d=b.forall(g,y)?m(d):R;d=b.bind(g,d);return 0===d.length?a.none():a.some({start:c.constant(d[0]),finish:c.constant(d[d.length-
1]),all:c.constant(d)})}}}})})(f,h,m);(function(e,f,h){e("4w",["8b","g","8c","8d"],function(b,d,c,a){var g=b(),k=a(g);b=function(a){return{query:function(b){return k.queryAll(b.startContainer(),b.endContainer(),["ol","ul"]).exists(function(b){return b===a})},apply:c(g,a).apply}};return{unordered:d.constant(b("ul")),ordered:d.constant(b("ol"))}})})(f,h,m);(function(e,f,h){e("8e",["7o"],function(b){return{inBody:function(d){return b.closest(d,"body")}}})})(f,h,m);(function(e,f,h){e("4p","86 t 7u 4v 88 89 8a 4w 8e 40 j 1g 1h 1r".split(" "),
function(b,d,c,a,g,k,p,l,e,q,s,r,f,h){var u=function(a,b){return g.isBlock(a)||!e.inBody(a)?b:a},y=function(a,g,k){return a.isRoot(g)?(a=h.children(g),d.from(a[k]).fold(function(){var a=s.fromText(b.zeroWidth());r.append(g,a);return c.point(a,0)},function(a){return c.point(a,0)})):c.point(g,k)},m=function(a,b,c){return b.getSelection().map(function(d){c.save();var g=y(b,d.startContainer(),d.startOffset()),k=y(b,d.endContainer(),d.endOffset());d=a(b.isRoot,g.element(),k.element()).fold(function(){b.setSelection(g.element(),
g.offset(),k.element(),k.offset());return[g.element(),k.element()]},function(a){var c=u(g.element(),a.start()),d=u(k.element(),a.finish());b.setSelection(c,g.offset(),d,k.offset());return a.all()});b.uiChanged();return d})};return{transform:function(a,b,c){return m(function(a,b,d){return k.apply(a,b,d,c)},a,b)},addClass:function(a,b,c,d){a.getSelection().each(function(a){f.closest(a.startContainer(),c).each(function(a){b.save();q.add(a,d);b.save()})})},inline:function(b,c,d){b.on(function(b){c.save();
p.addClass(b,d,a.isAnnotation);c.save()})},list:function(a,b,c){return m(a,b,c)}}})})(f,h,m);(function(e,f,h){e("4q","8 3 t 49 2a 7o".split(" "),function(b,d,c,a,g,k){var p=g.immutable("label","items"),l=function(b,d){return 0<d.length?[p(c.some(a.key(b)),d)]:[]};return{groups:function(a,g){var e=a.divisions(),r=b.map(e.blocks().concat(e.classblocks()),a.toCandidate),f=b.map(e.inlines(),a.toCandidate),e=b.map(e.objects(),a.toCandidate),e=b.foldr(e,function(a,c){var l;k.closest(g,c.base())?(l=c.base(),
l=b.contains(["a"],l)?d.merge(a,{link:a.link.concat([c])}):b.contains(["embed","img","object"],l)?d.merge(a,{media:a.media.concat([c])}):b.contains(["hr"],l)?d.merge(a,{line:a.line.concat([c])}):b.contains(["li","ol","ul"],l)?d.merge(a,{list:a.list.concat([c])}):b.contains(["table","tr","td","th"],l)?d.merge(a,{table:a.table.concat([c])}):a):l=a;return l},{link:[],media:[],line:[],list:[],table:[]});return b.flatten([[p(c.none(),r)],l("block.label.inline",f),l("block.label.link",e.link),l("block.label.media",
e.media),l("block.label.line",e.line),l("block.label.list",e.list),l("block.label.table",e.table)])}}})})(f,h,m);(function(e,f,h){e("4s",[],function(){var b=function(b,c){return{fold:c}};return{inline:function(d,c,a){return b("inline",function(b,k,p,l){return b(d,c,a)})},object:function(d,c,a,g){return b("object",function(b,p,l,e){return p(d,c,a,g)})},block:function(d,c,a){return b("block",function(b,k,p,l){return p(d,c,a)})},classblock:function(d,c,a,g){return b("classed block",function(b,p,l,e){return e(d,
c,a,g)})},cata:function(b,c,a,g,k){return b.fold(c,a,g,k)}}})})(f,h,m);(function(e,f,h){e("8f","8 g t 3x 4s 49".split(" "),function(b,d,c,a,g,k){var p="h1 h2 h3 h4 h5 h6 div p pre".split(" "),l="a embed hr img li object ol table td tr ul th".split(" "),e=function(a){var b=a.indexOf("."),g;-1<b?(g=a.substring(0,b),a=a.substring(b+1),g=-1===a.indexOf(".")?c.some({tag:d.constant(g),clazz:d.constant(a)}):c.none()):g=c.none();return g},q=function(c,d){var k=c.tag(),e=c.clazz(),n=b.contains(p,k),q=b.contains(l,
k);return(n?a.value(g.classblock):q?a.value(g.object):a.error("Rule must have object tag or block tag.")).map(function(a){var b=f(d,c,n);return a(k,e,b,d.style)})},s=function(a){return a.text.getOrThunk(function(){return k.key("block."+a.name)})},r=function(a,b){return a.text.getOrThunk(function(){return k.raw("span ("+b+")")})},f=function(a,b,c){return a.text.getOrThunk(function(){var a=c?k.translate("block."+b.tag())+" ("+b.clazz()+")":b.tag()+" ("+b.clazz()+")";return k.raw(a)})};return{decipher:function(c){return e(c.name).fold(function(){return b.contains(p,
c.name)?a.value(g.block(c.name,s(c),c.style)):a.error("Invalid style name: "+c.name)},function(b){return 0<b.tag().length?q(b,c):a.value(g.inline(b.clazz(),r(c,b.clazz()),c.style))})}}})})(f,h,m);(function(e,f,h){e("4r","8 r g t 8f 4s 49 2a".split(" "),function(b,d,c,a,g,k,p,l){return function(e){var q=l.immutable("base","value","textkey","icon","styles","tag");e=b.map(e.styles,function(b){return{name:b.rule,text:a.from(b.text).map(p.raw),style:void 0===b.style?{}:b.style}});var s={};b.each(e,function(a){g.decipher(a).each(function(b){s[a.name]=
b})});e=c.constant(!0);var r=c.constant(!1),f=function(a,b,c,d){return function(g){return k.cata(g,a,b,c,d)}},h=d.values(s),u=b.filter(h,f(r,r,r,e)),y=b.filter(h,f(r,r,e,r)),m=b.filter(h,f(r,e,r,r)),R=b.filter(h,f(e,r,r,r));e=function(){var a=u.concat(m).concat(y).concat(R);return b.map(a,function(a){return k.cata(a,function(a,b,c){return"."+a},function(a,b,c,d){return a+"."+b},function(a,b,c){return a},function(a,b,c,d){return a+"."+b})})}();var x=function(b){return void 0!==s[b]?a.some(s[b]):a.none()},
B=function(b){return k.cata(b,function(b,c,d){return q("span","."+b,c,a.none(),d,"span")},function(b,c,d,g){return q(b,b+"."+c,d,a.none(),g,"span")},function(b,c,d){return q(b,b,c,a.none(),d,b)},function(b,c,d,g){return q(b,b+"."+c,d,a.none(),g,b)})},r=function(){var a=d.values(s);return b.map(a,B)}();return{candidateByName:function(a){return x(a).map(B)},toCandidate:B,ruleByName:x,divisions:function(){return{classblocks:c.constant(u),blocks:c.constant(y),objects:c.constant(m),inlines:c.constant(R)}},
backup:function(b){return q(b,b,p.key("block."+b),a.none(),{},"span")},selectors:c.constant(e),everything:c.constant(r)}}})})(f,h,m);(function(e,f,h){e("8g",["g","49","j","1g"],function(b,d,c,a){var g=function(a){var g=d.get(a.textkey()),l=d.cata(a.textkey(),b.constant(!0),b.constant(!1));a=c.fromText(l?a.value():g);return{element:b.constant(a),unknown:b.constant(l)}};return{wrap:function(d){d=g(d);var p=c.fromTag("span");a.append(p,d.element());return{element:b.constant(p),unknown:d.unknown}},text:g}})})(f,
h,m);(function(e,f,h){e("4t","8g 49 3u 40 4h 1p j 1g".split(" "),function(b,d,c,a,g,k,p,l){return{format:function(b){var g=p.fromText(d.get(b.textkey())),e=p.fromTag("div");a.add(e,c.resolve("format-element-"+b.tag()));k.setAll(e,b.styles());b=p.fromTag("div");a.add(b,c.resolve("format-element-container"));l.append(e,g);l.append(b,e);return b},face:function(a){var d=b.wrap(a),l=d.element();k.setAll(l,{"font-family":a.value()});a=d.unknown()?[c.resolve("font-face-unknown")]:[];d=c.resolve("text-truncate");
g.add(l,a.concat([d]));return l}}})})(f,h,m);(function(e,f,h){e("4u",["8","4m","2a","89"],function(b,d,c,a){var g=c.immutable("tag"),k=function(a,c){return b.contains(["label","li","td","th","normal"],c)?d.on(a.backup(c)):d.off()},p=function(b,c){return a.query(b,c.selectors()).fold(function(){return b.collapsed()?k(c,"normal"):d.off()},function(a){return c.candidateByName(a).map(d.on).getOrThunk(function(){return k(c,a)})})};return{read:function(a,b){var c=a.getSelection().fold(function(){return d.off()},
function(a){return p(a,b)});return g(c)}}})})(f,h,m);(function(e,f,h){e("34","8 g t 4p 4q 4r 4s 4j 4t 49 4u 4v 4l 4m 28 29 4w 40 global!document".split(" "),function(b,d,c,a,g,k,p,l,e,q,s,r,f,h,u,y,m,R,x){return function(x,Q){var A=y.create({analytics:u(["message"])}),D=k(Q),F=x.content(),G=x.undo(),H=c.some(e.format),J=function(){return F.getSelection().map(function(a){return g.groups(D,a.startContainer())}).getOr([])},M=function(b,c,g){return{toggle:!0,value:c,textkey:g,action:function(){return a.list(b.apply,
F,G)},updateGeneral:function(a){F.getSelection().each(function(c){(b.query(c)?h.on(!0):h.off()).fold(a.deselect,d.noop,a.select)})},icon:!0}},K=M(m.unordered(),"bullist",q.key("action.bullist")),M=M(m.ordered(),"numlist",q.key("action.numlist"));return{ui:f.ui({"blocktag.dropdown":{name:"blocktag",textkey:q.key("block.styles"),updateDropdown:function(a){var b=r.hasSelection(F),d=s.read(F,D);l.updateDropdown(a,d.tag(),b.content(),D.everything(),c.none());b=J();a.populate(b)},action:function(c){D.ruleByName(c).each(function(c){p.cata(c,
function(b,c,d){a.inline(F,G,b)},function(b,c,d,g){a.addClass(F,G,b,c)},function(b,c,d){a.transform(F,G,b)},function(c,d,g,k){a.transform(F,G,c).each(function(a){b.map(a,function(a){R.add(a,d)})})});F.uiChanged()})},values:D.everything(),render:H},"bullist.general":K,"numlist.general":M}),events:A.registry,destroy:d.noop}}})})(f,h,m);(function(e,f,h){e("1i",["1g"],function(b){return{setCss:function(d,c,a){d.dom().styleSheet?d.dom().styleSheet.cssText=c:b.append(d,a)}}})})(f,h,m);(function(e,f,h){e("20",
[],function(){return{escape:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}}})})(f,h,m);(function(e,f,h){e("1j",["r","20","global!RegExp"],function(b,d,c){var a=function(a,b,p){b=new c("url\\(\\s*['\"]?"+d.escape(b)+"(.*?)['\"]?\\s*\\)","g");return a.replace(b,'url("'+p+'$1")')};return{replace:a,replaceMany:function(c,d){var p=c;b.each(d,function(b,c){p=a(p,c,b)});return p}}})})(f,h,m);(function(e,f,h){e("11","1f j 1g 1h 1i 1j global!Array".split(" "),function(b,d,c,a,g,k,p){return{stylesheets:function(a){a=
a.dom().styleSheets;return p.prototype.slice.call(a)},inject:function(l,p,e){var s=d.fromTag("style",e.dom());b.set(s,"type","text/css");l=k.replaceMany(l,p);g.setCss(s,l,d.fromText(l,e.dom()));e=a.descendant(e,"head").getOrDie();c.append(e,s)}}})})(f,h,m);(function(e,f,h){e("l",["j","11"],function(b,d){return{inject:function(c,a){d.inject(c,a,b.fromDom(document))}}})})(f,h,m);f("text!polish/_ie.css",[],function(){return"/*\n  IE requires this or the IFrame is not the correct height,\n  but it causes other browsers to overflow when no editor height is specified.\n*/\n.ephox-polish-editor-container .ephox-polish-socket .ephox-hare-content-iframe {\n  min-height:100%;\n}"});
f("text!polish/_touch.css",[],function(){return".ephox-polish-editor-container {\n  font-size: 115%;\n}"});f("text!polish/animation.css",[],function(){return"@keyframes anim-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes anim-rotate {\n  from {\n    -webkit-transform:rotate(0deg);\n  }\n  to {\n    -webkit-transform:rotate(360deg);\n  }\n}"});
f("text!polish/banners.css",[],function(){return"\n.ephox-polish-editor-container .ephox-polish-banner {\n  border-bottom:1px solid #D8D8D8;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n\tdisplay: flex;\n  -ms-flex-pack: justify;\n  -webkit-justify-content:space-between;\n          justify-content:space-between;\n  padding:.75em 1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner:last-child {\n  border:none;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-info {\n  background-color: #8080FF;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-error {\n  background-color: #FF4040;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-success {\n  background-color: #66B571;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-custom {\n  background-color: #CCCCCC;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-message {\n  color: #FFF;\n  display: inline-block;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-action {\n  color: #FFF;\n  display: inline-block;\n  text-decoration: underline;\n  margin-left:1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-action:active {\n  text-decoration: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-buttons {\n  display: -webkit-flex;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-buttons .ephox-polish-banner-login-action {\n  color: #FFF;\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-close {\n  font-family: 'Textbox Icons';\n  color: #FFF;\n  cursor: pointer;\n}\n\n.ephox-polish-editor-container .ephox-polish-banner-close:before {\n  content: \"\\e36b\";\n  margin-left: .5em;\n}"});
f("text!bee/bee.css",[],function(){return"/* FIX: Check whether I should combine the CSS project classes (cram, bee) like this; */\nspan.ephox-cram-annotation-wrap.ephox-bee-highlight-current {\n  border-bottom: 1px solid #999;\n}\n\n.ephox-cram-annotation-wrap.ephox-cram-wrap-disabled {\n  border-bottom: none;\n}\n\n.ephox-cram-annotation-wrap {\n  border-bottom: 1px solid red;\n}\n\nspan.ephox-cram-correction-wrap.ephox-bee-highlight-current {\n  border-bottom: 1px solid #999;\n}\n\n.ephox-cram-correction-wrap.ephox-cram-wrap-disabled {\n  border-bottom: none;\n}\n\n.ephox-cram-correction-wrap {\n  border-bottom: 1px solid blue;\n}"});
f("text!polish/blockTag.css",[],function(){return'.ephox-polish-editor-container .ephox-gopher-menu.ephox-gopher-main-menu[data-ephox-gopher-menu-value="blocktag-menu"] .ephox-gopher-item {\n  padding: .25em;\n}\n\n.ephox-polish-editor-container .ephox-gopher-menu.ephox-gopher-main-menu[data-ephox-gopher-menu-value="blocktag-menu"] .ephox-gopher-item .ephox-polish-format-element-container {\n  height: auto;\n  line-height: 1.5em;\n  padding: .75em;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.ephox-polish-editor-container .ephox-gopher-menu.ephox-gopher-main-menu[data-ephox-gopher-menu-value="blocktag-menu"] .ephox-gopher-item .ephox-polish-format-element-container * {\n  display: inline;\n}\n\n.ephox-polish-editor-container .ephox-polish-format-element-h1 {\n  font-size: 2em;\n  font-weight: bold;\n}\n\n.ephox-polish-editor-container .ephox-polish-format-element-h2 {\n  font-size: 1.5em;\n  font-weight: bold;\n}\n\n.ephox-polish-editor-container .ephox-polish-format-element-h3 {\n  font-size: 1.17em;\n  font-weight: bold;\n}\n\n.ephox-polish-editor-container .ephox-polish-format-element-h4 {\n  font-weight: bold;\n}\n\n.ephox-polish-editor-container .ephox-polish-format-element-h5 {\n  font-size: .83em;\n  font-weight: bold;\n}\n\n.ephox-polish-editor-container .ephox-polish-format-element-h6 {\n  font-size: 0.67em;\n  font-weight: bold;\n}\n\n.ephox-polish-editor-container .ephox-polish-format-element-pre {\n  font-family: monospace;\n  white-space: pre;\n}'});
f("text!polish/cardLayout.css",[],function(){return".ephox-polish-editor-container .ephox-polish-card-layout {\n  position: absolute;\n}\n\n.ephox-polish-editor-container .ephox-polish-card-layout-main {\n  position: relative;\n  overflow: hidden;\n}\n\n.ephox-polish-editor-container .ephox-polish-card-layout-back {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  color: #666;\n  border-bottom: 1px solid #B8B8B8;\n}\n\n.ephox-polish-editor-container .ephox-polish-card-layout-back.ephox-gopher-item:last-child {\n  border-bottom: 1px solid #B8B8B8;\n}\n\n.ephox-polish-editor-container .ephox-polish-card-layout-back:before {\n  font-family: 'Textbox Icons';\n  content: '\\e3b3';\n  padding-right: .25em;\n}"});
f("text!polish/clearFix.css",[],function(){return'/* Clearfix */\n\n.ephox-polish-editor-container .ephox-polish-font-palette:after,\n.ephox-polish-editor-container .ephox-polish-login-controlgroup:after,\n.ephox-polish-editor-container .ephox-polish-help-overview:after,\n.ephox-polish-editor-container .ephox-polish-link-quick-options:after,\n.ephox-whip-container:after,\n.ephox-whip-content:after,\n.ephox-whip-write-content-controls:after,\n.ephox-whip-controls:after {\n    content: ".";\n    display: block;\n    height: 0;\n    clear: both;\n    visibility: hidden;\n}\n\n.ephox-polish-editor-container * {\n  text-transform: none;\n}'});
f("text!polish/dialog.css",[],function(){return'\n.ephox-polish-editor-container .ephox-polish-dialog {\n/* For the Gel Modal to center it seems to need the dialog to have a defined width and height.\n/* This breaks the help dialog. */\n  height: 100%;\n  overflow: hidden;\n  box-shadow:          1px 2px 10px #333;\n  line-height: 1;\n  color:#333;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog:focus {\n  outline: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog > * {\n  padding: 1em;\n  background: #FFF;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog .ephox-polish-top {\n  background-color: #333;\n  padding: .75em 1em;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n\tdisplay: flex;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n\t        justify-content: space-between;\n}\n.ephox-polish-editor-container .ephox-polish-dialog .ephox-polish-top > * {\n  display: block;\n  color: #fff;\n  font-size: 1.25em;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog .ephox-polish-top .ephox-polish-dialog-close {\n  font-family: \'Textbox Icons\';\n  color: #FFF;\n  cursor: pointer;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog .ephox-polish-top .ephox-polish-dialog-close:before {\n  content: "\\e36b";\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog .ephox-polish-dialog-content-narrow {\n  width: 20em;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog p:first-child {\n  margin-bottom: 1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog .ephox-polish-dialog-controls {\n  padding: 0;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog .ephox-polish-dialog-controls:not(:empty) {\n  padding: 0 1em 1em 1em;\n}\n.ephox-polish-editor-container .ephox-polish-dialog .ephox-polish-dialog-controls > * {\n  border-top: 1px solid #D8D8D8;\n  padding-top: 1em;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n\tdisplay: flex;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n\t        justify-content: space-between;\n}\n\n.ephox-polish-editor-container .ephox-polish-default-action,\n.ephox-polish-editor-container .ephox-polish-dialog .ephox-polish-dialog-controls .ephox-polish-dialog-ok {\n  box-shadow:0 1px 1px rgba(0,0,0,.1);\n  border:1px solid #D8D8D8;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-polish-dialog .ephox-polish-dialog-controls .ephox-pastry-button:hover:not(.ephox-polish-dialog-ok) + .ephox-polish-dialog-ok {\n  box-shadow: none;\n  border-color: transparent;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog fieldset:not(:last-child) {\n  padding-bottom: 1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog legend,\n.ephox-polish-editor-container .ephox-polish-dialog label {\n  margin: 0 0 .5em 0;\n  color: #424242;\n  display: block;\n}\n\n.ephox-polish-editor-container input,\n.ephox-polish-editor-container textarea {\n  color: #424242;\n  display: block;\n  width: 100%;\n  padding: .5em;\n  border: 1px solid #D8D8D8;\n  margin-bottom:1em;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog textarea {\n  height: 10em;\n  resize: none;\n}\n\n.ephox-polish-editor-container input,\n.ephox-polish-editor-container textarea {\n  outline: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-dialog input[type="radio"],\n.ephox-polish-editor-container .ephox-polish-dialog input[type="radio"] + label {\n  display: inline-block;\n  padding-right: 1em;\n  padding-left:.25em;\n  color: #777;\n  width: auto;\n  box-shadow: none;\n}\n\n.ephox-pastry-tablayout-content.ephox-pastry-tablayout-active.ephox-polish-tablayout-loading {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n          align-items: center;\n  height: 100%;\n}\n\n.ephox-pastry-tablayout-content.ephox-pastry-tablayout-active.ephox-polish  -tablayout-loading:before {\n  font-family: "Textbox Icons";\n  content: "\\e1a8";\n  font-size: 3em;\n  color:#D8D8D8;\n  -webkit-animation: anim-rotate 1.5s infinite linear;\n  animation: anim-rotate 2s infinite linear;\n}\n\n.ephox-gel-centered-dialog {\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n      align-items: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  width: 100%;\n}\n\n.ephox-gel-modal-hidden {\n  display: none;\n}\n\n.ephox-gel-modal-show {\n  display: -webkit-inline-flex;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n}\n'});
f("text!polish/dropDown.css",[],function(){return'.ephox-polish-editor-container .ephox-polish-dropdown-button .ephox-pastry-arrow-righticon {\n  display: -ms-flex;\n  display: -webkit-flex;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n  -ms-flex-pack: justify;\n  -webkit-justify-content:space-between;\n          justify-content:space-between;\n}\n\n.ephox-polish-editor-container .ephox-polish-dropdown-button .ephox-pastry-arrow-righticon:after {\n  font-family: "Textbox Icons";\n  content: "\\e3b6";\n}\n\n.ephox-polish-editor-container .ephox-polish-dropdown-button .ephox-pastry-button {\n  width: 6.5em;\n}\n\n.ephox-polish-editor-container .ephox-polish-dropdown-button .ephox-pastry-button .ephox-pastry-text-content {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}'});
f("text!polish/editorBase.css",[],function(){return'html, body { height: 100%; }\n\nbody {\n  margin: 0;\n  padding: .5em;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n/* Animation */\n\n@keyframes anim-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@-webkit-keyframes anim-rotate {\n  from {\n    -webkit-transform:rotate(0deg);\n  }\n  to {\n    -webkit-transform:rotate(360deg);\n  }\n}\n\n/* Image Resizing */\n.ephox-polish-resize-eph-resizer {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border-top: 1px solid #FFF;\n  border-left: 1px solid #FFF;\n  border-right: 1px solid #000;\n  border-bottom: 1px solid #000;\n  background: #3498DB;\n\n}\n\n.ephox-polish-element-se-resize {\n  cursor: nwse-resize;\n  right: -1px;\n  bottom: -1px;\n}\n\n.ephox-polish-element-nw-resize {\n  cursor: nwse-resize;\n  left: -1px;\n  top: -1px;\n}\n\n.ephox-polish-element-ne-resize {\n  cursor: nesw-resize;\n  right: -1px;\n  top: -1px;\n}\n\n.ephox-polish-element-sw-resize {\n  cursor: nesw-resize;\n  left: -1px;\n  bottom: -1px;\n}\n\n.ephox-polish-element-resize-border {\n  display: inline-block;\n  outline: 1px dashed #424242;\n  border: 3px dashed #F5F5F5;\n  padding: 0;\n  position: relative;\n  overflow: hidden;\n}\n\n.ephox-polish-element-resize-container {\n  display: inline-block;\n  position: relative;\n}\n\n.ephox-polish-element-resize-selected {\n  position: absolute;\n  left: -1px;\n  top: -1px;\n}\n\n.ephox-polish-no-resize {\n  cursor: default;\n}\n\n/* Embeds */\n\n.ephox-polish-embedly-preview > div {\n  cursor: default !important;\n}\n\n.ephox-chips-embedly-loading-indicator {\n  background: transparent !important;\n  text-align: center;\n  animation: anim-rotate 2s infinite linear;\n  -webkit-animation: anim-rotate 1.5s infinite linear;\n}\n\n.ephox-chips-embedly-loading-indicator:before {\n  font-family: "Textbox Icons";\n  content: "\\e1a8";\n  color:#777;\n  line-height: 20px;\n}\n\n.ephox-chips-embedly-eph-collapse {\n  font-family: "Textbox Icons";\n  font-size: 8px;\n  line-height: 1;\n  color: #8080FF;\n  text-align: center;\n  display: inline-block;\n  padding: 5px 2px;\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 100;\n  background: #FFF;\n  border-bottom-left-radius: 4px;\n  box-shadow: 0px 1px 3px #888;\n  width: 15;\n}\n\n.ephox-chips-embedly-eph-collapse:after {\n  content: \'\\e36b\';\n}\n\n/* Highlights */\n\n.ephox-polish-highlight-placeholder, .ephox-polish-highlight-common {\n  padding: 0.25em;\n  border-radius: 4px;\n  margin: 0.25em 0.25em 0.25em 0;\n  line-height: 2.0em;\n}\n\n/* Table gridlines */\n\ntable[border=\'0\'] td,\ntable[border=\'0\'] th,\ntable:not([border]) td,\ntable:not([border]) th {\n  border:1px dashed #CCC;\n}\n\n/* Table Resizing */\n\n.ephox-snooker-resizer-bar {\n  background-color: #8080FF;\n  opacity: 0.0;\n  cursor: ew-resize;\n}\n\n.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging {\n  opacity: 0.2;\n}\n\n/* Image Uploading */\n.ephox-polish-upload-image-container {\n  display: inline-block;\n  position: relative;\n}\n\n.ephox-polish-upload-image-container:before {\n  font-size: 20px;\n  height: 20px;\n  width: 20px;\n  position: absolute;\n  bottom: 12px;\n  right: 12px;\n  display: inline-block;\n  font-family: "Textbox Icons";\n  content: "\\e1a8";\n  color:#777;\n  z-index: 10;\n  animation: anim-rotate 2s infinite linear;\n  -webkit-animation: anim-rotate 1.5s infinite linear;\n}\n\n.ephox-polish-upload-image-container > img {\n  opacity: 0.5\n}\n\n\n/*\n  TBIO-453. In IE10, mouse events fall through containers that they consider to be empty/transparent\n  The purpose of this is to create an entirely transparent background which tricks IE into\n  thinking that the container is not transparent / empty.\n*/\n.ephox-polish-transparent-container {\n  background: url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==);\n}\n\n'});
f("text!polish/feedback.css",[],function(){return".ephox-polish-editor-container .ephox-blab-feedback-input:focus,\n.ephox-polish-editor-container .ephox-blab-feedback-area:focus { \n  outline: none;\n  box-shadow: none;\n  border-color: #D8D8D8; \n}\n\n.ephox-polish-editor-container .ephox-blab-feedback-submit {\n  float: right;\n}\n\n.ephox-polish-editor-container .ephox-blab-feedback-spinner {\n  display: none;\n}\n\n.ephox-polish-editor-container .ephox-blab-feedback-error {\n  display: none;\n  font-size: 12px;\n  color: #FF4040;\n  margin: 0;\n  margin-left: 5px;\n  float: left;\n}"});
f("text!polish/filepickerWrap.css",[],function(){return'#filepicker_dialog_container {\n  border-radius: 4px !important;\n  box-shadow: 1px 2px 10px #333 !important;\n  border: none !important;\n  padding: 5px 15px 15px 15px !important;\n  height: auto !important;\n  z-index: 210000 !important;\n}\n\n#filepicker_dialog_container iframe {\n  height: 405px !important;\n}\n\n#filepicker_dialog_container a:before {\n  content: "\\e36b";\n  font-family: "Textbox Icons";\n  margin-right: 20px;\n}\n\n#filepicker_dialog_container a {\n  width: 22px;\n  font-size: 13px !important;\n  overflow: hidden;\n  cursor: pointer !important;\n  margin-top: 5px;\n  margin-right: -10px;\n  padding: 0 !important;\n}'});
f("text!polish/flashBin.css",[],function(){return'.ephox-polish-editor-container .ephox-polish-flashbin-wrapper-cmd {\n  width: 20em;\n}\n\n.ephox-polish-editor-container .ephox-polish-flashbin-wrapper-ctrl {\n  width: 25em;\n}\n\n.ephox-polish-editor-container .ephox-polish-flashbin-target {\n  height: 1px;\n  width: 1px;\n  position: absolute;\n  overflow: hidden;\n  margin-left: -1px;\n  padding: 0;\n  border: 0;\n  outline: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-flashbin-loading {\n  text-align: center;\n  padding-top: 1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-flashbin-loading-spinner {\n  animation: anim-rotate 2s infinite linear;\n  -webkit-animation: anim-rotate 1.5s infinite linear;\n}\n\n.ephox-polish-editor-container .ephox-polish-flashbin-loading-spinner:before {\n  font-family: "Textbox Icons";\n  content: "\\e1a8";\n  font-size: 7em;\n  color:#D8D8D8;\n}\n\n.ephox-polish-editor-container .ephox-polish-flashbin-loading p {\n  padding-top: 1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-flashbin-helpcopy-kbd,\n.ephox-polish-editor-container .ephox-polish-flashbin-helpcopy-kbd .ephox-polish-help-kbd {\n  text-align: center;\n  font-size: 3em;\n  vertical-align: middle;\n  margin: .5em 0;\n}\n\n.ephox-polish-editor-container .ephox-polish-flashbin-helpcopy p:first-child {\n  margin-top: 0;\n}\n\n.ephox-polish-editor-container .ephox-polish-flashbin-helpcopy p:last-child {\n  margin-bottom: 0;\n}'});
f("text!polish/font.css",[],function(){return'.ephox-polish-editor-container .ephox-gopher-menu[data-ephox-gopher-menu-value="font"] .ephox-pastry-icon-content {\n  display: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-fontface .ephox-gopher-item-text {\n  font-weight: normal;\n}\n\n.ephox-polish-editor-container .ephox-polish-font-size-widget,\n.ephox-polish-editor-container .ephox-polish-font-size-widget .ephox-polish-font-stepper-options,\n.ephox-polish-editor-container .ephox-polish-font-stepper-input,\n.ephox-polish-editor-container .ephox-polish-color-widget-controls,\n.ephox-polish-editor-container .ephox-polish-palette-color-options {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n}\n\n.ephox-polish-editor-container .ephox-polish-color-widget-controls {\n  margin-bottom: .5em;\n  padding-bottom: .5em;\n  border-bottom: 1px solid #D8D8D8;\n}\n\n.ephox-polish-editor-container .ephox-polish-palette-color-options,\n.ephox-polish-editor-container .ephox-polish-color-widget-controls {\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n          justify-content: center;\n}\n\n.ephox-polish-editor-container .ephox-polish-palette-color-options {\n  width: 10em;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n}\n\n.ephox-polish-editor-container .ephox-polish-palette-color-options .ephox-polish-color-option-white {\n  outline: 1px solid;\n}\n\n.ephox-polish-editor-container .ephox-polish-palette-color-option {\n  margin: .25em;\n  display: none;\n  height: 1.25em;\n  width: 1.25em;\n}\n\n.ephox-polish-editor-container .ephox-polish-palette-detail-active .ephox-polish-palette-color-option {\n  display: block;\n}\n\n.ephox-polish-editor-container .ephox-polish-font-size-widget input {\n  margin: 0;\n  width: 6em;\n  margin-right: .25em;\n}\n\n.ephox-polish-editor-container .ephox-polish-font-size-widget.ephox-polish-default-font-size  input {\n  opacity: 0.4;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar-group .ephox-polish-font-stepper-input {\n  display: none;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item-text .ephox-polish-text-truncate {\n  min-width: 6em;\n  max-width: 12em;\n  display: block!important;\n}\n\n.ephox-polish-editor-container .ephox-polish-fontface-dropdown-button .ephox-polish-text-truncate,\n.ephox-polish-editor-container .ephox-gopher-item-text .ephox-polish-text-truncate {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ephox-polish-font-stepper-input .ephox-polish-invalid-font-size {\n  border: 1px solid red;\n}\n\n.ephox-polish-editor-container .ephox-polish-font-face-unknown {\n  text-transform: capitalize;\n  color: gray;\n}\n\n/* Prevent Active State for Inline Font Size Widget This should be generalized. */\n.ephox-polish-editor-container .ephox-gopher-menu .ephox-gopher-item.ephox-gopher-item-selected[aria-label="Font Size"]:active {\n  background: #FAFAFA;\n}'});
f("text!polish/fullscreen.css",[],function(){return".ephox-polish-editor-container.ephox-polish-fullscreen-maximized {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 2147483647 !important;\n  border: none\n}\n\n@media only screen and\n (min-width: 960px) {\n\n  .ephox-polish-editor-container.ephox-polish-fullscreen-maximized:not(.ephox-polish-mobile-layout) .ephox-polish-toolbar,\n  .ephox-polish-editor-container.ephox-polish-fullscreen-maximized:not(.ephox-polish-mobile-layout) .ephox-hare-content-iframe {\n    max-width: 960px;\n    margin:0 auto;\n  }\n\n  .ephox-polish-editor-container.ephox-polish-fullscreen-maximized:not(.ephox-polish-mobile-layout) .ephox-hare-content-iframe {\n    border-left: 1px dashed #D8D8D8;\n    border-right: 1px dashed #D8D8D8;\n  }\n\n}"});
f("text!polish/gopher.css",[],function(){return'.ephox-polish-editor-container .ephox-gopher-menu {\n  min-width: 8em;\n  max-width: 15em; \n}\n\n.ephox-polish-editor-container .ephox-gopher-item,\n.ephox-polish-editor-container .ephox-gopher-separator  {\n  cursor: pointer;\n  list-style-type: none;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n\t        justify-content: space-between;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  padding:1em;\n  border-bottom: 1px solid #D8D8D8;\n  color:#333;\n  min-width: 10em;  /* TBIO-1270: Fixed IE11 text wrapping when using flex.\n                        Note: a better fix would be removing the display: flex \n                          properties and then apply flex-grow: auto, or flex: 1 1 auto;\n                          the issue with this approach it\'s that other menus, for example\n                          the text menu would be not displayed with the arrows in the\n                          right place. */\n}\n\n.ephox-polish-editor-container .ephox-gopher-item:last-child {\n  border:none;\n}\n\n.ephox-polish-editor-container .ephox-gopher-submenu .ephox-gopher-item.ephox-polish-menu-widget {\n  display: block;\n  min-width: inherit;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item > .ephox-pastry-icon-content {\n  padding-right:1em;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item > .ephox-gopher-item-text {\n  -ms-flex: 1;\n  -webkit-flex: 1;\n\t        flex: 1;\n  display: inline-block;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item.ephox-polish-menu-more:after {\n  font-family: "Textbox Icons";\n  content: "\\e3b1";\n  padding-left: 1em;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-item-selected:not(.ephox-polish-menu-widget) {\n  color: #000;\n  background: #FAFAFA;\n  box-shadow: inset 0 -0.5em 1em #F5F5F5;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-item-selected:focus {\n  outline: none;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-disabled-item,\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-disabled-item:active,\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-item-selected.ephox-gopher-disabled-item,\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-item-selected.ephox-gopher-disabled-item:active,\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-disabled-item:active {\n  color: #333;\n  background:none;\n  box-shadow: none;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item-text.ephox-polish-label-default,\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-disabled-item > * {\n  opacity: .4;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item.ephox-polish-menu-more.ephox-gopher-disabled-item:after,\n.ephox-polish-editor-container .ephox-gopher-item .ephox-polish-menu-shortcut {\n  display: none;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-item-selected:active{\n  background: #F5F5F5;\n}\n\n.ephox-polish-editor-container .ephox-gopher-item.ephox-gopher-item-selected.ephox-polish-menu-widget:active {\n  background: #FFF;\n}\n\n.ephox-polish-editor-container  .ephox-gopher-menu[data-ephox-gopher-menu-value="usersettings-menu"] li:first-child:not(.ephox-gopher-item) {\n  color: #777;\n  padding: 1em;\n  border-bottom: 1px solid #D8D8D8;\n}\n\n.ephox-polish-editor-container .ephox-gopher-separator {\n  background: #E8E8E8;\n  padding: .25em 1em;\n  font-size: .8em;\n  font-weight: normal;\n  color: #666;\n}\n\n.ephox-polish-editor-container .ephox-gopher-separator:empty {\n  padding:0;\n}\n'});
f("text!polish/help.css",[],function(){return".ephox-polish-editor-container .ephox-polish-help-article {\n  width: 100%;\n  color: #333;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-legal {\n  display: block;\n  font-family: monospace;\n  white-space: pre;\n  margin: 13px 0px;\n  margin-left: 1.5em;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-legal > a {\n  font-family: monospace;\n  white-space: pre;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-h1 {\n  font-size: 1.5em;\n  font-weight: 300;\n  padding-bottom: .25em;\n  margin-bottom: .5em;\n  border-bottom: 1px solid #D8D8D8;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-h2 {\n  font-size: 1.1em;\n  font-weight: 700;\n  color: #333;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-h2:not(:first-child),\n.ephox-polish-editor-container .ephox-polish-help-h1:not(:first-child) {\n  margin-top: 1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-h1 + .ephox-polish-help-h2 {\n  margin-top: 0;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-article p {\n  line-height: 1.7em;\n  color: #333;\n  margin: 0px 1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table {\n  border-collapse: collapse;\n  width: 100%;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table {\n  margin: .5em 0;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table caption {\n  text-align: left;\n  color: #333;\n  font-weight: 700;\n  font-size: 1.1em;\n  padding-bottom: .5em;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table tr > * {\n  text-align: center;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table tr > *:first-child {\n  text-align: left;\n  width: 40%;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table th {\n  color: #3498DB;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table th,\n.ephox-polish-editor-container .ephox-polish-help-table td {\n  border: 1px solid #D8D8D8;\n  padding: .75em;\n  width: 30%;\n  line-height: 1.7em;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table.ephox-polish-help-table-inline {\n  width: 45%\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table.ephox-polish-help-table-inline th,\n.ephox-polish-editor-container .ephox-polish-help-table.ephox-polish-help-table-inline td {\n  border: 1px solid #D8D8D8;\n  padding: .5em;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table.ephox-polish-help-table-shortcuts td:not(:first-child),\n.ephox-polish-editor-container .ephox-polish-help-table.ephox-polish-help-table-inline td:last-child,\n.ephox-polish-editor-container .ephox-polish-help-mono {\nfont-family: monospace;\n}\n\n.ephox-polish-editor-container .ephox-polish-help-table.ephox-polish-help-table-inline,\n.ephox-polish-editor-container .ephox-polish-help-table.ephox-polish-help-table-inline tr > *,\n.ephox-polish-editor-container .ephox-polish-help-table.ephox-polish-help-table-snippet th,\n.ephox-polish-editor-container .ephox-polish-help-table.ephox-polish-help-table-snippet td {\n  width: auto;\n  text-align: left;\n}\n\n.ephox-polish-editor-container .ephox-polish-icon.ephox-polish-help-icon {\n  padding: .3em .35em;\n  border:1px solid rgb(204,204,204);\n  background-color:rgb(247,247,247);\n  font-family: Textbox Icons;\n  font-size: .85em;\n}"});
f("text!polish/hermes.css",[],function(){return'.ephox-hermes-web-url-container,\n.ephox-polish-editor-container .ephox-hermes-hbox,\n.ephox-polish-editor-container .ephox-hermes-url-selector,\n.ephox-polish-editor-container .ephox-polish-socket-drop-wrapper,\n.ephox-polish-editor-container .ephox-polish-socket-drop-container,\n.ephox-polish-editor-container .ephox-hermes-drop-wrapper,\n.ephox-polish-editor-container .ephox-hermes-drop-container,\n.ephox-polish-editor-container .ephox-hermes-web-url-container .ephox-hermes-hbox .ephox-hermes-image-preview-container {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex:1 1;\n  -ms-flex:1 1;\n          flex:1 1;\n}\n\n.ephox-polish-editor-container .ephox-hermes-hbox {\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.ephox-polish-editor-container .ephox-hermes-url-selector {\n  -webkit-flex:0 0 auto;\n  -ms-flex:0 0 auto;\n          flex:0 0 auto;\n  width: 70%;\n  margin: 0 auto;\n}\n\n.ephox-hermes-url-selector > .ephox-hermes-url-selector > * {\n  margin-bottom: 0;\n}\n\n.ephox-polish-editor-container .ephox-hermes-image-preview-container {\n  -webkit-flex: 1 100%;\n  -ms-flex: 1 100%;\n      flex: 1 100%;\n  max-height: 22em;\n}\n\n.ephox-polish-editor-container .ephox-hermes-url-indicator {\n  display: none;\n  position: absolute;\n  height: 1em;\n  padding: .5em;\n  right: 0;\n}\n\n.ephox-polish-editor-container .ephox-hermes-url-indicator-loading {\n  display: block;\n}\n\n.ephox-polish-editor-container .ephox-hermes-image-preview-container:empty:before,\n.ephox-polish-editor-container .ephox-hermes-url-indicator:before {\n  font-family: "Textbox Icons";\n  content: "\\e1a8";\n  font-size: 1em;\n  color: #777;\n  -webkit-animation: anim-rotate 1.5s infinite linear;\n  animation: anim-rotate 2s infinite linear;\n}\n\n.ephox-polish-editor-container .ephox-hermes-image-preview-container:empty:before {\n  margin: 0 auto;\n  font-size: 2em;\n}\n\n.ephox-polish-editor-container .ephox-hermes-url-input-label {\n  padding: .5em;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n      flex: 1;\n  margin-top: 1px !important;\n}\n\n.ephox-polish-editor-container .ephox-hermes-hbox .ephox-hermes-url-input {\n  font-size: 1em;\n  -webkit-flex: 4;\n  -ms-flex: 4;\n      flex: 4;\n  padding-right: 2em;\n}\n\n.ephox-polish-editor-container .ephox-hermes-fileupload-weburl-help {\n  color: #777;\n  font-size: 0.85em;\n}\n\n.ephox-polish-editor-container .ephox-hermes-fileupload-weburl-help-invalid {\n  color: #FF4040;\n}\n\n.ephox-polish-editor-container .ephox-hermes-web-url-container .ephox-hermes-hbox .ephox-hermes-image-preview-container {\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n          align-items: center;\n  text-align: center;\n  overflow: hidden;\n}\n\n.ephox-polish-editor-container .ephox-hermes-web-url-container .ephox-hermes-hbox .ephox-hermes-image-preview-container > * {\n  margin: 0 auto;\n}\n\n.ephox-polish-editor-container .ephox-polish-socket-drop-wrapper {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, .9);\n}\n\n.ephox-polish-editor-container .ephox-polish-socket-drop-wrapper.ephox-polish-socket-hide {\n  display: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-socket-drop-container,\n.ephox-polish-editor-container .ephox-hermes-drop-container {\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n          align-items: center;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n          flex-direction: column;\n  border: dashed .25em #D8D8D8;\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n}\n\n.ephox-polish-editor-container .ephox-polish-socket-drop-wrapper .ephox-polish-socket-drop-container {\n  border-color:#999;\n  margin: 1em;\n}\n\n.ephox-polish-editor-container .ephox-hermes-drop-container.ephox-hermes-drop-active {\n  background: #FAFAFA;\n  box-shadow: inset 0 -0.5em 1em #F5F5F5;\n  border-color: #999;\n}\n\n.ephox-polish-editor-container .ephox-polish-socket-drop-container:empty:before,\n.ephox-polish-editor-container .ephox-hermes-drop-container:empty:before {\n  font-family: "Textbox Icons";\n  content: "\\e082";\n  font-size: 6em;\n  color:#777;\n}\n\n.ephox-polish-editor-container .ephox-hermes-drop-container p {\n  color: #777;\n  margin:0;\n  padding:0;\n}\n\n.ephox-polish-editor-container .ephox-hermes-drop-container p.ephox-hermes-help-text-drop-icon:before {\n  font-family: "Textbox Icons";\n  content: "\\e082";\n  font-size: 3em;\n  color:#D8D8D8;\n}\n\n.ephox-polish-editor-container .ephox-hermes-drop-container p.ephox-hermes-help-text-drop {\n  font-size: 2em;\n  margin-bottom: .25em;\n}\n\n.ephox-polish-editor-container .ephox-hermes-drop-container p.ephox-hermes-help-text-or {\n  margin-bottom: 1em;\n}\n\n.ephox-polish-editor-container .ephox-hermes-drop-container.ephox-hermes-drop-active p.ephox-hermes-help-text-drop,\n.ephox-polish-editor-container .ephox-hermes-drop-container.ephox-hermes-drop-active p.ephox-hermes-help-text-drop-icon:before {\n  color: #666;\n}\n\n.ephox-polish-editor-container .ephox-hermes-hidden.ephox-hermes-file-selector-input {\n  position: absolute;\n  top:1500px;\n}\n\n.ephox-polish-editor-container .ephox-hermes-web-url-container .ephox-hermes-hbox .ephox-hermes-image-preview-container {\n  display: block; /*  this is needed because firefox otherwise treats the image \n                      like any other container and stretches it resulting in an \n                      unproportioned image. */\n}\n\n.ephox-hermes-fluid-image {\n  max-width: 100%;\n  height: auto;\n  max-height: 22em;\n}\n\n@media all and (max-width: 40.000em) {\n  .ephox-polish-editor-container .ephox-hermes-url-selector {\n    width: 95vw;\n  }\n}'});
f("text!polish/iconFont.css",[],function(){return"@font-face {\n  font-family: 'Textbox Icons';\n  src: url(data:application/font-woff;charset=utf-8;base64,d09GRk9UVE8AACngAAoAAAAAKZgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAAI14AACNeS0jiI09TLzIAACRUAAAAYAAAAGAOkgMrY21hcAAAJLQAAAHcAAAB3ELE7qlnYXNwAAAmkAAAAAgAAAAIAAAAEGhlYWQAACaYAAAANgAAADYCoSd/aGhlYQAAJtAAAAAkAAAAJAfEBBVobXR4AAAm9AAAAVQAAAFURgAQF21heHAAAChIAAAABgAAAAYAVVAAbmFtZQAAKFAAAAFvAAABb0IJIApwb3N0AAApwAAAACAAAAAgAAMAAAEABAQAAQEBDlRleHRib3gtSWNvbnMAAQIAAQA6+BwC+BsD+BgEHgoACXf/i4seCgAJd/+LiwwHi0v6lfpUBR0AAAK/Dx0AAALEER0AAAAJHQAAI1USAFYCAAEADgAbAB0AHwAiACcALAAxADYAOwBAAEUASgBPAFQAWQBeAGMAaABtAHIAdwB8AIEAhgCLAJAAlQCaAJ8ApACpAK4AswC4AL0AwgDHAMwA0QDWANsA4ADlAOoA7wD0APkA/gEDAQgBDQESARcBHAEhASYBKwEwATUBOgE/AUQBSQFOAVMBWAFdAWIBZwFsAXEBdgF7AYABhQGKAY8BlAGZAZ4BowGoAa0BsgG3VGV4dGJveC1JY29uc1RleHRib3gtSWNvbnN1MHUxdTIwdUUwMDF1RTAxMXVFMDI1dUUwMjd1RTAyRHVFMDQ0dUUwNzJ1RTA3RHVFMDgydUUxMzR1RTEzRHVFMTNFdUUxNEJ1RTE0Q3VFMTY3dUUxODV1RTE5RnVFMUE4dUUxQjJ1RTFCN3VFMUJGdUUxQzB1RTFDOHVFMUM5dUUxREJ1RTFFMXVFMjRGdUUyOUF1RTI5Q3VFMkNEdUUzMjB1RTM1N3VFMzU5dUUzNUV1RTM2MnVFMzZCdUUzNkN1RTM3MHVFMzc0dUUzNzV1RTM3NnVFM0IwdUUzQjF1RTNCMnVFM0IzdUUzQjR1RTNCNnVFNDE5dUU0M0R1RTQ0N3VFNDQ4dUU0NDl1RTQ0QXVFNDRFdUU0NEZ1RTQ1MHVFNDUxdUU0NTN1RTQ1NHVFNDU1dUU0NTZ1RTQ1N3VFNDU5dUU0NUR1RTQ1RXVFNDY0dUU0NjZ1RTQ2OHVFNDc1dUU0NzZ1RTQ3N3VFNDc4dUU0Nzl1RTQ3QXVFNDdDdUU0N0R1RTQ3RnVFNDgwdUU0QkR1RTYwMHVFNjAxAAACAYkAUwBVAgABAAQABwAKAA0ARgC4AWsCzAMeA1ADogQgBIwE0wUiBXEFmwXFBhwGbwb1B+kIUgjBCTMJoQnZChELGAvIDAcMlA0VDeYOog8sD9EQVBDaEbER4BH7Es0S/hNoE4ITnRO4E9IT4RPwFA0UVRSxFQYVMxWEFioWhxatF1IXiBfxGEkYbxkAGUYZmBnpGj8a7RsnG2AbmxvWHA8cVhyeHN8dMx1rHawe7h9pH+P+lA7+lA7+lA78lA76lPgGFfyU+CH8lPwhi/c2+JT4IfiU/CEF+xT7KBWL/BT7lIuL95T7lIuL+5T7lIuL+BT4FPe0BQ755PkEFfxE/ET7NIuL9zT4RPhEBfdqIRX7NPc0w8MFnp6pi554COcvBZ54i214eAhTUwX7GvuuFYv74P0Ui4v5FPf0i/cU9xT8lIsFVotgYItWCIv9VAWLVrZgwIsI+VSLBcCLtraLwAiL+HP7FPsHBQ76FPfaFYuMi4yLjIuMi4yLjYH30PwK98uLi4uL/Ar7y4H70IuJi4qLiouKi4qLiouJi4mLiYuJi4iLiQiLi4uLi4qP+2T3Pvs892aL92aL9z73PI/3ZIuMi4uLi4uNi46LjYuNi42LjQj7FIAVi4sFikhvTFtbW1xLcUiLf4t+jH+N9x/d6Pcsi/dCi56Kn4mds0KhRo1OCIuLBYuKi4qLigiLiQWLiouJi4qLiYuKi4kIDviU+dEVa2thX2FY+wH7HFD7FYcgi4qLiouJCIuLi4oFi4mLiouJi4mLiouJCIuLi4oFjUCpRMFVwVbTbteL14vTqMHAwcGp0o3WCIuMBYuMi42LjYuNi4yLjQiLjIuLBYuNi4yLjAiLiwWH9lD3FfsB9xxhvmG3a6sIi/cXFYuLBYuL+Ar7y5X70IuJi4qLiouKi4qLiouJi4mLiYuJi4iLiYuLi4uLiof7ZPs++zz7Zov7Zov7Pvc8h/dkCIuMi4uLi4uNi46LjYuNi42LjYuMi4yLjIuMi4yLjZX30PgK98uLiwj3aP0EFYuKi4mLiouKi4mLigiLiouLBYpRc1NhYmFiU3RQi1yLXplmppOKk4uUi9eL06jBwMHBqdKN1giLi4uMBYuMi42LjYuNi4yLjQiLjIuLBYuNi4yLjAiLiwWKnomeh5+oT5tUjVoIi4qLiwWLi4uKi4oIi4qLiwUOi/nUFYv9lPqUi4v5lP6UiwX6VP1UFUuL+1T3tPsUK/uU99T7VPyUS4uL+RT6FIuL/RQF+5T4dBWLwLa2wIvAi7Zgi1aLVmBgVotWi2C2i8AIDtn5TRX59vd8vPtN/fX7fAWLixWL/NT6FIuL+NT+FIsF99T8VBWL99T3lPs0+5T7NAUO+NT5MxX3h9z3YPzz+4c6Bf2gixX3lIuL+VT7lIuL/VQFy/jUFfcUi4tL+xSLi8sF95T81BX3lIuL+VT7lIuL/VQFy/jUFfcUi4tL+xSLi8sFDvob+Y0Vp2+iWJBhCPvTi4v30wW1hr50p28I9yL7IgX72/tNFYv4FPxEiwVfi2dni18Ii/30BYtfr2e3iwj5dIsFt4uvr4u3CIv4xPwUiwX3lPyUFf0Ui4vL+RSLi0sFi/cUFf0Ui4vL+RSLi0sFi/cUFf0Ui4vL+RSLi0sFDvnb+Y0Vp2+iWJBhCPvTi4v30wW1hr50p28I9yL7IgX72/tNFYv4FPwEiwVfi2dni18Ii/30BYtfr2e3iwj5NIsFt4uvr4u3CIv4xPwUiwXL/BQVi/tU+1SLi/dU+zSL95T3lPeU+5T7NIsFDvoU+lQV/hSLi/6U+pSLi/oU+xT3FAX8FPsUFfcUi4v7lPsUi4v3lAX4FP2UFf2Ui4v5lMuLi/vU+NSLi/fU1ovAVov9XwUO9xT4FBWL94v3Xfdd94uL94uL9137XYv7i4v7QSn7K/slQfbN0/cRi/cji/do+zL3QPtWi/tCi/sl+x5v+0oI9w+L+1T7dPtU93T3FIsFDvoU+BQVi/eL+133XfuLi/uLi/td+12L+4uL+0Ht+yv3JUEgzUP3EYv3I4v3aPcy90D3Vov3Qov3Jfsep/tKCPsPi/dU+3T3VPd0+xSLBQ75jksV9wb3Yp73zvxTgQiL+5L8FPgU+BT4FIv7jAX4q5nH/Hv7rfvDCA741PlcFYv3jPgU/BT8FPwUi/eSBfxTlZ77zvcG+2L7rffDx/h7+Kt9CA76NPoUFf3UiwVWi2Bgi1YIi/yUBYtWtmDAiwj3NIuL+5T3x/eU+AGLBcCLtraLwAiL+JQFi8BgtlaLCGv81BX8D4v7WftDi/dD+1SLi/hU+ZSLi/xUBQ75A/eVFXWPisiLi4uLzMuZ4bGLo+dlrIytu/d9+4SL+4SLu/t9jGllaqMvsYuZNcxLi4uLi4pOdYcIRID7nvsJi/sVCPoUiwWL9xX7nvcJRJYIDvd1+JQV9xCL7yeL+xCL+xAnJ/sQi/sQiyfvi/cQCIqrBYv3i/dd9133i4sIi/sUBTaLOmpPTn+AgH6CfpaNl4yXiwj41IsV9xCL7yeL+xCL+xAnJ/sQi/sQiyfvi/cQCIqrBYv3i/dd9133i4sIi/sUBTaLOmpPTn+AgH6CfpaNl4yXiwgO+pT4VBWKznzOcMdxyGTDW7hcuVKvTqNOo0qWSopKikt9UHFQcVVlX11fXWhUdFB0UIBMjEwIjEyZTaRSpFKwV7dguGDAasR1xHTIgciMyIzHmcKjwqO9rrS3tbarvqHCmKyUro+vCIyLjYuMi66LqKeLr4uMi42LjQiLiwUl+z4VdFZpW2FjYWNabFZ2VnZSglKMUoxTmFihWKJcrGWzZbNtu3e+d7+CwYzCjMKXwKG9CKG8q7iysLGvuai8nr2ewJS/isCKvn+7drp2tmyuZq9mpl+eW51ck1iKWQiLiwWLiYuJi4qLaqRvq4iFaIFpfGsIDvqU+NQV/BSL9yT3JAVC0yuzJIskiytjQkNDQmMriySLJLMr00LUQ+tj8ovyi+uz1NORkpCRkZEI6zcFLSD7HUf7Lov7r4v7efd5i/evi/ev93n3efevi/chi/cUUuguCPcq9yqL/BQFDvoWoRX7effkBfcX87D3TzP3Jyv3NPtkv/szK/s0K1f7ZOv7M+L7JPdFU/crxwj3Uvv9BZF/mYiWkQjgvwWWkY6ZhJYI+9T4KBX7AUr7Ia5K9wBK9wGu9yH3AMz3Acz3IWjM+wDM+wFo+yH7AEoIDvqU+lQVi/wU+x73Hvto+2j7APcA92j3aPse9x4F/B77HhX3aPto+wD7APto92j7Hvsei/gU+BSLBfiK/Z4V9x73Hov8FPwUi/ce9x77aPdo9wD3AAX7bPsAFfto+2j3Hvse/BSLi/gU9x77Hvdo92gFDsv4FBX4FIuL/BT7Hvce+177XvsA9wD3XvdeBfkAixX3Xvte+wD7APte9177Hvsei/gU+BSLBYv3FBX8FIuL+BT3Hvse9173XvcA+wD7XvteBfyU9wAV9x73Hov8FPwUi/ce9x77Xvde9wD3AAUO+pT6VBWL/DT7NPc0+1T7VCvr91T3VPs09zQF+zT9NBX7VPtU9zT7NPw0i4v4NPc0+zT3VPdUBQ74VPgUFYv8NPs09zT7VPtUK+v3VPdU+zT3NAX6dPh0FftU+1T3NPs0/DSLi/g09zT7NPdU91QFDvhU+dQVi5sFi6V1oXGLCPs0iwVxi3V1i3EIi3v7VIuL+xT3VIuLewWLcaF1pYsI9zSLBaWLoaGLpQiLm/jUi4v3FPzUiwX7VPsUFYv3FPcUi4v7FPsUiwX41PtEFYuldaFxiwj7NIsFcYt1dYtxCIt7/NSLi/sU+NSLi3sFi3GhdaWLCPc0iwWli6Ghi6UIi5v3VIuL9xT7VIuLmwX7VPskFYv3FPcUi4v7FPsUiwX7VPtEFYuldaFxiwj7NIsFcYt1dYtxCIt7+1SLi/sU91SLi3sFi3GhdaWLCPc0iwWli6Ghi6UIi5v41IuL9xT81IuLmwX7VPskFYv3FPcUi4v7FPsUiwUO+pT39BWL91T7J6QFhZ2EnIOcCOH3Dfsc9xz7DTUFepN6k3iRCHP3JvtUi3P7JgV4hXqDeoMI+w3h+xz7HOH7DQWDeoR6hXkI+ydyi/tU9ydyBZF5knqUegg0+w33HPsc9w7iBZuDnIOdhQik+yf3VIuk9ycFnZGck5uTCPcONPcc9xw09w0FlJySnJGdCPcnpAX8lGsVRItSxIvSi9LExNKL0ovEUotEi0RSUkSLCA73VEsV+RSLy/lU/ZSLBfiU91QVi/cU+5SLi/sU+9SLi/tUy8v5lIvLS4v3VPvUiwVLixX7FIuLy/cUi4tLBQ74FPoUFfkUi4v7FP0Ui4v3FAWL/BQV+RSLi/sU/RSLi/cUBYv8FBX5FIuL+xT9FIuL9xQF/BT5VBWL0sTE0ovSi8RSi0SLRFJSRItEi1LEi9IIi/wUFYvSxMTSi9KLxFKLRItEUlJEi0SLUsSL0giL/BQVi9LExNKL0ovEUotEi0RSUkSLRItSxIvSCA74FPcUFfkUi4v7FP0UiwWL+JQV+RSLi/sU/RSLBYv4lBX5FIuL+xT9FIsF+1T3VBWL+5RLi4v3VEuLi8sFy/yiFYtZ9xSLi0v7VIuL9yb3FMeLvfsUi4vL91SLi/smBYv7ghWL+9T7VIuLy/cUi4vL+xSLi8v3FIuLy/sUi4vLBQ76TfoJFYePBS3q+y6LLSwI+277bgUtLYv7LuktCI+HBZODk4SUhAjb2wWBkYKRg5MIh48FWL+L3r6+CPdv924Fvr7ei75YCI+HBb5YizhYWAgoKAWcYZRdil4I9yz3LQXq6Yv3LizpCPvW+84Vg5ODkoKSCDs7BZWFlIWTgwiPhwW+V4s4WFgI+2/7bgVYWDiLWL4Ih48FWL6L3r6+CO7uBXq1grmMuAj7LPstBSwti/su6i0Ij4cF6Sz3Lovp6gj3bvduBenpi/cuLekIh48FDviUSxX3r4v3efd5i/evi/ev+3n3efuvi/uvi/t5+3mL+6+L+6/3eft596+LCIv6NBX3eov3TvtOi/t6i/t6+077Tvt6i/t6i/tO906L93qL93r3TvdO93qLCPuU+3QVi66oqK6Lrouobotoi2hubmiLaItuqIuuCPgUixWLrqiorouui6hui2iLaG5uaItoi26oi64Iy/vHFd1ZBVMuJk37CYv7CYsmyVPoCN29BbJK0l/di92L0reyzAgO+JT59BX7A4siYD08PD1gIov7A4v7A7Yi2j3ZPPRg9wOL9wOL9LbZ2trZtvSL9wOL9wNg9DzZPdoitvsDiwiL6xWLiwX3r4v3eft5i/uvi/uv+3n7efuvi/uvi/t593mL96+L96/3efd596+LCEv9VBX3FIuL+xT7FIsFi/kUFfcUi4v8FPsUiwUO+FT3lBX3FIuL+xT7FIsF95T41BWui6hui2gIi/tU+1T7FPsUi4vL91T3FIvL+9SLi/cU+BSLBftU9zQV+wOLImA9PDw9YCKL+wOL+wO2Ito92Tz0YPcDi/cDi/S22dra2bb0i/cDi/cDYPQ82T3aIrb7A4sIi+sVi4sF96+L93n7eYv7r4v7r/t5+3n7r4v7r4v7efd5i/evi/ev93n3efeviwgO+JT6VBX7r4v7eft5i/uvi/uv93n7efevi/evi/d593mL96+L96/7efd5+6+LCIv+FBX7aIv7QPdAi/doi/do90D3QPdoi/doi/dA+0CL+2iL+2j7QPtA+2iLCPeU99QV+1SLi/tU+xSLi/dU+1SLi/cU91SLi/dU9xSLi/tU91SLBQ74lPpUFfuvi/t5+3mL+6+L+6/3eft596+L96+L93n3eYv3r4v3r/t593n7r4sIi/40Fft6i/tO906L93qL93r3TvdO93qL93qL9077Tov7eov7evtO+077eosIS/k0FfcUi4v7FPsUiwX3VPwUFfuUi4vLy4uL91RLi4vL91SLi/uUy4sFDvqL9x0Vi4uLi4uLCPvL98v3y/fLBYuLi4uLi46OjY+Nj4+WiZmClAj7J/cnBYKUfY2Ah4eJh4mIiIuLi4uLiwj7y/vL+8v3ywWLi4uLi4uIjoeNh42Aj32JgoII+yf7JwWCgol9j4CNh42HjoiLi4uLi4sI98v7y/vL+8sFi4uLi4uLiIiJh4mHh4CNfZSCCPcn+ycFlIKZiZaPj42PjY6Oi4uLi4uLCPfL98v3y/vLBYuLi4uLi46Ij4mPiZaHmY2UlAj3J/cnBZSUjZmHlomPiY+IjggO+aH3oRUxMftH90b7R/tGMeX3RvdH+0b3R+Xl90f7RvdH90blMftG+0f3RvtHBQ759PnUFfx0/HT7dPd0+zT7NPgU/BT5FPkUBQ73FPlUFfcUi4v7VMuLi/gUBYuubqhoiwj7FIsFaItubotoCIv8FMuLi/dUBYv3VBX3FIuL+xT7FIuL9xQF+dSLFYvL+1SLBWiLbm6LaAiL+9QFi2iobq6LCPdUi4vL+1SLi/fU91SLBfvUKxWL6wWLrm6oaIsI+1SLi/xU91SLBa6LqKiLrgiL6wWLroKoaIuui5Soi64IS/t0FfsUi4v3FPcUi4v7FAWL91QV+xSLi/cU9xSLi/sUBfeU/BQV/DT8VPt097Td0fci+yj39PfCBQ6L+LQVi/tUBYt5mX2diwj6VIsFnYuZmYudCIv3VAWLnX2ZeYsI/lSLBXmLfX2LeQgO+nT41BX79IuL9/QFi519mXmLCPtUiwV5i319i3kIi/v0+/SLBXmLfX2LeQiL+1QFi3mZfZ2LCPf0i4v79AWLeZl9nYsI91SLBZ2LmZmLnQiL9/T39IsFnYuZmYudCIv3VAWLnX2ZeYsIDov31BX3VPtU99T31PfU+9T3VPdU/JT4lAUO+BT6VBX7VPtU99T71PvU+9T3VPtU+JT4lAUO+pT41BX7VPdU+9T71PvU99T7VPtU+JT8lAUO+RRLFfdU91T71PfU99T31PtU91T8lPyUBQ75lPfUFfuU95T7lPuUBQ73lPjUFfeU+5T3lPeUBQ73lPlUFfeU+5T3lPeUBfyU+9QV95T7lPeU95QFDvkU+NQV+2SLi/dU+CSLi/wk+1SLBfgUWxWL+1T91IuL+dT3VIuL/RQF/BT4VBX3JIuL+1T7JIsF+RT8hBX3VIuL+yT7VIsFDvm0+kQVMItRmy6L+8KL+yD7QIv7QoskvGrri4Saf5uL1Iv3YNjG7Y+Lizr9rft/LAiLcvfRi/cA+JT3Wou39xT7a4u/94oFxn/Gf72LyYvDnqv3I2V/YodfiwgO9xT6VBWL+9T3FPdU95SLi/3U+xSLi0v4FIuLy/sUi4v51PeUi/cU+1SL99QF/ZT81BX3FIvLK4v3NPxUi4v7NMvr9xSLi/wUS4uLS/dUi4vLS4sFDsv6VBWL+9T3FPdU95SLi/3U+xSLS0v4lItLy/sUi4v51PeUi/cU+1SL99QFDvoU91QV9xSL+zT7VPs091T3FIuL+JT7FIv3NPdU9zT7VPsUiwX7lPdUFYv7lEv3FPtUi4v9VPcUi4tL/BSLi8v3FIuL+VT7VItL+xSL95QFDvkW+HcVi5QF9wig9x3Gi/cti9lmy1CxTbM8mvsPiwj8a4uLUwX3BYCcgov7GwiL/O0Fi/sYe3/7BoAIi1L4JYsF9xuL9w2j3Lfou8Xei/OL9yr7D9X7UJ8I+5b31xWLq46ilpeVk6eXrovki+FVi/sji/sURFD7L4sIZ4uL970F9w39thUyiWusi/cJCIuLi/e4qosF90+L6UCL+yiL+yslSjKKCA73FMsV+ZSLi/sU/ZSLBfjU+pQV91SLi0tLi4v8VAWL+0X7I/sj+0WL+0WL+yP3I4v3RQiL+FRLi4vL95SLi0tLi4v8VAWLIe8t9xCL9xCL7+mL9QiL+FRLi4vLBQ76FPpUFYtL+xeL++T+FPcni4tL/FSLi8v3F4v35PoU+yeLi8sFDvpU+FQVi0v7SosFrV2fVItQi/sz+yP7FftFi/s5i/sb9wR59yQI9xaLBZJvm3CjdbBqvXnBi8GLvZ2wrKypnbKLs4uzebJqqWasWZ1Viwj8VIuLy/oUiwX8VMsV+56LBWm5d8KLxov3M/cj9xX3RYv3OYv3G/sEnfskCPsWiwWEp3umc6FmrFmdVYtVi1l5ZmpqbXlki2OLY51krG2war15wYsIDsv4VBX4FIuL+xT7FIuL/BT7FIuL+BT7FIsF+hT4FBX7kIuL/ZT7HIuL+ZT7kIuL9xT5FIsFDvlY+G8VsLiixIvKi/ch+wf3B/shiwj71IuL/hT4FIsF9yGL9wf3B4v3IYvoWdxBuAj72Pe5FfGLBcKLuVKLRItEXVJUiwgli4v3lAX3M/0UFfszi4v3lPcziwXFi7tSi0SLRFtSUYsIDvlU+hQV9xSLi/w0BYv7M/sj+xX7RYv7RYv7I/cVi/czCIv4NPcUi4v8NAWLY51krG2war15wYvBi72dsKysqZ2yi7MIi/g0BfyU/ZQV+RSLi/sU/RSLBQ76FPoUFYtL+xSL+9T9lPcUi4tL/FSLi8v3FIv31PmU+xSLi8sFDvqU+FQVi0v7f4sFp2SaX4tei0RmR0tbUF89cjmLOYs9pFC3S7tmz4vSCPcUiwWLRuNQ84vzi+PGi9CL0DPGI4sI/JSLi8v3wIsFiI2JjImNS7tmz4vSi9Kwz8u7xrfZpN2L3YvZcsZfy1uwR4tECPsUiwWL0DPGI4sjizNQi0aLRuNQ84vai9Z0xWII98CLBQ76Qvd1FbfqsYtL/BT+VIuL1ffg+Bv74Pfgi/d3+miLt/uUaYt4sgVo1HCbPosI/SqL9/X79fu9+/P4sosF9wiLqrWmwggO+ZT5hhWLWfcUi4tL+1SLi/cm9xTHi737FIuLy/dUi4v7JgX7cPsCFfsci/tQ+1D7UPdQ+xyL95T7lPuU+5T3HIv3UPdQ91D7UPcci/uU95QFDvmUvRWLWfcUi4tL+1SLi/cm9xTHi737FIuLy/dUi4v7JgX7cPjmFfsci/tQ+1D7UPdQ+xyL95T7lPuU+5T3HIv3UPdQ91D7UPcci/uU95QFDovLFfjUi4v7FPzUiwX6FPoUFfvDi/tL/VT7GYv3TPlU+6GLi/cU+VSLBa3+lBX7FvcW+xb7Fk3J9xb3FvsW9xbJyfcW+xb3FvcWyU37FvsW9xb7FgUOi/oUFYv+FPqUi4v6FP6UiwX4FPzUFYv3VPeUi4v7VPuUiwX3lEsVi/tU+5SLi/dU95SLBYv4lBWL+1T7lIuL91T3lIsF+9SLFYv7VPuUi4v3VPeUiwX7lPuUFfeUi4v7VPuUi4v3VAX5FIsV95SLi/tU+5SLi/dUBYvLFYv3VPeUi4v7VPuUiwX9FPvUFfeUi4v7VPuUi4v3VAX5FPtUFYv3VPeUi4v7VPuUiwUO+BT6VBX4lIuL+xT7FIuL/hT7FIuL+hT7FIuL/hT7FIuL+JQF+yGL+wf3B4v3IYv3IfcH9wf3IYsIDov6FBX6lIuL+xT+lIsFi/sUFfkUi4v7FP0UiwWL/BQV+RSLi/sU/RSLBYv4FBX6lIuL+xT+lIsFDov6FBX6lIuL+xT+lIsF91T7FBX5FIuL+xT9FIsFi/wUFfkUi4v7FP0UiwX7VPgUFfqUi4v7FP6UiwUOi/oUFfqUi4v7FP6UiwX4FPsUFfkUi4v7FP0UiwWL/BQV+RSLi/sU/RSLBfwU+BQV+pSLi/sU/pSLBQ6L+hQV+pSLi/sU/pSLBYv8FBX6lIuL+xT+lIsFi/gUFfqUi4v7FP6UiwWL/BQV+pSLi/sU/pSLBQ6L+hQV+pSLi/sU/pSLBfgU/BQV+RSLi/sU/RSLBYv4FBX5FIuL+xT9FIsF/BT8FBX6lIuL+xT+lIsFi/eUFYv4FPeU+1QFDov6FBX6lIuL+xT+lIsF+BT8FBX5FIuL+xT9FIsFi/gUFfkUi4v7FP0UiwX8FPwUFfqUi4v7FP6UiwX3lPkUFYv8FPuU91QFDvlU+BQV9xT3FIv8lP2Ui4v5lPiUi/sU+xT7lIuL/JT4lIsF95T5lBWL+/T7F/cX+/b79zCLi+b39/f2+xf3FwUO91T6FBWL/ZT5lIuL+ZT9lIsF+VT9VBX9FIuL+RT5FIuL/RQF/ZT7FBWL+RRLy4v9lPmUi0vLBfvn92cV91T3VPcn+yeL+BT8FIv3J/sn+1T7VAUO97T5VBX7lPuU95T7lPcUi/uU95T3lPeU+xSLBfhUixX7FIv3lPuU+5T7lPcUi/eU95T7lPeUBQ73FPhUFfeU95T7FIv7lPuU95T7lPcUiwX4FPiUFfsUi/eU+5T7lPuU9xSL95T3lAX8dPgUFfs0/ZTri/c0+ZQFDvcU+FQVi/so4/sU9xROCPtL+H0Fdl1/V4tVCPkXnhWLuXqrfaR3qnmli6qLraarsIuNi42LjItHyDCwJ4v7Gov7CkhGJZSLlIuSi7OLyZCLiwigjI1td4mLi3aJdIkI9yD8Kd/3ik/3MwV2jXeNi4t3jI2qoIqLi8qGsYuzi8mQi4ugjI5tdomLi3aJdIkI9x/8JrH3EQWcv5ewi6sI+5BXFfsH+9oFrYGvhrGLuIu2k7OYio2KjYqMCPsK988F9973aBWNgIx+i32LZYNgdVYI+wn73gX3BszY9wyL9x6LzHrIbcAI++X34RX7r4v7eft5i/uvi/uv93n7efevi/evi/d593mL96+L96/7efd5+6+LCIv+VBX7i4v7Xfddi/eLi/eL9133XfeLi/eLi/dd+12L+4uL+4v7Xftd+4uLCA6L+hQVi/3U+pSLi/nU/pSLBffU/ZQV+5SLi/dU95SLi/tUBYv3lBX7lIuL91T3lIuL+1QF99T7lBX7lIuL91T3lIuL+1QFi/eUFfuUi4v3VPeUi4v7VAX31PuUFfuUi4v3VPeUi4v7VAWL95QV+5SLi/dU95SLi/tUBQ6L+hQVi/3U+pSLi/nU/pSLBfkU/ZQV+5SLi/dU95SLi/tUBYv3lBX7lIuL91T3lIuL+1QFi/eUFfuUi4v3VPeUi4v7VAX31PyUFfuUi4v3VPeUi4v7VAWL95QV+5SLi/dU95SLi/tUBYv3lBX7lIuL91T3lIuL+1QFDvqUFPqUFYsMCgAAAAMEAAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA5gEDwP/A/8ADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAHIAAAAbgBAAAUALgABACDgAeAR4CXgJ+At4ETgcuB94ILhNOE+4UzhZ+GF4Z/hqOGy4bfhwOHJ4dvh4eJP4prinOLN4yDjV+NZ417jYuNs43DjduO047bkGeQ95ErkUeRX5FnkXuRk5GbkaOR65H3kgOS95gH//f//AAAAAAAg4AHgEeAl4CfgLeBE4HLgfeCC4TThPeFL4WfhheGf4ajhsuG34b/hyOHb4eHiT+Ka4pzizeMg41fjWeNe42Lja+Nw43TjsOO25BnkPeRH5E7kU+RZ5F3kZORm5GjkdeR85H/kveYA//3//wAB/+MgAx/0H+Ef4B/bH8UfmB+OH4oe2R7RHsUeqx6OHnUebR5kHmAeWR5SHkEePB3PHYUdhB1UHQIczBzLHMccxBy8HLkcthx9HHwcGhv3G+4b6xvqG+kb5hvhG+Ab3xvTG9Ib0RuVGlMAAwABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAIKr3Rl8PPPUACwQAAAAAAM/A8YEAAAAAz8DxgQAA/8AEAQPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAD//wQBAAEAAAAAAAAAAAAAAAAAAABVAAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAgAQAAIAEAAAABAAATgQAAAAEAABABAAAQAQAAAAEAAAABAAAAAQAAEAEAAEGBAAAAAQAAEAEAAAABAAAIAQAAAAEAACqBAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAQAQAAAAEAABABAAARwQAAAAEAAAABAAAAAQAAAAEAAAABAAAAgQAAPMEAAAABAAAQAQAAAAEAAAABAAAAAQAAMAEAAAABAAAgAQAAQAEAAEABAABAAQAAAAEAABlBAAAAAQAAEAEAAAABAAAQAQAAIAEAACABAAAQAQAAEAEAADABAAAwAQAAIAEAAAABAAAAAQAABwEAAAcBAAAAAQAAAAEAACABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAQAQAAEAEAAAgBAAAAAQAAAAEAAAABAAAAAAAUAAAVQAAAAAADgCuAAEAAAAAAAEAGgAAAAEAAAAAAAIADgBxAAEAAAAAAAMAGgAwAAEAAAAAAAQAGgB/AAEAAAAAAAUAFgAaAAEAAAAAAAYADQBKAAEAAAAAAAoAKACZAAMAAQQJAAEAGgAAAAMAAQQJAAIADgBxAAMAAQQJAAMAGgAwAAMAAQQJAAQAGgB/AAMAAQQJAAUAFgAaAAMAAQQJAAYAGgBXAAMAAQQJAAoAKACZAFQAZQB4AHQAYgBvAHgALQBJAGMAbwBuAHMAVgBlAHIAcwBpAG8AbgAgADEALgAwAFQAZQB4AHQAYgBvAHgALQBJAGMAbwBuAHNUZXh0Ym94LUljb25zAFQAZQB4AHQAYgBvAHgALQBJAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBUAGUAeAB0AGIAbwB4AC0ASQBjAG8AbgBzAEcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format('woff');\n  font-weight: normal;\n  font-style: normal;\n}"});
f("text!polish/icons.css",[],function(){return'.ephox-polish-editor-container .ephox-polish-icon,\n.ephox-polish-editor-container .ephox-pastry-text-content:before {\n  font-family: \'Textbox Icons\';\n  font-size: 100%;\n}\n\n.ephox-polish-editor-container .ephox-pastry-text-content:before {\n  margin-right: 1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-icon:before {\n  content: "\\e36b";\n  word-spacing: -.5em;\n}\n\n.ephox-polish-editor-container .ephox-polish-user-icon:before {\n  content: none;\n  word-spacing: -.5em;\n}\n\n.ephox-polish-editor-container .ephox-polish-user-icon {\n  padding: 0.5em;\n  background-repeat: no-repeat;\n}\n\n.ephox-polish-editor-container .ephox-polish-bold:before {\n  content: "\\e44e";\n}\n\n.ephox-polish-editor-container .ephox-polish-italic:before {\n  content: "\\e450"\n}\n\n.ephox-polish-editor-container .ephox-polish-underline:before {\n  content: "\\e44f";\n}\n\n.ephox-polish-editor-container .ephox-polish-strikethrough:before {\n  content: "\\e451";\n}\n\n.ephox-polish-editor-container .ephox-polish-font:before {\n  content: "\\e449\\0020\\e3b6";\n}\n\n.ephox-polish-editor-container .ephox-polish-color:before {\n  content: "\\e449";\n}\n\n.ephox-polish-editor-container .ephox-polish-justifyleft:before {\n  content: "\\e475";\n}\n\n.ephox-polish-editor-container .ephox-polish-justifycenter:before {\n  content: "\\e476";\n}\n\n.ephox-polish-editor-container .ephox-polish-justifyright:before {\n  content: "\\e477";\n}\n\n.ephox-polish-editor-container .ephox-polish-justifyfull:before {\n  content: "\\e478";\n}\n\n.ephox-polish-editor-container .ephox-polish-snippet:before {\n  content: "\\e072";\n}\n\n.ephox-polish-editor-container .ephox-polish-numlist:before {\n  content: "\\e29c";\n}\n\n.ephox-polish-editor-container .ephox-polish-bullist:before {\n  content: "\\e29a";\n}\n\n.ephox-polish-editor-container .ephox-polish-blockquote:before {\n  content: "\\e19f";\n}\n\n.ephox-polish-editor-container .ephox-polish-indent:before {\n  content: "\\e479";\n}\n\n.ephox-polish-editor-container .ephox-polish-outdent:before {\n  content: "\\e47a";\n}\n\n.ephox-polish-editor-container .ephox-polish-removeformat:before {\n  content: "\\e464";\n}\n\n.ephox-polish-editor-container .ephox-polish-fullscreen:before {\n  content: "\\e1c8";\n}\n\n.ephox-polish-fullscreen-maximized.ephox-polish-editor-container .ephox-polish-fullscreen:before {\n  content: "\\e1c9";\n}\n\n.ephox-polish-editor-container .ephox-polish-image:before {\n  content: "\\e02d";\n}\n\n.ephox-polish-editor-container .ephox-polish-link:before {\n  content: "\\e2cd";\n}\n\n.ephox-polish-editor-container .ephox-polish-help:before {\n  content: "\\e359";\n}\n\n.ephox-polish-editor-container .ephox-polish-emoticon:before {\n  content: "\\e320";\n}\n\n.ephox-polish-editor-container .ephox-polish-table:before {\n  content: \'\\e466\';\n}\n\n.ephox-polish-editor-container .ephox-polish-settings:before {\n  content: "\\e1e1";\n}\n\n.ephox-polish-editor-container .ephox-polish-usersettings:before {\n  content: "\\e1e1\\0020\\e3b6";\n}\n\n.ephox-polish-editor-container .ephox-polish-overflow:before {\n  content: "\\e419";\n}\n\n.ephox-polish-editor-container .ephox-polish-font-stepper-increase:before {\n  content: \'\\e376\';\n}\n\n.ephox-polish-editor-container .ephox-polish-font-stepper-decrease:before {\n  content: \'\\e375\';\n}\n\n.ephox-polish-editor-container .ephox-polish-insert:before {\n  content: \'\\e376\\0020\\e3b6\';\n}\n\n.ephox-polish-editor-container .ephox-polish-undo:before {\n  content: \'\\e14b\';\n}\n\n.ephox-polish-editor-container .ephox-polish-redo:before {\n  content: \'\\e14c\';\n}\n\n.ephox-polish-editor-container .ephox-polish-mobile-back {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n}\n\n.ephox-polish-editor-container .ephox-polish-mobile-back:before {\n  content: \'\\e3b3\';\n}\n\n.ephox-polish-editor-container .ephox-polish-left-arrow:before {\n  content: \'\\e3b3\';\n}\n\n.ephox-polish-editor-container .ephox-polish-right-arrow:before {\n  content: \'\\e3b1\';\n}\n\n.ephox-polish-editor-container .ephox-polish-plus:before {\n  content: \'\\e376\';\n}\n\n.ephox-polish-editor-container .ephox-polish-minus:before {\n  content: \'\\e375\';\n}\n\n.ephox-polish-editor-container .ephox-pastry-icon-content .ephox-pastry-text-content {\n  font-family: sans-serif;\n  padding-left: .25em;\n}\n\n.ephox-polish-editor-container .ephox-polish-merge-styles .ephox-pastry-text-content:before {\n  content: \'\\e447\';\n}\n\n.ephox-polish-editor-container .ephox-polish-clean-styles .ephox-pastry-text-content:before {\n  content: \'\\e464\';\n}'});
f("text!polish/layers.css",[],function(){return".ephox-polish-editor-container .ephox-polish-layer-above-dialog {\n  z-index: 210000;\n}\n\n.ephox-polish-editor-container .ephox-polish-layer-dialog {\n  z-index: 200000;\n}\n\n.ephox-polish-editor-container .ephox-polish-layer-below-dialog {\n  z-index: 190000;\n}\n\n.ephox-polish-editor-container .ephox-polish-layer-menus {\n  z-index: 150000;\n}\n\n.ephox-polish-editor-container .ephox-polish-layer-above-editor {\n  z-index: 110;\n}\n\n.ephox-polish-editor-container .ephox-polish-layer-editor {\n  z-index: 100;\n}\n\n.ephox-polish-editor-container .ephox-polish-layer-below-editor {\n  z-index: 90;\n}\n\n.ephox-polish-editor-container .ephox-polish-layer-above-page {\n  z-index: 20;\n}\n\n.ephox-polish-editor-container .ephox-polish-layer-page {\n  z-index: auto;\n}"});
f("text!polish/link.css",[],function(){return'.ephox-polish-editor-container .ephox-polish-link-palette .ephox-polish-palette-label {\n  display: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-link-dialog {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n\tdisplay: flex;\n}\n\n.ephox-polish-editor-container .ephox-polish-link-dialog > *:first-child {\n  margin-right: .25em;\n}\n\n.ephox-polish-editor-container .ephox-polish-link-insert-input,\n.ephox-polish-editor-container .ephox-polish-link-quick-url {\n  min-width: 10em;\n  outline: none;\n  -ms-flex: 1;\n  -webkit-flex: 1;\n\t        flex: 1 0 0;\n  padding: .5em;\n  margin: 0;\n  border: 1px solid #D8D8D8;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.ephox-polish-editor-container .ephox-polish-link-quick-url {\n  border-color:transparent;\n  box-shadow: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-link-quick-url a {\n  max-width: 10em;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: inline-block;\n}\n\n.ephox-polish-editor-container .ephox-polish-link-dialog-close:before {\n  font-family: "Textbox Icons";\n  content: "\\e36b";\n}\n\n/* We need to block the preview buttons on prem */\n.ephox-polish-no-previews .ephox-polish-link-preview-button {\n  display: none;\n}\n\n/* We are blocking the preview button all the time at the moment */\n.ephox-polish-link-preview-button {\n  display: none !important;\n}'});
f("text!polish/mobile.css",[],function(){return".ephox-polish-editor-container.ephox-polish-mobile-layout {\n  position: relative;\n}\n\n.ephox-polish-editor-container.ephox-polish-mobile-layout .ephox-polish-toolstrip {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n\n.ephox-polish-editor-container.ephox-polish-mobile-layout.ephox-polish-mobile-mask .ephox-polish-toolstrip {\n  display: none;\n}\n\n.ephox-polish-editor-container.ephox-polish-mobile-layout.ephox-polish-mobile-mask.ephox-polish-fullscreen-maximized .ephox-polish-toolstrip {\n  display: block;\n}\n\n.ephox-polish-editor-container .ephox-polish-disabled-mask {\n  display:-webkit-flex;\n  -webkit-align-items: center;\n  -webkit-justify-content: center;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0,0,0,0.1);\n  top: 0px;\n}\n\n.ephox-polish-editor-container .ephox-polish-disabled-mask .ephox-polish-content-container {\n  display:-webkit-flex;\n  -webkit-align-items: baseline;\n  color: #FFF;\n  font-size: 200%;\n  background: #292929;\n  padding:.5em 1em;\n  border-radius: .5em;\n  box-shadow: inset 0 -0.5em 1em #000;\n  margin-top: inherit !important;\n}\n\n.ephox-polish-editor-container .ephox-polish-disabled-mask .ephox-polish-content-container .ephox-polish-tap-icon::before {\n  font-family: 'Textbox Icons';\n  content: \"\\e011\";\n}\n\n.ephox-polish-editor-container .ephox-polish-disabled-mask .ephox-polish-content-container .ephox-polish-disclosure {\n  padding-left: .5em;\n}\n\n.ephox-polish-mobile-mask .ephox-polish-socket {\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n\n.ephox-polish-scrollable {\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n\n.ephox-polish-editor-container.ephox-polish-mobile-layout.ephox-polish-fullscreen-maximized {\n  position: absolute;\n  left: 0;\n  background-color: white;\n}\n\n.ephox-polish-editor-container.ephox-polish-mobile-layout .ephox-hare-content-iframe {\n  overflow: hidden;\n}"});
f("text!polish/palette.css",[],function(){return".ephox-polish-editor-container .ephox-polish-palette-row {\n  padding:.25em;\n  display: -ms-flexbox; \n  display: -webkit-flex;\n\tdisplay: flex;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n\t        justify-content: space-between;\n}\n\n.ephox-polish-editor-container .ephox-polish-inline-palette {\n  padding:1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-inline-palette .ephox-polish-palette-row {\n  padding: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-palette-detail-options {\n  display: -ms-flexbox; \n  display: -webkit-flex;\n\tdisplay: flex;\n}\n\n.ephox-polish-editor-container .ephox-polish-palette-label-icon,\n.ephox-polish-editor-container .ephox-polish-palette-label-next {\n  font-family:'Textbox Icons';\n\n}\n\n.ephox-polish-editor-container .ephox-polish-palette-label-next:before {\ncontent: \"\\e3b1\";\npadding-left:1em;\n}\n\n.ephox-polish-editor-container .ephox-polish-palette-label-text {\n  -ms-flex: 1;\n  -webkit-flex: 1;\n\t        flex: 1;\n  padding-left:1em;\n}"});
f("text!polish/pastry.css",[],function(){return".ephox-polish-editor-container .ephox-pastry-button {\n  cursor: pointer;\n  padding:0.6em;\n  color: #333;\n}\n\n.ephox-polish-editor-container .ephox-pastry-button.ephox-pastry-button-disabled {\n  opacity: .4;\n  cursor: default;\n}\n\n.ephox-polish-editor-container .ephox-pastry-button:before {\n    font-family: 'Textbox Icons';\n}\n\n.ephox-polish-editor-container .ephox-pastry-button,\n.ephox-polish-editor-container .ephox-pastry-statebutton,\n.ephox-polish-editor-container .ephox-pastry-button > * {\n  display: block;\n}\n\n.ephox-polish-editor-container .ephox-pastry-button,\n.ephox-polish-editor-container .ephox-pastry-button:hover {\n  border:1px solid transparent;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-pastry-button:not(.ephox-pastry-button-disabled):hover,\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-pastry-button:not(.ephox-pastry-button-disabled):active,\n.ephox-polish-editor-container .ephox-pastry-statebutton-selected .ephox-pastry-button:not(.ephox-pastry-button-disabled) {\n  box-shadow:0 1px 1px rgba(0,0,0,.1);\n  border:1px solid #D8D8D8;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-pastry-button:focus,\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-pastry-statebutton:focus .ephox-pastry-button {\n  box-shadow: 0 0 .25em #8080FF;\n  border-color: #8080FF;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-pastry-button:not(.ephox-pastry-button-disabled):hover,\n.ephox-polish-editor-container .ephox-pastry-statebutton-selected .ephox-pastry-button:not(.ephox-pastry-button-disabled) {\n  color: #000;\n  background: #FAFAFA;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-pastry-button:not(.ephox-pastry-button-disabled):active {\n  background:#FFF;\n}\n\n.ephox-polish-editor-container .ephox-pastry-button:focus,\n.ephox-polish-editor-container .ephox-pastry-statebutton:focus {\n  outline: none;\n}\n\n/* Layouts */\n.ephox-pastry-tablayout-wrapper {\n  width: 95vw;\n  max-width: 100%;\n  height: 30em;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n}\n\n.ephox-pastry-tablayout-wrapper.ephox-pastry-tablayout-wrapper-top {\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  -ms-flex-direction: column;\n}\n\n.ephox-pastry-tablayout-menu {\n  padding:0 1em 0 0;\n}\n\n.ephox-pastry-tablayout-wrapper.ephox-pastry-tablayout-wrapper-left .ephox-pastry-tablayout-menu {\n  padding-right: 1em;\n}\n\n.ephox-pastry-tablayout-wrapper.ephox-pastry-tablayout-wrapper-top .ephox-pastry-tablayout-menu {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  padding-bottom: 1em;\n  margin-bottom: 1em;\n  border-bottom: 1px solid #D8D8D8;\n}\n.ephox-pastry-tablayout-menu + .ephox-pastry-tablayout-body {\n  margin-left: 1em;\n}\n\n.ephox-polish-imageupload-dialog .ephox-pastry-tablayout-menu + .ephox-pastry-tablayout-body {\n  margin-left: 0;\n}\n\n.ephox-pastry-tablayout-body {\n  overflow-y: auto;\n  overflow-x: hidden;\n  -ms-flex: 4;\n  -webkit-flex: 4;\n          flex: 4;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n}\n\n.ephox-pastry-tablayout-content {\n  display: none;\n}\n\n.ephox-pastry-tablayout-content.ephox-pastry-tablayout-active {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n      flex: 1;\n  width:100%;\n}\n\n@media all and (max-width: 35.000em), all and (max-height: 35.000em) {\n  .ephox-pastry-tablayout-wrapper {\n    max-height: 70vh;\n  }\n}"});
f("text!polish/polish.css",[],function(){return'.ephox-polish-editor-container {\n  height: 100%;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n\tdisplay: flex;\n  -ms-flex-direction: column;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  border: 1px solid #D8D8D8;\n  position: relative;\n  font-size:13px;\n}\n\n.ephox-polish-editor-container * {\n  font-family: Sans-Serif;\n  -webkit-font-smoothing: antialiased;\n}\n\n/* TODO: Do we need this still? */;\n.ephox-polish-editor-container *:not(.ephox-gopher-menu[data-ephox-gopher-menu-value="blocktag-menu"]) {\n  font-weight: 100;\n}\n\n.ephox-polish-editor-container .ephox-polish-socket,\n.ephox-polish-editor-container .ephox-polish-socket .ephox-polish-scrollable {\n  -ms-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  position: relative;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n\tdisplay: flex;\n  background:#FFF;\n}\n\n.ephox-polish-editor-container .ephox-polish-socket .ephox-hare-content-iframe {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  width: 100%;\n}\n\n.ephox-polish-editor-container .ephox-polish-editor-container .ephox-polish-close-dark:before {\n  font-family: "Textbox Icons";\n  content: "\\e36b";\n  display: inline-block;\n  font-size: 13px;\n  color: #777;\n  height: 100%;\n}\n\n.ephox-polish-editor-container .ephox-pastry-toggle-list-item-selected:after {\n  font-family: \'Textbox Icons\';\n  color:#777;\n  float: right;\n  content: "\\e370";\n}\n\n.ephox-polish-editor-container .ephox-polish-popup-container {\n  border:1px solid #D8D8D8;\n  border-bottom-color: #B8B8B8;\n  border-right-color: #B8B8B8;\n  background: #FFF;\n  box-shadow:1px 1px 1px rgba(0,0,0,.1);\n}\n\n/* ###\n  TODO: Remove/rework after Dropbutton in use for alignindent\n### */\n.ephox-polish-editor-container .ephox-polish-alignment-dropdown-button .ephox-pastry-text-content {\n  display: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-dropdown-button.ephox-polish-alignment-dropdown-button .ephox-pastry-button {\n  width: inherit;\n}\n\n.ephox-polish-editor-container .ephox-polish-alignment-dropdown-button .ephox-polish-dropdown-viewport {\n  display: -ms-flex;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n  -webkit-justify-content:space-between;\n          justify-content:space-between;\n}\n\n.ephox-polish-dialog-wrapper.ephox-polish-imageupload-dialog {\n  width: 95vw;\n  max-width: 60em;\n}\n.ephox-polish-dialog-wrapper.ephox-polish-help-modal {\n  width: 95vw;\n  max-width: 65em;\n}'});
f("text!polish/reset.css",[],function(){return".ephox-polish-editor-container *:not(hr) {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  vertical-align: baseline;\n  line-height: 1.15;\n}\n\n.ephox-polish-editor-container ol,\n.ephox-polish-editor-container ul\n {\n  list-style: none;\n}\n\n.ephox-polish-editor-container table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}"});f("text!polish/table.css",[],function(){return'.ephox-polish-editor-container .ephox-snooker-table-picker {\n  border: none;\n  padding: 0;\n  margin: 0;\n  border-spacing: .25em;\n  border-collapse: separate;\n}\n\n.ephox-polish-editor-container .ephox-snooker-table-picker .ephox-snooker-table-picker-cell {\n  border: none;\n  width: 1em;\n  height: 1em;\n  background-color: #D8D8D8;\n}\n\n.ephox-polish-editor-container .ephox-snooker-table-picker {\n  padding-top: 1em;\n}\n\n.ephox-polish-editor-container .ephox-snooker-table-picker .ephox-snooker-table-picker-cell.ephox-snooker-picker-selected {\n  background-color: #8080FF;\n}\n\n.ephox-polish-editor-container .ephox-snooker-table-picker .ephox-snooker-picker-selected.ephox-snooker-table-picker-cell.ephox-snooker-picker-header {\n  background-color: #424242;\n}\n\n.ephox-polish-editor-container .ephox-polish-icon.ephox-polish-column-header:before {\n  content: "\\e601";\n}\n\n.ephox-polish-editor-container .ephox-polish-icon.ephox-polish-row-header:before {\n  content: "\\e600";\n}\n\n.ephox-polish-editor-container .ephox-polish-table-controls {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n\tdisplay: flex;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  padding-bottom: .5em;\n  border-bottom:1px solid #D8D8D8;\n}\n\n.ephox-polish-editor-container .ephox-polish-table-controls .ephox-polish-column-header:before {\n  content: "\\e601";\n}\n\n.ephox-polish-editor-container .ephox-polish-table-controls .ephox-polish-row-header:before {\n  content: "\\e600";\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-options {\n  /* when using flex here the container buttons don\'t size correctly */\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container {\n  display: inline-block;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-label {\n  display: inline-block;\n  width: 100%;\n  text-align: center;\n  color: #777;\n  margin-top: .5em;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-icon {\n  border-top: 4px solid;\n  border-bottom: 4px solid;\n  border-color:#777;\n  padding: 4px 0;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n\tdisplay: flex;\n  -ms-flex-wrap: nowrap;\n  -webkit-flex-wrap: nowrap;\n  flex-wrap: nowrap;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n\t        justify-content: space-between;\n  -ms-align-items: center;\n  -webkit-align-items: center;\n      -ms-flex-align:center;\n          align-items:center;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-icon-inner-left {\n  margin-right: 5px;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-icon-inner-right {\n  margin-left: 5px;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-icon-inner-left,\n.ephox-polish-dialog .ephox-polish-table-dialog-float-icon-inner-right {\n  width: 20px;\n  height: 4px;\n  background: #777;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container[data-float-value="none"] .ephox-polish-table-dialog-float-icon-inner-left,\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container[data-float-value="none"] .ephox-polish-table-dialog-float-icon-inner-right,\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container[data-float-value="center"] .ephox-polish-table-dialog-float-icon-inner-left,\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container[data-float-value="center"] .ephox-polish-table-dialog-float-icon-inner-right {\n  display: none;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container[data-float-value="left"] .ephox-polish-table-dialog-float-icon-inner-left {\n  display: none;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container[data-float-value="right"] .ephox-polish-table-dialog-float-icon-inner-right {\n  display: none;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-icon-inner-center {\n  width: 10px;\n  height: 10px;\n  background: #8080FF;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container[data-float-value="center"] .ephox-polish-table-dialog-float-icon-inner-center {\n  margin: 0 auto;\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container .ephox-polish-table-dialog-float-icon {\n  opacity: .4\n}\n\n.ephox-polish-dialog .ephox-polish-table-dialog-float-container.ephox-polish-table-dialog-float-selected .ephox-polish-table-dialog-float-icon {\n  opacity: 1;\n}'});
f("text!polish/theme.css",[],function(){return"/*  Dark Theme */\n.ephox-polish-editor-container {\n  border-color: #292929;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolstrip {\n  background: #292929;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar {\n  border-bottom: none;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar:first-child {\n  box-shadow: inset 0 -0.5em 1em #222;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar.ephox-polish-toolbar-more {\n  background: #383838;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolstrip .ephox-pastry-button {\n  color: #F5F5F5;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-polish-toolstrip .ephox-pastry-button:not(.ephox-pastry-button-disabled):hover,\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-polish-toolstrip .ephox-pastry-button:not(.ephox-pastry-button-disabled):active,\n.ephox-polish-editor-container .ephox-polish-toolstrip .ephox-pastry-statebutton-selected .ephox-pastry-button:not(.ephox-pastry-button-disabled) {\n  border-color: #292929;\n  color: #FFF;\n  background-color: #585858;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-pastry-button:focus,\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-pastry-statebutton:focus .ephox-pastry-button {\n  box-shadow: 0 0 .5em #3498DB;\n  border-color: #3498DB;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-polish-toolstrip .ephox-pastry-button:active,\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-polish-toolstrip .ephox-pastry-statebutton-selected .ephox-pastry-button {\n  box-shadow: inset 1px 1px 2px rgba(34, 34, 34, 0.5);\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-polish-toolstrip .ephox-polish-toolbar-more .ephox-pastry-button:hover,\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-polish-toolstrip .ephox-polish-toolbar-more .ephox-pastry-button:active,\n.ephox-polish-editor-container .ephox-polish-toolstrip .ephox-polish-toolbar-more .ephox-pastry-statebutton-selected .ephox-pastry-button {\n  border-color: #333;\n}\n\n\n.ephox-polish-editor-container .ephox-polish-toolbar-group {\n  border-color: #555;\n}\n\n.ephox-polish-editor-container .ephox-polish-popup-container {\n  margin-left: 1px;\n}\n\n.ephox-polish-editor-container .ephox-pastry-statebutton:not(:first-child),\n.ephox-polish-editor-container .ephox-pastry-button:not(:first-child) {\n  margin-left: -1px;\n}\n\n.ephox-polish-help-modal .ephox-polish-dialog-content .ephox-pastry-tablayout-menu .ephox-pastry-statebutton {\n  margin-left: 0;\n}\n\n/* Highlight Color  */\n.ephox-polish-editor-container .ephox-snooker-table-picker .ephox-snooker-table-picker-cell.ephox-snooker-picker-selected,\n.ephox-polish-editor-container .ephox-polish-banner-info {\n  background-color: #3498db;\n}\n\na.ephox-polish-help-menu-index {\n  color: #3498db;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item:hover,\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item-selected:hover {\n  background-color: #3498db;\n  border-color: #3498db;\n}"});
f("text!polish/toolStrip.css",[],function(){return'.ephox-polish-editor-container .ephox-polish-toolstrip {\n  background: #F5F5F5;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar {\n  border-bottom: 1px solid #D8D8D8;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar:first-child {\n  box-shadow: inset 0 -0.5em 1em #E8E8E8;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolstrip:empty,\n.ephox-polish-editor-container .ephox-polish-toolbar:empty {\n  padding: 0;\n  border: 0;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar,\n.ephox-polish-editor-container .ephox-polish-toolbar-group {\n  padding: 0;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar.ephox-polish-toolbar-more {\n  opacity: 0;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar-group {\n  -ms-flex-shrink: 0;\n  -ms-flex-negative: 0;\n          -webkit-flex-shrink: 0;\n          flex-shrink: 0;\n  padding: .25em 0;\n  border-right: 1px solid #D8D8D8;\n  padding-right: .25em;\n  padding-left:.25em;\n\n}\n\n.ephox-polish-editor-container .ephox-polish-toolbar-group:last-child {\n  border-right:none;\n  padding-right:.25em;\n  margin-right: 0;\n}\n\n.ephox-polish-editor-container .ephox-polish-more-button .ephox-pastry-text-content:after {\n  font-family: "Textbox Icons";\n  content: "\\e3b6";\n  padding-left:.25em;\n}\n'});
f("text!polish/whip.css",[],function(){return'.ephox-polish-editor-container .ephox-whip-container {\n  display: -ms-flexbox !important;\n  display: -webkit-flex !important;\n  display: flex !important;\n  max-width: 60em;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar {\n  padding-right: 1em;\n  -ms-flex: 1;\n  -webkit-flex: 1;\n\t        flex: 1;\n}\n\n.ephox-polish-editor-container .ephox-whip-content {\n  -ms-flex: 4;\n  -webkit-flex: 4;\n\t        flex: 4;\n}\n\n.ephox-polish-editor-container input.ephox-whip-write-content-title,\n.ephox-polish-editor-container input.ephox-whip-sidebar-search {\n  color: #424242;\n  display: block;\n  padding: .5em;\n  border: 1px solid #D8D8D8;\n  font-size:1em;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar input.ephox-whip-search-not-found {\n  border: 1px solid #FF4040;\n}\n\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list {\n  padding-bottom: 1em;\n  height: 15em;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item {\n  color: #777;\n  border:1px solid #D8D8D8;\n  margin: 0;\n  margin-bottom: .25em;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n\tdisplay: flex;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n  cursor: pointer;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item:active {\n  background-color: #777;\n  color: #FFF;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item-selected {\n  background-color: #777;\n  border-color: #777;\n  color: #FFF;\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item:hover,\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item-selected:hover {\n  background-color: #8080FF;\n  border-color: #8080FF;\n  color: #FFF;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item:active {\n  background-color: #777;\n  border-color: #777;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item > * {\n  display: block;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list .ephox-pastry-list-item span:first-child {\n    padding: .5em;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list-item-preview {\n  border-left: 1px solid #F5F5F5;\n  padding: .5em;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list-item-preview:before {\n  font-family: "Textbox Icons";\n  content: "\\e3b1";\n}\n\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-whip-sidebar .ephox-pastry-list-item:hover .ephox-pastry-list-item-preview,\n.ephox-polish-editor-container:not(.ephox-polish-mobile-layout) .ephox-whip-sidebar .ephox-pastry-list-item .ephox-pastry-list-item-preview:hover,\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list-item-selected .ephox-pastry-list-item-preview:hover {\n  border-left: 1px solid #FFF;\n}\n\n.ephox-polish-editor-container .ephox-whip-sidebar .ephox-pastry-list-item-selected .ephox-pastry-list-item-preview {\n  border-left: 1px solid #D8D8D8;\n}\n\n/* Content */\n.ephox-polish-editor-container .ephox-whip-write-content,\n.ephox-polish-editor-container .ephox-whip-read-content {\n  margin:0;\n  padding: 0;\n  border: none;\n  background: none;\n  min-width: 320px;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-title,\n.ephox-polish-editor-container .ephox-whip-write-content-body,\n.ephox-polish-editor-container .ephox-whip-read-content-title,\n.ephox-polish-editor-container .ephox-whip-read-content-body {\n  background-color: #F5F5F5;\n  border: 1px solid #D8D8D8;\n  padding: .5em;\n  margin-bottom: 1em;\n  outline: none;\n}\n\n.ephox-polish-editor-container .ephox-whip-read-content-title {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n\tdisplay: flex;\n  -ms-flex-pack: justify;\n  -webkit-justify-content:space-between;\n          justify-content:space-between;\n}\n\n.ephox-polish-editor-container .ephox-whip-read-content-title-text {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  display: inline-block;\n}\n\n.ephox-polish-editor-container .ephox-whip-read-content-title .ephox-whip-edit-content:before {\n  font-family: "Textbox Icons";\n  content: "\\e011\\0020";\n}\n\n.ephox-polish-editor-container .ephox-whip-read-content-title .ephox-whip-edit-content {\n  cursor: pointer;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-title {\n  background-color: #FFF;\n  -moz-box-sizing:border-box;\n       box-sizing:border-box;\n  display: block;\n  width: 100%;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-title.warning:focus {\n  border: 1px solid #FF4040;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-body,\n.ephox-polish-editor-container .ephox-whip-read-content-body {\n  height: 19em;\n  overflow: auto;\n  border: 1px solid #D8D8D8;\n  padding: .5em;\n  margin: 0;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-body {\n    background-color: #FFF;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-warning {\n   color: #FF4040;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-spinner:before {\n  font-family: "Textbox Icons";\n  content: "\\e1a8";\n  margin-left: 1em;\n}\n\n.ephox-polish-editor-container .ephox-whip-search-controls {\n  color: #666;\n  padding-top:1em;\n  border-top:1px solid #D8D8D8;\n}\n\n.ephox-polish-editor-container .ephox-whip-search-controls .ephox-pastry-button .ephox-pastry-text-content:before {\n  font-family: "Textbox Icons";\n  content: "\\e376\\0020";\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-controls {\n  margin-top: -.5em;\n  margin-bottom: .5em;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-controls-action {\n  float: right;\n  cursor: pointer;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-control-delete {\n  float: left;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-controls-action:before {\n  font-family: "Textbox Icons";\n  margin-right: 1em;\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-control-save:before {\n  font-family: "Textbox Icons";\n  margin-right: 5px;\n  content: "\\e134";\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-control-back:before {\n  content: "\\e3b3";\n}\n\n.ephox-polish-editor-container .ephox-whip-write-content-control-delete:before {\n  content: "\\e24f";\n}\n\n.ephox-polish-editor-container .ephox-whip-controls .ephox-whip-write-content-information,\n.ephox-polish-editor-container .ephox-whip-controls .ephox-whip-command-tip {\n  -ms-flex: 1;\n  -webkit-flex: 1;\n\t        flex: 1;\n  color: #777777;\n  font-size: .8em;\n  padding: .5em .5em .5em 0;\n}\n\n.ephox-polish-editor-container .ephox-whip-controls .ephox-whip-command-tip:before {\n  font-family: "Textbox Icons";\n  content: "\\e362\\0020";\n}'});
(function(e,f,h){e("4","k g l text!polish/_ie.css text!polish/_touch.css text!polish/animation.css text!polish/banners.css text!bee/bee.css text!polish/blockTag.css text!polish/cardLayout.css text!polish/clearFix.css text!polish/dialog.css text!polish/dropDown.css text!polish/editorBase.css text!polish/feedback.css text!polish/filepickerWrap.css text!polish/flashBin.css text!polish/font.css text!polish/fullscreen.css text!polish/gopher.css text!polish/help.css text!polish/hermes.css text!polish/iconFont.css text!polish/icons.css text!polish/layers.css text!polish/link.css text!polish/mobile.css text!polish/palette.css text!polish/pastry.css text!polish/polish.css text!polish/reset.css text!polish/table.css text!polish/theme.css text!polish/toolStrip.css text!polish/whip.css".split(" "),
function(b,d,c,a,g,k,p,l,e,q,s,r,f,h,u,m,z,R,x,B,A,C,D,F,G,H,J,M,K,P,L,N,O,V,S){var I=b.detect();return{beeCss:d.constant(l),editor:d.constant(h),icons:d.constant(D),inject:function(b){c.inject([D,L,G,k,K,P,N,V,F,R,f,q,p,A,x,H,r,M,s,B,e,z,m,u,S,J,O,C].join("\n"));I.browser.isIE()&&c.inject(a);I.deviceType.isTouch()&&c.inject(g)}}})})(f,h,m);(function(e,f,h){e("35",["4","11"],function(b,d){return function(c){c.events.ready.bind(function(a){a=a.api().doc();var c=[b.icons(),b.editor()].join("\n");d.inject(c,
{},a)})}})})(f,h,m);(function(e,f,h){e("4x",["8h"],function(b){var d=function(a,c){var d=b.getEnd(c);a.setSelection(c,d,c,d)},c=function(a,b){a.setSelection(b,0,b,0)};return{selectEnd:d,moveToEnd:function(a){a.getSelection().each(function(b){d(a,b.endContainer());a.focus()})},selectStart:c,moveToStart:function(a){a.getSelection().each(function(b){c(a,b.endContainer());a.focus()})}}})})(f,h,m);(function(e,f,h){e("de",["4c"],function(b){return{resolve:b.create("ephox-chips").resolve}})})(f,h,m);(function(e,
f,h){e("8l",["de","g"],function(b,d){var c=b.resolve("embedly-eph-link"),a=b.resolve("embedly-eph-container"),g=b.resolve("embedly-eph-collapse"),k="data-"+b.resolve("embedly-url"),p=b.resolve("embedly-placeholder"),l=b.resolve("embedly-icon"),e=b.resolve("embedly-loading-indicator");return{container:d.constant(a),url:d.constant(k),collapse:d.constant(g),link:d.constant(c),placeholder:d.constant(p),icon:d.constant(l),indicator:d.constant(e)}})})(f,h,m);(function(e,f,h){e("db","8l de g t 1f 40 j 1g 1s 1h 1r".split(" "),
function(b,d,c,a,g,k,p,l,e,q,s){return{detect:function(e){return q.ancestor(e,"."+b.container()).bind(function(e){var n=g.get(e,b.url()),q=p.fromTag("a");l.append(q,p.fromText(n));g.set(q,"href",n);return(k.has(e,d.resolve("embedly-placeholder"))?a.some(e):s.parent(e)).map(function(a){return{wrapper:c.constant(a),link:c.constant(q),url:c.constant(n)}})})},element:function(){var a=p.fromHtml('<span title="Revert to Hyperlink"></span>');k.add(a,b.collapse());return a},run:function(a){var b=a.link();
l.after(a.wrapper(),b);e.remove(a.wrapper());return b}}})})(f,h,m);(function(e,f,h){e("df",["1p"],function(b){var d={"ephox-chips-embedly-wrapper":{display:"block"},"ephox-chips-embedly-link":{display:"inline-block","text-decoration":"none",margin:0,padding:0},"ephox-chips-embedly-container":{"max-width":500,border:"1px solid #F6F6F6","border-radius":"4px","-moz-border-radius":"4px",margin:"10px 0",padding:5,"vertical-align":"top",overflow:"hidden",background:"#FFF",cursor:"pointer",position:"relative"},
"ephox-chips-embedly-placeholder-container":{width:260,height:20,border:"1px solid #F6F6F6","border-radius":"4px","-moz-border-radius":"4px",margin:"10px 0",padding:"12px 10px","vertical-align":"top",overflow:"hidden",background:"#FFF",cursor:"pointer",position:"relative"},"ephox-chips-embedly-sidebar":{width:100,margin:"0 10px 10px 0",padding:1,background:"#FFF",border:"1px solid #EEE","float":"left"},"ephox-chips-embedly-no-sidebar":{display:"none"},"ephox-chips-embedly-sidebar-image":{width:100,
height:"auto",margin:0,padding:0,border:"none",outline:"none"},"ephox-chips-embedly-no-image":{display:"none"},"ephox-chips-embedly-view":{},"ephox-chips-embedly-placeholder-view-title":{"font-family":"'Museo Sans', 'Helvetica Neue', sans-serif","font-size":"14px","font-weight":"bold","line-height":"18px",margin:0,padding:0,color:"#8080FF",display:"block","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","text-decoration":"none"},"ephox-chips-embedly-view-title":{"font-family":"'Museo Sans', 'Helvetica Neue', sans-serif",
"font-size":"14px","font-weight":"bold","line-height":"18px",margin:0,padding:0,color:"#8080FF","text-decoration":"none","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},"ephox-chips-embedly-view-link":{"font-family":"'Museo Sans', 'Helvetica Neue', sans-serif",color:"#999","font-size":"10px","line-height":"normal",margin:0,padding:0,"margin-top":"3px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",display:"block","text-decoration":"none"},"ephox-chips-embedly-view-desc":{"font-family":"'Museo Sans', 'Helvetica Neue', sans-serif",
color:"#666","font-size":"10px","line-height":"normal",margin:0,padding:0,"padding-top":3,"text-decoration":"none","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",display:"inline-block","max-width":"100%"},"ephox-chips-embedly-placeholder-sidebar":{background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAYdJREFUeNpiYEACjCCisrLqP5C6wADlnAfRAAGEioCi9jB1DAABxIgmcx9IKbAgcRyAeEN7e1shQAAxYAPMSFrP29rachw5cvgkE5KCCUCcAFMRj9VRMKfAAEAA4UQgE4C4Hp+C88jGw0xmQVYApAKA2ADoJ0ZYaIHYyKbUA3E+NhNJBgABRDRixuOpemDIMgBD9iFGjEEV8AOpD9CQBoV4ANBDB5lwKBIASi4E0gXQ2GVATwPvoRKgRCQA0gQLHiaYSUipDGQKA1DBR6hiBrhCJOscYQqRFKMoBAsiuxHdk7AoXICUWgSQTSIZAAQY1REjsQqh/jwASoVoUguAXkok2kA0g0DR4QALE2gKBqWGBqBYI0po4zCsHxr6DNAYCEAyjB8pCh9gRB+yi5DyCyxxGEJd8gAotx+I5aEWISdHBmxJ8Tyy16DsA9CEfgGKQclTEJevkLN+PdSABCQbDwLFBdDDEF8wsSCxD8AKOaghIO80gApQWOYhJoFiy8/2SK54gBw+AwIAPnGwnFc0PCQAAAAASUVORK5CYII=) no-repeat",
width:20,height:20,"float":"left","margin-right":5},"ephox-chips-embedly-container-elastic":{position:"relative","padding-bottom":"56.25%","padding-top":"30px",height:0,overflow:"hidden"},"ephox-chips-embedly-content-elastic":{position:"absolute",top:0,left:0,width:"100%",height:"100%"},"ephox-chips-embedly-content-image":{"max-width":"100%"},"ephox-chips-embedly-details":{background:"#fff","padding-top":5}};return{applyStyles:function(c,a){b.setAll(c,void 0!==d[a]?d[a]:{})}}})})(f,h,m);(function(e,
f,h){e("if","db 8l df de g 1f 40 1p j 1g 2e".split(" "),function(b,d,c,a,g,k,p,l,e,q,s){return{render:function(l){var f=e.fromTag("div"),h=e.fromTag("div");k.set(h,"contenteditable","false");k.set(h,d.url(),l.baseUrl);p.add(h,d.container());var u=e.fromTag("div"),m=e.fromTag("img");k.set(m,"src",l.thumbnailUrl);var z=e.fromTag("div"),R=b.element(),x=e.fromHtml("<div>"+l.title+"</div>"),B=e.fromHtml("<span>"+l.url+"</span>"),A=e.fromHtml("<p>"+l.description+"</p>");k.set(A,"title",l.description);q.append(u,
m);s.append(z,[u,R,x,B,A]);q.append(h,z);q.append(f,h);R=void 0!==l.thumbnailUrl?a.resolve("embedly-sidebar-image"):a.resolve("embedly-no-image");l=void 0!==l.thumbnailUrl?a.resolve("embedly-sidebar"):a.resolve("embedly-no-sidebar");c.applyStyles(f,a.resolve("embedly-wrapper"));c.applyStyles(f,a.resolve("embedly-type-page"));c.applyStyles(h,a.resolve("embedly-container"));c.applyStyles(u,l);c.applyStyles(m,R);c.applyStyles(z,a.resolve("embedly-view"));c.applyStyles(x,a.resolve("embedly-view-title"));
c.applyStyles(B,a.resolve("embedly-view-link"));c.applyStyles(A,a.resolve("embedly-view-desc"));return{container:g.constant(f)}}}})})(f,h,m);(function(e,f,h){e("ig","db 8l df de g 1f 40 1p j 1g 2e".split(" "),function(b,d,c,a,g,k,p,l,e,q,s){return{render:function(l){var f=e.fromTag("div"),h=e.fromTag("div"),u=e.fromTag("img"),m=e.fromTag("div"),z=e.fromHtml("<div>"+l.title+"</div>"),R=e.fromHtml("<span>"+l.url+"</span>"),x=b.element();k.set(h,"contenteditable","false");c.applyStyles(f,a.resolve("embedly-wrapper"));
c.applyStyles(h,a.resolve("embedly-container"));c.applyStyles(u,a.resolve("embedly-content-image"));c.applyStyles(m,a.resolve("embedly-details"));c.applyStyles(z,a.resolve("embedly-view-title"));c.applyStyles(R,a.resolve("embedly-view-link"));k.set(h,d.url(),l.url);p.add(h,d.container());p.add(h,a.resolve("embedly-type-photo"));k.set(u,"src",l.url);q.append(f,h);q.append(h,x);s.append(m,[z,R]);s.append(h,[u,m]);return{container:g.constant(f)}}}})})(f,h,m);(function(e,f,h){e("ih","db 8l df de g 1f 40 1p j 1g".split(" "),
function(b,d,c,a,g,k,p,l,e,q){return{render:function(s){var r=e.fromTag("div"),f=e.fromTag("div"),h=b.element(),u=e.fromHtml(s.html);k.set(u,"width",500);k.set(f,"contenteditable","false");c.applyStyles(r,a.resolve("embedly-wrapper"));c.applyStyles(r,a.resolve("embedly-type-rich"));c.applyStyles(f,a.resolve("embedly-container"));l.set(f,"padding","0");k.set(f,d.url(),s.baseUrl);p.add(f,a.resolve("embedly-type-rich"));p.add(f,d.container());q.append(r,f);q.append(f,h);q.append(f,u);return{container:g.constant(r)}}}})})(f,
h,m);(function(e,f,h){e("ii","db 8l df de g 1f 40 j 1g 2e".split(" "),function(b,d,c,a,g,k,p,l,e,q){return{render:function(s){var r=l.fromTag("div"),f=l.fromTag("div"),h=l.fromTag("div"),u=l.fromTag("div"),m=l.fromHtml("<span>"+s.description+"</span>"),z=b.element(),R=l.fromHtml(s.html);k.set(f,"contenteditable","false");c.applyStyles(r,a.resolve("embedly-wrapper"));c.applyStyles(f,a.resolve("embedly-container"));c.applyStyles(h,a.resolve("embedly-container-elastic"));c.applyStyles(u,a.resolve("embedly-details"));
c.applyStyles(m,a.resolve("embedly-view-desc"));c.applyStyles(R,a.resolve("embedly-content-elastic"));k.set(f,d.url(),s.url);p.add(f,d.container());p.add(f,a.resolve("embedly-type-video"));e.append(r,f);e.append(f,z);e.append(h,R);q.append(u,[m]);q.append(f,[h,u]);return{container:g.constant(r)}}}})})(f,h,m);(function(e,f,h){e("da",["if","ig","ih","ii"],function(b,d,c,a){return function(){var g={video:a,photo:d,rich:c,link:b};return{choose:function(a){a=g[a.type];return void 0!==a?a:b}}}})})(f,h,
m);(function(e,f,h){e("dc","db 8l df de 1n g 1f 40 j 1g".split(" "),function(b,d,c,a,g,k,p,l,e,q){return{container:function(s){var r=g.generate("embedly-placeholder"),f=e.fromTag("div");p.set(f,"contenteditable","false");p.set(f,d.url(),s);l.add(f,d.container());l.add(f,d.placeholder());var h=e.fromTag("div");l.add(h,d.icon());l.add(h,d.indicator());var u=e.fromHtml("<span>"+s+"</span>");l.add(f,r);q.append(f,h);var m=b.element();q.append(f,m);q.append(f,u);c.applyStyles(h,a.resolve("embedly-placeholder-sidebar"));
c.applyStyles(f,a.resolve("embedly-placeholder-container"));c.applyStyles(u,a.resolve("embedly-placeholder-view-title"));return{id:k.constant(r),url:k.constant(s),element:k.constant(f),destroy:k.identity}}}})})(f,h,m);(function(e,f,h){e("dd",[],function(){return{sanitise:function(b,d){var c=void 0!==b.url?b.url:d;return{thumbnailUrl:b.thumbnail_url,title:void 0!==b.title?b.title:c,description:void 0!==b.description?b.description:"",url:c,html:void 0!==b.html?b.html:"<span></span>",baseUrl:void 0!==
d?d:c,width:b.width,height:b.height,type:void 0!==b.type?b.type:"link"}}}})})(f,h,m);(function(e,f,h){e("8i","da db dc dd de 4h 1g 1s 1h".split(" "),function(b,d,c,a,g,k,p,l,e){return{replace:function(a,b){k.add(b,[g.resolve("embedly-preview")]);p.before(a,b);e.ancestor(a,"a").each(l.unwrap);l.remove(a)},fromButton:function(a){return d.detect(a)},collapse:function(a){return d.run(a)},render:function(c,d){var g=b(),k=a.sanitise(d,c);return g.choose(k).render(k)},placeholder:function(a){return c.container(a)}}})})(f,
h,m);(function(e,f,h){e("8j",["1a","3"],function(b,d){return{ajax:function(c,a,g,k){k=d.merge({url:c,contentType:"application/json",processData:!1,type:"GET",success:function(b,c,d){0!==d.status?a(b):g("Unknown HTTP error (possible cross-domain request)",d.status)},error:function(a){g('Could not load url "'+c+'": '+a.status+" "+a.statusText,a.status,a.responseText)}},k);b.ajax(k)}}})})(f,h,m);this.JSON||(this.JSON={});(function(){function e(a){return 10>a?"0"+a:a}function f(a){d.lastIndex=0;return d.test(a)?
'"'+a.replace(d,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function h(b,d){var g,e,s,r,t=c,w,u=d[b];u&&"object"===typeof u&&"function"===typeof u.toJSON&&(u=u.toJSON(b));"function"===typeof k&&(u=k.call(d,b,u));switch(typeof u){case "string":return f(u);case "number":return isFinite(u)?String(u):"null";case "boolean":case "null":return String(u);case "object":if(!u)return"null";c+=a;w=[];if("[object Array]"===Object.prototype.toString.apply(u)){r=
u.length;for(g=0;g<r;g+=1)w[g]=h(g,u)||"null";s=0===w.length?"[]":c?"[\n"+c+w.join(",\n"+c)+"\n"+t+"]":"["+w.join(",")+"]";c=t;return s}if(k&&"object"===typeof k)for(r=k.length,g=0;g<r;g+=1)e=k[g],"string"===typeof e&&(s=h(e,u))&&w.push(f(e)+(c?": ":":")+s);else for(e in u)Object.hasOwnProperty.call(u,e)&&(s=h(e,u))&&w.push(f(e)+(c?": ":":")+s);s=0===w.length?"{}":c?"{\n"+c+w.join(",\n"+c)+"\n"+t+"}":"{"+w.join(",")+"}";c=t;return s}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=
function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c,a,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!==typeof JSON.stringify&&(JSON.stringify=function(b,d,g){var e;a=c="";if("number"===typeof g)for(e=0;e<g;e+=1)a+=" ";else"string"===typeof g&&(a=g);if((k=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return h("",{"":b})});"function"!==typeof JSON.parse&&(JSON.parse=function(a,c){function d(a,b){var g,k,e=a[b];if(e&&"object"===typeof e)for(g in e)Object.hasOwnProperty.call(e,
g)&&(k=d(e,g),void 0!==k?e[g]=k:delete e[g]);return c.call(a,b,e)}var g;a=String(a);b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),"function"===typeof c?d({"":g},""):g;throw new SyntaxError("JSON.parse");})})();f("js!lib:json2.js",
[],function(){return null});(function(e,f,h){e("7g",["js!lib:json2.js"],function(){return JSON})})(f,h,m);(function(e,f,h){e("7f",["8j","3","7g"],function(b,d,c){var a=function(a){return function(b,d,g){var e;try{e=void 0===g||""===g?g:c.parse(g)}catch(s){e={contents:g}}a(b,d,e)}},g=function(c,g,l,e,q){b.ajax(c,l,a(e),d.merge({dataType:"json",type:g},q))};return{get:function(b,c,d,e){g(b,"GET",c,a(d),e)},post:function(a,b,l,e,q){g(a,"POST",l,e,d.merge({data:c.stringify(b)},q))},ajax:g}})})(f,h,m);
(function(e,f,h){e("3y",["3","7f","g","7g"],function(b,d,c,a){return{json:function(){return{ajax:function(a,k,e,l,n){k=b.merge(n||{},{type:k});d.get(a,e,l||c.identity,k)},ajaxData:function(g,k,e,l,n,q){k=b.merge(q||{},{type:e,data:void 0!==k?a.stringify(k):""});d.ajax(g,e,l,n||c.identity,k)}}}}})})(f,h,m);(function(e,f,h){e("8k",["t"],function(b){return function(){var d={};return{add:function(b,a){d[b]=a},get:function(c){return void 0!==d[c]?b.some(d[c]):b.none()}}}})})(f,h,m);(function(e,f,h){e("6h",
["g","3u"],function(b,d){var c=d.resolve("resizable"),a=d.resolve("no-resize"),g=d.resolve("resize-mask");return{style:b.constant(c),noStyle:b.constant(a),maskStyle:b.constant(g)}})})(f,h,m);(function(e,f,h){e("4y","8i 8 g 3y 8k 6h 28 29 40 1t 1h".split(" "),function(b,d,c,a,g,k,e,l,n,q,s){return function(r,f,h,u){var m=void 0===h?g():h,z=l.create({expand:e([])}),R=function(a){a=q.descendants(a,"img");d.each(a,function(a){n.add(a,k.noStyle())})},x=function(d,g,k){a.json().ajaxData(u.url+"/preview",
{url:k},"POST",function(a){d.body().each(function(c){0<a.length?(m.add(k,a[0]),s.descendant(c,"."+g).each(function(c){f.transaction(function(){var d=b.render(k,a[0]);b.replace(c,d.container());R(d.container());z.trigger.expand()})})):s.descendant(c,".ephox-chips-embedly-icon").each(function(a){n.remove(a,"ephox-chips-embedly-loading-indicator")})})},c.identity,r.headers())};return{previewLink:function(a,c){return m.get(c).fold(function(){var d=b.placeholder(c);x(a,d.id(),c);return[d.element()]},function(a){a=
b.render(c,a);R(a.container());z.trigger.expand();return[a.container()]})},fromButton:b.fromButton,collapse:b.collapse,state:c.constant(m),events:z.registry}}})})(f,h,m);(function(e,f,h){e("8m","8l df de 8 1f 40 j 1g".split(" "),function(b,d,c,a,g,k,e,l){return{toLink:function(n){a.each(n,function(a){var n=e.fromTag("a"),r=g.get(a,b.url());g.set(n,"href",r);g.set(n,"target","_blank");k.add(n,b.link());d.applyStyles(n,c.resolve("embedly-link"));l.wrap(a,n)})}}})})(f,h,m);(function(e,f,h){e("8n","8 1f 40 2e 1s 1r".split(" "),
function(b,d,c,a,g,k){var e=function(a){return function(c){b.each(c,a)}},l=e(g.remove),n=e(function(a){d.set(a,"class","")}),q=e(function(b){var c=k.children(b);a.before(b,c);g.remove(b)});return{remove:l,clearClasses:n,removeClass:function(a){return e(function(b){c.remove(b,a)})},removeAttr:function(a){return e(function(b){d.remove(b,a)})},unwrap:q}})})(f,h,m);(function(e,f,h){e("4z","8l 8m 8 8n 1f j 1g 1s".split(" "),function(b,d,c,a,g,k,e,l){return{configure:function(n){n.add(n.output(),b.container(),
d.toLink);n.add(n.input(),b.link(),a.unwrap);n.add(n.history(),b.placeholder(),function(a){c.each(a,function(a){var c=g.get(a,b.url()),d=k.fromTag("a");g.set(d,"href",c);e.append(d,k.fromText(c));e.before(a,d);l.remove(a)})})},embedlyContainer:b.container,urlAttr:b.url,embedlyCollapse:b.collapse}})})(f,h,m);(function(e,f,h){e("50",["1f","j","1g"],function(b,d,c){return{build:function(a){var g=d.fromTag("p"),k=d.fromTag("a");b.set(k,"href",a);c.append(k,d.fromText(a));c.append(g,k);return[g]}}})})(f,
h,m);(function(e,f,h){e("36","t 4x 4y 4z 50 4l 28 29 1f 40 14 51".split(" "),function(b,d,c,a,g,k,e,l,n,q,s,f){return function(h,w,u,m){var z=h.communication(),R=h.profile(),x=h.filter(),B=h.content(),A=h.undo();h=h.proximity();a.configure(x);var C=l.create({analytics:e(["message"])});w.exclude(a.embedlyContainer());var D=c(z,A,u,m);D.events.expand.bind(function(){C.trigger.analytics("embed_added")});h.registerSkip(function(a){var c=function(a){return"div"===s.name(a)&&"false"===n.get(a,"contenteditable")};
return c(a)?b.some(a):f.ancestor(a,c)});w=k.actions({previewer:function(a){return R.linkpreviews().get()?D.previewLink(B,a):g.build(a)}});B.events.mousedown.bind(function(b){var c=b.original().target();q.has(c,a.embedlyCollapse())&&D.fromButton(c).each(function(a){a=D.collapse(a);d.selectEnd(B,a);b.original().raw().preventDefault()})});return{actions:w,events:C.registry,state:D.state,destroy:function(){}}}})})(f,h,m);(function(e,f,h){e("8o",[],function(){return[]})})(f,h,m);(function(e,f,h){e("52",
["8","g","8o"],function(b,d,c){return function(a){var g={};b.each(c,function(b){g[b]={sprite:d.curry(a.nu,b)}});return g}})})(f,h,m);(function(e,f,h){e("53",["6h","40","1p","j"],function(b,d,c,a){return function(g){return{nu:function(k){var e=a.fromTag("img");d.add(e,b.noStyle());c.setAll(e,{"background-image":"url("+(g.amazon+"emoji/"+k+".png")+")","background-repeat":"no-repeat",width:"1px","min-height":"1px",padding:"9px","vertical-align":"text-bottom"});return e}}}})})(f,h,m);(function(e,f,h){e("dg",
["4c"],function(b){return{resolve:b.create("ephox-arcade").resolve}})})(f,h,m);(function(e,f,h){e("9w",["dg","8","1f"],function(b,d,c){var a="data-"+b.resolve("no-merge"),g="data-"+b.resolve("atomic");return{doNotMerge:function(b){c.set(b,a,"true")},shouldMerge:function(b){return!1===c.has(b,a)},setAtomic:function(a){c.set(a,g,"true")},isAtomic:function(a){return"true"===c.get(a,g)},clear:function(b){d.each([a,g],function(a){c.remove(b,a)})}}})})(f,h,m);(function(e,f,h){e("ij",["g","t","j","1g","1r"],
function(b,d,c,a,g){return{addAfter:function(k){return function(e,l){var n=l.all(),q=k(e,l);d.from(n[n.length-1]).each(function(d){g.nextSibling(d).fold(function(){var b=c.fromTag("p");a.append(b,c.fromTag("br"));a.after(d,b)},b.noop)});return q}}}})})(f,h,m);(function(e,f,h){e("ik",["g"],function(b){return function(d,c,a,g){return{context:d,profile:c,action:a,label:b.constant(g)}}})})(f,h,m);(function(e,f,h){e("pr",["mb","hm","j","1s"],function(b,d,c,a){return{populate:function(a){d.vacate(a);d.needsCursor(a).each(function(a){var d=
c.fromTag("span");b.forceAddBr(a,d)})},purge:function(b){d.vacate(b);d.needsCursor(b).each(function(c){a.remove(b)})}}})})(f,h,m);(function(e,f,h){e("mx",["8","88","pr","1r"],function(b,d,c,a){var g=function(a,d){var g=k(a),g=b.filter(g,d);b.each(g,c.purge)},k=function(b){var c=function(a){return[a]},d=a.prevSibling(b).map(c).getOr([]),c=a.nextSibling(b).map(c).getOr([]);return d.concat([b]).concat(c)};return{purge:function(a){g(a,d.isBlock)},purgeBy:g}})})(f,h,m);(function(e,f,h){e("ir","mx 8 88 1p 14 ag 1t aa 1r".split(" "),
function(b,d,c,a,g,k,e,l,n){var q=function(a){b.purgeBy(a,function(a){var b=c.isBlock(a)||"li"===g.name(a)||"ol"===g.name(a)||"ul"===g.name(a);if("li"===g.name(a)){var d;if(!(d=0===e.descendants(a,"ul,ol").length)){d=e.descendants(a,"ul,ol,li");var l=e.descendants(a,"*");a=k.descendants(a,g.isText);d=d.length===l.length&&0===a.length}a=d}else a=!0;return b&&a})};return{purge:q,purgeAll:function(a){var b=e.descendants(a,"ol,ul,li");d.each([a].concat(b),q)},nesting:function(b){b=("li"===g.name(b)?[b]:
[]).concat(e.descendants(b,"li"));d.each(b,function(b){var c=n.children(b);d.exists(c,function(a){return g.isText(a)?0<l.get(a).length:!d.contains(["ol","ul"],g.name(a))})||a.set(b,"list-style-type","none")})}}})})(f,h,m);(function(e,f,h){e("my",["8b","mu"],function(b,d){var c=b();return{atStartOf:function(a,b,k){d.atStartOf(c,a,b,k)}}})})(f,h,m);(function(e,f,h){e("n0","86 g t j 1g 1s 1r".split(" "),function(b,d,c,a,g,k,e){var l=function(g,l){var e=a.fromText(b.zeroWidth());g(l,e);return c.some({element:d.constant(e),
cleanup:function(){k.remove(e)},splits:d.constant([])})},n=function(a,b){return a.map(function(a){return{element:d.constant(a),cleanup:d.noop,splits:d.constant(void 0!==b?b:[])}})},q=function(a,b){return l(g.before,a)},s=function(a,b){return l(g.after,a)},f=function(a,b){return l(g.append,a)},h=function(a,b){return l(g.prepend,a)},w=function(a,b){return function(d,g){return a(d,g).fold(function(){return b(d,g)},c.some)}},u=function(a,b,d){return n(c.some(b),void 0!==b&&void 0!==d?[{first:b.dom(),
second:d.dom()}]:[])};return{before:{text:{none:c.none,start:w(function(a,b){return n(e.prevSibling(a))},q),middle:u,end:u},element:{hasPrevious:function(a,b){return n(e.child(a,b-1))},rightEdge:f,first:h,empty:q,otherwise:h}},after:{text:{none:c.none,start:u,middle:function(a,b,d){return n(c.some(d),void 0!==b&&void 0!==d?[{first:b.dom(),second:d.dom()}]:[])},end:w(function(a,b){return n(e.nextSibling(a))},s)},element:{hasNext:function(a,b){return n(e.child(a,b+1))},rightEdge:f,first:h,empty:s,otherwise:f}}}})})(f,
h,m);(function(e,f,h){e("jh",["g","i5","n0","global!Array"],function(b,d,c,a){return{prefix:b.curry(d.prefix,c),postfix:b.curry(d.postfix,c)}})})(f,h,m);(function(e,f,h){e("nh","86 8 g 88 1g 2e 14 1s aw aa 1r".split(" "),function(b,d,c,a,g,k,e,l,n,q,s){var f=function(a){return d.filter(a,function(a){return e.isText(a)?0<q.get(a).length&&q.get(a)!==b.zeroWidth():0<s.children(a).length})},h=function(b){var c=s.parent(b).getOrDie(),q=s.children(b),c=a.isBlock(c)&&!d.contains(["li","ol","ul"],e.name(c))&&
0===f(q).length?n.shallowAs(b,"p"):n.shallow(b);g.before(b,c);k.append(c,q);l.remove(b);return c};return{cleanup:function(a){return{first:a.first,second:c.constant(h(a.second())),mark:a.mark,splits:a.splits}}}})})(f,h,m);(function(e,f,h){e("jf","8 6t d6 8h g t my 88 mb jh hl hm nh mc e5 q j 1g 14 1r".split(" "),function(b,d,c,a,g,k,e,l,n,q,s,f,h,w,u,m,z,R,x,B){var A=function(a,b,c){return q.prefix(b,c).bind(function(b){var c=s.breakPath(b.element(),u.stopAt(a));return c.second().map(function(d){return{first:g.constant(a),
second:g.constant(d),mark:g.constant(b),splits:g.constant(c.splits().concat(b.splits()))}})})};return{soft:function(b,n,q){var f=z.fromTag("br");e.atStartOf(b,n,f);B.nextSibling(f).fold(function(){return a.getEnd(b)===n&&u.findBlock(b).bind(c.lastCursor).fold(g.constant(!1),function(a){var c="br"===x.name(a)?f:b;return m.eq(c,a)})},function(c){return!a.isStart(b,n)&&l.isBlock(c)})&&R.after(f,z.fromTag("br"));return k.some({start:g.constant(d.after(f)),finish:g.constant(d.after(f))})},hard:function(a,
c,k,l,e){return A(a,c,k).map(h.cleanup).map(function(a){b.each([l.getOr(a.first()),a.second()],function(b){f.postprocess(b,a.mark().element(),e)});u.findValidHardBreak(a.second(),e).orThunk(function(){n.rootBr(a.second(),a.mark().element())});var c=w.plunge(a.second(),g.constant(!1));a.mark().cleanup();return{start:g.constant(d.on(c,0)),finish:g.constant(d.on(c,0))}})},rupture:A}})})(f,h,m);(function(e,f,h){e("bj",["d6","8h","q"],function(b,d,c){var a=function(a,b,d,l,e){return l(a).fold(function(){return!0},
function(a){return c.eq(b,a)&&e(b,d)})};return{isLeft:function(c,k){return a(c,k.startContainer(),k.startOffset(),b.firstCursor,d.isStart)},isRight:function(c,k){return a(c,k.startContainer(),k.startOffset(),b.lastCursor,d.isEnd)}}})})(f,h,m);(function(e,f,h){e("ps",[],function(){return{box:function(b){return[b]}}})})(f,h,m);(function(e,f,h){e("ni",["g","ps","e5"],function(b,d,c){return{processes:function(a){return{stopper:c.stopAt(a),wrapper:d.box,post:b.noop}}}})})(f,h,m);(function(e,f,h){e("nj",
"8 t ps e5 2e 14 1s 1r".split(" "),function(b,d,c,a,g,k,e,l){var n=function(a,b,c){d.from(c[c.length-1]).each(function(a){g.append(a,q(l.children(b)));e.empty(b)})},q=function(c){return b.filter(c,function(b){return!(k.isElement(b)&&a.isList(b)&&0===l.children(b).length)})};return{processes:function(b){return{stopper:a.stopAt(b),wrapper:c.box,post:n}}}})})(f,h,m);(function(e,f,h){e("nk","g mb hm e5 j 1g 2e 1s 7o 1r".split(" "),function(b,d,c,a,g,k,e,l,n,q){var f=function(a,b){l.remove(a);return b},
h=function(a,b){var n=g.fromTag("p");e.append(n,b);k.before(a,n);l.remove(a);c.needsCursor(n).each(function(a){d.forceAddBr(a,g.fromTag("span"))});return[n]},t=function(a){var b=q.children(a);return(n.descendant(a,"p")?f:h)(a,b)};return{processes:function(c){return{stopper:a.stopAt(c),wrapper:t,post:b.noop}}}})})(f,h,m);(function(e,f,h){e("jg","8 6t g hl hm ni nj nk 2e 14 1h".split(" "),function(b,d,c,a,g,k,e,l,n,q,f){return{exit:function(h){return f.ancestor(h,"ol,ul").bind(function(t){var w=f.ancestor(t,
"li,ol,ul").fold(function(){return l.processes(t)},function(a){return"li"===q.name(a)?e.processes(a):k.processes(t)}),u=a.breakPath(h,w.stopper);return u.second().map(function(a){var k=u.first(),l=w.wrapper(h);n.before(a,l);w.post(k,a,l);b.each([k,a],g.lists);return{start:c.constant(d.on(l[0],0)),finish:c.constant(d.on(l[0],0))}})})}}})})(f,h,m);(function(e,f,h){e("e4","6t bj g t 2a jf jg e5 j 1g 1h".split(" "),function(b,d,c,a,g,k,e,l,n,q,f){var h=function(b,c,d,g){return f.closest(c,"li").fold(function(){var l=
a.none();return k.hard(b,c,d,l,g)},function(b){if(l.exitList(b))b=e.exit(b);else{var n=a.some(b);b=k.hard(b,c,d,n,g)}return b})},t=function(d){q.after(d,n.fromTag("br"));var g=n.fromTag("br");q.after(d,g);return a.from({start:c.constant(b.after(g,0)),finish:c.constant(b.after(g,0))})};return{hard:function(b,c,e){return l.findValidHardBreak(b,e).fold(function(){return l.findAnchorBreak(b,e).fold(function(){return k.soft(b,c,e)},function(l){var p=g.immutable("startContainer","startOffset");return(!0===
d.isRight(l,p(b,c))?t:k.hard)(l,b,c,a.none(),e)})},function(a){return h(a,b,c,e)})},soft:k.soft,rupture:k.rupture}})})(f,h,m);(function(e,f,h){e("ji",["2a"],function(b){return b.immutable("cursor","blocks")})})(f,h,m);(function(e,f,h){e("e6","8 6t g t jh hm jf e5 ji i6 q".split(" "),function(b,d,c,a,g,k,e,l,n,q,f){var h=function(a,b,k,l){return g.postfix(a,b,k,l).map(function(g){var e=q.leftEdge(a,b,k,l);q.makeTo(e.element(),e.offset(),g.element()).deleteContents();return{start:c.constant(d.before(g.element())),
finish:c.constant(d.before(g.element())),mark:g.element}})},t=function(a,b,c,d){return h(a,b,c,d).bind(function(a){return e.soft(a.mark(),0)})},w=function(b,c,d,g,k){return h(b,c,d,g).bind(function(b){return l.findValidHardBreak(b.mark(),k).bind(function(c){return e.hard(c,b.mark(),0,a.none(),k)})})},u=function(a,c){b.each(a,function(a){k.postprocess(a,c)})};return{soft:t,hard:function(a,b,d,g,k){var e=l.findValidHardBreak(a,k),p=l.findValidHardBreak(d,k),q=e.fold(function(){var c=t(a,b,d,g);return n(c,
[])},function(c){return p.fold(function(){var k=t(a,b,d,g);return n(k,[c])},function(l){var e=f.eq(c,l)?w(a,b,d,g,k):h(a,b,d,g);return n(e,[c,l])})});return q.cursor().map(function(a){var b=q.blocks(),d;d=a.start().fold(c.identity,c.identity,c.identity);u(b,d);return a})},rupture:function(a,b,c,d,g){return h(a,b,c,d).bind(function(a){return l.findValidHardBreak(a.mark(),g).bind(function(b){return e.rupture(b,a.mark(),0)})})}}})})(f,h,m);(function(e,f,h){e("mz","jh jf e4 e5 e6 global!document".split(" "),
function(b,d,c,a,g,k){return{point:function(a,b,d){return c.rupture(a,b,d)},range:function(a,b,c,d,k){return g.rupture(a,b,c,d,k)},ruptureUntil:function(c,g,e,q,f,h){var t=b.postfix(c,g,e,q);return function(b,c){return a.findValidHardBreak(b,f).map(h).bind(function(a){return d.rupture(a,b,c)})}(c,g).bind(function(a){return t.map(function(b){var c=k.createRange();c.setStartAfter(a.first().dom());c.setEndBefore(b.element().dom());c.deleteContents();b.cleanup();a.mark().cleanup();return a.first()})})}}})})(f,
h,m);(function(e,f,h){e("il","mx ir 8 t my mz 2e 1r".split(" "),function(b,d,c,a,g,k,e,l){var n=function(b,c,d){if(0<b.length){var k=b[0],l=b.slice(1);g.atStartOf(c,d,k);e.after(k,l);return a.some(b[b.length-1])}return a.none()};return{split:function(g,l,n){var f=void 0===n?b.purge:n;return k.point(g.block(),g.element(),g.offset()).bind(function(b){var g=l.all();e.before(b.second(),g);b.mark().cleanup();f(b.first());f(b.second());c.each([b.first(),b.second()],d.nesting);return a.from(g[g.length-1])})},
merge:function(a,b){var c=l.children(b.single());return n(c,a.element(),a.offset())},nest:function(a,b){return n(b.all(),a.element(),a.offset())},insertMany:n,insertChildren:function(a,b){var c=l.children(a);return n(c,b.element(),b.offset())},fallback:function(a,b,c){return n(c,b.startContainer(),b.startOffset())}}})})(f,h,m);(function(e,f,h){e("in",["8","g","t","1h"],function(b,d,c,a){return{lists:function(g){return b.foldr(g,function(b,c){return b.bind(function(b){return a.closest(c,"ol,ul").map(function(a){return[a].concat(b)})})},
c.some([])).map(function(a){return{all:d.constant(a)}})},from:function(a){return{all:d.constant(a)}}}})})(f,h,m);(function(e,f,h){e("io","3 d6 g t 88 2a q 14 51 1h aa 1r".split(" "),function(b,d,c,a,g,k,e,l,n,q,f,h){var t=k.immutable("left","right"),w=function(a){return g.isFormatting(a)||g.isContainer(a)},u=function(b,c,d,g){return b(d)?a.some(d):n.ancestor(d,b)},m=function(a){return function(b,c,d){return a(b,c.element(),c.offset()).bind(function(c){return a(b,d.element(),d.offset()).map(function(a){return t(c,
a)})})}},z=function(a){var b=m(a);return function(a,c,d){return b(a,c,d).filter(function(a){return e.eq(a.left(),a.right())})}};return{inline:function(b,c,d){return u(w,b,c,d).fold(function(){return a.some(c)},function(d){return b(d)?a.some(c):a.none()})},formatter:c.curry(u,g.isFormatting),container:function(a,b,d){return u(g.isContainer,a,b,d).filter(c.not(a))},inListItem:function(a,b,c){return q.closest(b,"li")},inList:function(a,b,c){return q.closest(b,"ol,ul")},setBlock:function(a,d){return b.deepMerge(a,
{block:c.constant(d)})},both:m,shared:z,sharedPredicate:function(a){a=c.curry(u,a);return z(a)},entireRoot:function(a,b,c){return n.closest(b.element(),a).filter(function(c){var g=function(a){return e.eq(a,b.element())};return a(b.element())&&0===b.offset()||l.isText(b.element())&&0===b.offset()&&d.firstCursor(c).map(g).getOr(!1)}).filter(function(b){var g=function(a){return e.eq(a,c.element())};return a(c.element())&&c.offset()>=h.children(b).length-1||l.isText(c.element())&&c.offset()>=f.get(c.element()).length&&
d.lastCursor(b).map(g).getOr(!1)}).map(function(a){return t(a,a)})}}})})(f,h,m);(function(e,f,h){e("im","ir il in io 7o 1t 1h".split(" "),function(b,d,c,a,g,k,e){return{insertOne:function(a,e){var p=k.children(e.single(),"li");return 1!==p.length||g.descendant(p[0],"ol,ul")?d.split(a,c.from(p),b.purge):d.insertChildren(p[0],a)},insertMany:function(c,g){return e.ancestor(c.block(),"ol,ul").bind(function(k){k=a.setBlock(c,k);return d.split(k,g,b.purgeAll)})}}})})(f,h,m);(function(e,f,h){e("ip",["8",
"g","t","14"],function(b,d,c,a){var g=function(a){return function(g){var l=b.find(g,a);return(void 0!==l&&null!==l?c.some(g):c.none()).map(function(a){return{all:d.constant(a)}})}};return{oneOf:function(a){return function(b){return(1===b.length?c.some(b[0]):c.none()).filter(a).map(function(a){return{single:d.constant(a)}})}},anyOf:g,noneOf:function(a){return function(g){var l=b.find(g,a);return(void 0===l||null===l?c.some(g):c.none()).map(function(a){return{all:d.constant(a)}})}},allOf:function(a){return function(g){return b.forall(g,
a)?c.some({all:d.constant(g)}):c.none()}},any:c.some,anyOfTag:function(b){return g(function(c){return a.name(c)===b})},single:function(a){return c.some({single:d.constant(a)})},all:function(a){return c.some({all:d.constant(a)})}}})})(f,h,m);(function(e,f,h){e("iq","8 g t 88 14 1t 1h".split(" "),function(b,d,c,a,g,k,e){var l=function(a){return 1===a.length?e.closest(a[0],"ol,ul").map(function(a){return{single:d.constant(a)}}):c.none()};return{list:l,listItem:function(a){return l(a).bind(function(a){a=
k.descendants(a.single(),"li");return 1===a.length?c.some({single:d.constant(a[0])}):c.none()})},partialList:function(k){if(2!==k.length)return c.none();var l=k[0],e=k[1];if(a.isFormatting(l)||a.isContainer(l)||b.contains(["ol","ul","li"],g.name(l))||!b.contains(["ol","ul"],g.name(e)))return c.none();g.name(e);return c.some({all:d.constant(k),list:d.constant(e),inline:d.constant(l)})}}})})(f,h,m);(function(e,f,h){e("dh","ij ik il im in io ip iq g 88".split(" "),function(b,d,c,a,g,k,e,l,n,q){var f=
k.formatter,h=k.inline,t=k.container;b=[d(k.inListItem,l.list,a.insertOne,"List"),d(k.inListItem,g.lists,a.insertMany,"Many lists"),d(h,e.oneOf(q.isFormatting),c.merge,"Copying formatting into root"),d(f,e.oneOf(q.isFormatting),c.merge,"Copying one formatting block into formatting"),d(f,e.anyOf(q.isFormatting),c.split,"Copying many formatting blocks into formatting"),d(f,e.anyOfTag("table"),b.addAfter(c.split),"Copying tables into formatting"),d(f,e.anyOf(q.isContainer),c.split,"Copying container blocks into formatting"),
d(t,e.all,c.nest,"Fallback pasting into container.")];return{context:function(a,b,c){return b.context(a.isRoot,c.startContainer(),c.startOffset()).map(function(a){return{block:n.constant(a),element:c.startContainer,offset:c.startOffset}})},rules:n.constant(b),fallback:c.fallback}})})(f,h,m);(function(e,f,h){e("is",["g","7u","ho"],function(b,d,c){return{force:function(a){var g=c.after(a.startContainer(),a.startOffset(),a.endContainer(),a.endOffset()),k=g?d.point(a.endContainer(),a.endOffset()):d.point(a.startContainer(),
a.startOffset());a=g?d.point(a.startContainer(),a.startOffset()):d.point(a.endContainer(),a.endOffset());return{left:b.constant(k),right:b.constant(a)}}}})})(f,h,m);(function(e,f,h){e("it","mx 8 d6 g t 88 mz jh i6 q j 1g 2e 14 1s 1r".split(" "),function(b,d,c,a,g,k,e,l,n,q,f,h,t,w,u,m){var z=function(a,b){var c=a.original(),d=l.postfix(c.left().element(),c.left().offset(),c.right().element(),c.right().offset()),k=b.all();return d.bind(function(b){n.makeTo(c.left().element(),c.left().offset(),b.element()).deleteContents();
b.cleanup();t.append(a.left(),k);b=m.children(a.right());t.append(a.left(),b);u.remove(a.right());return g.from(k[k.length-1])})},x=function(a,b){if(!q.eq(a.left(),a.right()))throw"replaceContents used in the wrong context";var d=a.left();u.empty(d);var k=b.all();t.append(d,k);return c.lastCursor(d).or(g.from(k[k.length-1]))};return{replace:function(a,b){if(q.eq(a.left(),a.right())){var c=b.all();a.canvas().replaceSelection(c);return g.from(c[c.length-1])}return z(a,b)},replaceContents:x,replaceContentsWrapP:function(b,
c){var d=f.fromTag("p");t.append(d,c.all());return x(b,{all:a.constant([d])})},replaceWhole:function(a,b){var c=b.all();t.after(a.left(),c);u.remove(a.left());return g.from(c[c.length-1])},merge:function(a,b){var c=m.children(b.single());a.canvas().replaceSelection(c);return g.from(c[c.length-1])},split:function(a,c,k){var l=void 0===k?b.purge:k;k=a.original().left();var n=a.original().right();return e.range(k.element(),k.offset(),n.element(),n.offset(),a.canvas().isRoot).bind(function(a){var b=c.all();
t.before(a.second(),b);a.mark().cleanup();d.each([a.first(),a.second()],l);return g.from(b[b.length-1])})},fallback:function(a,c,d){a.replaceSelection(d);g.from(d[0]).each(b.purge);g.from(d[d.length-1]).each(b.purge);return g.from(d[d.length-1])}}})})(f,h,m);(function(e,f,h){e("iu","t j 1g 2e 14 1h 1r".split(" "),function(b,d,c,a,g,k,e){return{insertAll:function(c,d){var g=d.all();a.after(c,g);return b.from(g[g.length-1])},insertChildren:function(c,d){var g=e.children(d.single());a.after(c,g);return b.some(g[g.length-
1])},insertSingle:function(a,d){c.after(a,d.single());return b.some(d.single())},insertFlat:function(g,k){var e=d.fromTag("li");a.append(e,[k.inline(),k.list()]);c.after(g,e);return b.some(k.list())},insertNested:function(l,e){var p=d.fromTag("li");a.append(p,[e.inline(),e.list()]);var f=k.ancestor(l,"ol,ul").fold(function(){var a=d.fromTag(g.name(e.list()));c.append(a,p);return a},function(){return p});c.after(l,f);return b.some(e.list())}}})})(f,h,m);(function(e,f,h){e("iv","ir 8 g mz 1t 1r".split(" "),
function(b,d,c,a,g,k){var e=function(b,d,g,k){k=void 0!==k?k:c.identity;var e=d.original(),p=e.left(),e=e.right();return a.ruptureUntil(p.element(),p.offset(),e.element(),e.offset(),d.canvas().isRoot,k).bind(function(a){var c=b(a,g);l(a);return c},void 0!==k?k:c.identity)},l=function(a){var c=g.ancestors(a,"ol,ul");0<c.length&&d.each([b.purgeAll,b.nesting],function(a){a(c[c.length-1])})};return{postprocess:l,onList:function(a,b,c){return e(a,b,c,function(a){return k.parent(a).getOr(a)})},onItem:function(a,
b,d){return e(a,b,d,c.identity)}}})})(f,h,m);(function(e,f,h){e("di","ik 9w ir io ip is iq it iu iv g 88 1r".split(" "),function(b,d,c,a,g,k,e,l,n,q,f,h,t){var w=a.formatter,u=f.curry(q.onItem,n.insertSingle),m=f.curry(q.onList,n.insertAll),z=f.curry(q.onItem,n.insertChildren),x=f.curry(q.onItem,n.insertFlat);n=f.curry(q.onItem,n.insertNested);b=[b(a.sharedPredicate(d.isAtomic),g.all,l.replaceWhole,"selection: inside something atomic, so just replace the whole thing"),b(a.shared(a.inListItem),e.listItem,
function(a,b){return l.merge(a,b)},"selection: same item, paste: singleton"),b(a.shared(a.inListItem),e.list,function(a,b){return l.split(a,{all:f.constant(t.children(b.single()))},c.purgeAll)},"selection: same item, paste: single list"),b(a.shared(a.inListItem),e.partialList,n,"selection: same item, paste: partial"),b(a.shared(a.inListItem),g.noneOf(h.isBlock),l.replace,"selection: same item, paste: no blocks"),b(a.shared(a.inListItem),g.all,m,"selection: same item, paste: any"),b(a.both(a.inListItem),
e.listItem,u,"selection: diff items, paste: singleton"),b(a.both(a.inListItem),e.list,z,"selection: diff items, paste: single list"),b(a.both(a.inListItem),e.partialList,x,"selection: diff items, paste: partial"),b(a.both(a.inListItem),g.all,m,"selection: diff items, paste: any"),b(a.both(w),g.noneOf(h.isBlock),l.replace,"range no blocks"),b(a.both(w),g.anyOf(function(a){return h.isFormatting(a)&&!1===d.shouldMerge(a)}),l.split,"range 1 formatting block"),b(a.both(w),g.oneOf(h.isFormatting),l.merge,
"range 1 formatting block"),b(a.both(w),g.all,l.split,"range anything > formatters"),b(a.entireRoot,g.noneOf(h.isBlock),l.replaceContentsWrapP,"complete body, not inserting a block: wrap in P and replace the contents"),b(a.entireRoot,g.all,l.replaceContents,"complete body: replace the contents")];return{context:function(a,b,c){var d=k.force(c);return b.context(a.isRoot,d.left(),d.right()).map(function(b){return{left:b.left,right:b.right,original:f.constant(d),canvas:f.constant(a)}})},rules:f.constant(b),
fallback:l.fallback}})})(f,h,m);(function(e,f,h){e("9x","dh di 8 8h g t 7u".split(" "),function(b,d,c,a,g,k,e){var l=function(a,b,d,l,e){return c.foldl(a,function(a,c){return a.orThunk(function(){return l(b,c,d).bind(function(a){return c.profile(e).map(function(b){return{action:c.action,target:g.constant(b),ctx:g.constant(a)}})})})},k.none())},n=function(b){var c=a.getEnd(b);return e.point(b,c)};return{insertAtCursor:function(a,c,g,k){var e={getSelection:a,replaceSelection:c,isRoot:g};return e.getSelection().bind(function(a){var c=
a.collapsed()?b:d;return l(c.rules(),e,a,c.context,k).fold(function(){return c.fallback(e,a,k)},function(a){return a.action(a.ctx(),a.target())}).map(n)})}}})})(f,h,m);(function(e,f,h){e("h",["t"],function(b){return{cat:function(b){for(var c=[],a=function(a){c.push(a)},g=0;g<b.length;g++)b[g].each(a);return c},find_map:function(d,c){for(var a=0;a<d.length;a++){var g=c(d[a]);if(g.isSome())return g}return b.none()}}})})(f,h,m);(function(e,f,h){e("6u","9w 9x 8 9y 6t 9z t h 1f 51".split(" "),function(b,
d,c,a,g,k,e,l,n,q){var f=function(a){return"false"===n.get(a,"contenteditable")},h=function(a){return a().map(function(a){a=c.map([a.startContainer(),a.endContainer()],function(a){return f(a)?e.some(a):q.ancestor(a,f)});return l.cat(a)}).getOr([])},t=function(a,d){c.each(a,b.setAtomic);var g=d();c.each(a,b.clear);return g},w=function(a,b,c,g){var k=h(a);return t(k,function(){return d.insertAtCursor(a,b,c,g)})};return{insertAtCursor:function(a,b){return w(a.getSelection,a.replaceSelection,a.isRoot,
b)},insertAt:function(b,c,d){return w(function(){return e.some(c)},function(d){b.win().each(function(b){var l=a.write(g.on(c.startContainer(),c.startOffset()),g.on(c.endContainer(),c.endOffset()));k.replaceRange(b,l,d)})},b.isRoot,d)}}})})(f,h,m);(function(e,f,h){e("8p",["6t","6u"],function(b,d){return{insert:function(c,a,g){c.focus();c.getSelection().each(function(k){a.save();d.insertAtCursor(c,[g]);c.setRelativeSelection(b.after(g),b.after(g))})}}})})(f,h,m);(function(e,f,h){e("dk","g 3u 28 29 40 1q j".split(" "),
function(b,d,c,a,g,k,e){return function(l){var n=e.fromHtml("<span></span>");g.add(n,d.resolve("palette-detail-action"));var q=a.create({selected:c(["value"])});k.bind(n,"click",function(){q.trigger.selected(l)});return{element:function(){return n},value:b.constant(l),events:q.registry}}})})(f,h,m);(function(e,f,h){e("dl","3u 1x 28 29 40 j 1g 1s".split(" "),function(b,d,c,a,g,k,e,l){return function(){var n=k.fromTag("span");g.add(n,b.resolve("palette-detail-actions"));var q=d.create(),f=a.create({selected:c(["value"])});
return{element:function(){return n},add:function(a){e.append(n,a.element());q.bind(a.events.selected,function(a){f.trigger.selected(a.value())})},remove:function(a){l.detach(a.element());q.unbind(a.events.selected)},show:function(){g.add(n,b.resolve("palette-detail-active"))},hide:function(){g.remove(n,b.resolve("palette-detail-active"))},destroy:function(){l.remove(n)},events:f.registry}}})})(f,h,m);(function(e,f,h){e("dn","3u 40 j 1g 2e 1s 7p".split(" "),function(b,d,c,a,g,k,e){return function(l){var n=
c.fromTag("div");d.add(n,b.resolve("palette-row"));var q=c.fromTag("span");d.add(q,b.resolve("palette-detail"));a.append(q,l.element());g.append(n,[q]);l=e.displayToggler(n,"block");return{element:function(){return n},destroy:function(){k.remove(n)},show:l.off,hide:l.on}}})})(f,h,m);(function(e,f,h){e("dj","dk dl dn 3u 40 j 1g global!window".split(" "),function(b,d,c,a,g,k,e,l){return function(){var n=b();g.add(n.element(),a.resolve("palette-emoticon-list"));e.append(n.element(),k.fromText("Shortcut list\u2026"));
var q=d();q.events.selected.bind(function(){l.open("http://www.emoji-cheat-sheet.com/")});q.add(n);return c(q)}})})(f,h,m);(function(e,f,h){e("dm","8 f1 3u 40 j 1g 2e 1s".split(" "),function(b,d,c,a,g,k,e,l){return function(){var n=g.fromTag("div");a.add(n,c.resolve("palette-container"));d.disable(n);return{element:function(){return n},add:function(a){k.append(n,a.element())},addAll:function(a){e.append(n,b.map(a,function(a){return a.element()}))},remove:function(a){l.detach(a.element())},destroy:function(){l.remove(n)},
empty:function(){l.empty(n)}}}})})(f,h,m);(function(e,f,h){e("8q","8 g dj 49 dk dl dm dn 3u 28 29 1f 40 1g".split(" "),function(b,d,c,a,g,k,e,l,n,q,f,h,t,w){return function(u){var m=f.create({emoticon:q(["sprite"]),done:q([])}),z=e();t.add(z.element(),n.resolve("palette-emoticons"));b.each([["angry","anguished","confused","grinning"],["heart_eyes","hushed","innocent","laughing"],["neutral_face","open_mouth","satisfied","stuck_out_tongue_winking_eye"]],function(a){var c=k();t.add(c.element(),n.resolve("palette-emoticon-options"));
b.each(a,function(a){var b=u[a];if(void 0!==b){var d=g(a);t.add(d.element(),n.resolve("palette-emoticon-option"));b=b.sprite();w.append(d.element(),b);h.set(d.element(),"title",":"+a+":");c.add(d)}});c.events.selected.bind(function(a){a=u[a.value()];void 0!==a&&(m.trigger.emoticon(a.sprite()),m.trigger.done())});a=l(c);z.add(a)});var x=c();z.add(x);return{element:z.element,name:d.constant("emoticon"),textkey:d.constant(a.key("insert.emoticon")),label:d.constant(!1),updateWidget:d.identity,open:d.noop,
close:d.noop,destroy:function(){z.destroy()},events:m.registry}}})})(f,h,m);(function(e,f,h){e("54",["8p","8q"],function(b,d){return{widget:function(c,a){var g=c.content(),k=c.undo(),e=d(a);e.events.emoticon.bind(function(a){g.focus();b.insert(g,k,a.sprite())});return e}}})})(f,h,m);(function(e,f,h){e("37","g 52 53 54 4l 28 29".split(" "),function(b,d,c,a,g,k,e){return function(l,n){var q=e.create({analytics:k(["message"])}),f=c(n),h=d(f),f=g.ui({"emoticons.widget":b.curry(a.widget,l,h)},b.identity),
h=g.actions({inventory:b.constant(h)});return{ui:f,actions:h,destroy:b.noop,events:q.registry}}})})(f,h,m);(function(e,f,h){e("55",[],function(){return function(b){return{headers:function(){return{headers:{"textbox-api-key":b.project.apikey},xhrFields:{withCredentials:!0}}},destroy:function(){}}}})})(f,h,m);(function(e,f,h){e("bv",["g","q"],function(b,d){return function(c,a,g,k){var e=d.eq(c,g)&&a===k;return{startContainer:b.constant(c),startOffset:b.constant(a),endContainer:b.constant(g),endOffset:b.constant(k),
collapsed:b.constant(e)}}})})(f,h,m);(function(e,f,h){e("ku",["9y","9z","bv"],function(b,d,c){return{get:function(a){return d.get(a).map(function(a){return c(a.start(),a.soffset(),a.finish(),a.foffset())})},set:function(a,b){d.setExact(a,b.startContainer(),b.startOffset(),b.endContainer(),b.endOffset())},setRelative:function(a,c,k){c=b.write(c,k);d.set(a,c)},replace:function(a,b){d.replace(a,b)}}})})(f,h,m);(function(e,f,h){e("2h",["8","j","1r","global!document"],function(b,d,c,a){return{fromHtml:function(b,
k){var e=(k||a).createElement("div");e.innerHTML=b;return c.children(d.fromDom(e))},fromTags:function(a,c){return b.map(a,function(a){return d.fromTag(a,c)})},fromText:function(a,c){return b.map(a,function(a){return d.fromText(a,c)})},fromDom:function(a){return b.map(a,d.fromDom)}}})})(f,h,m);(function(e,f,h){e("n1",["ku","2h"],function(b,d){return function(c,a){c.win();var g=c.doc();return{execCommand:function(k,e,l){var n=arguments,q=k.toLowerCase(),f={fontsize:function(){throw"This should not be in hare.";
},forecolor:function(){throw"This should not be in hare.";},fontname:function(){throw"This should not be in hare.";},bgcolor:function(){throw"This should not be in hare.";},inserthtml:function(){var a=d.fromHtml(l);b.replace(c.win(),a)}};(void 0!==f[q]?f[q]:function(){g.dom().execCommand.apply(g.dom(),n)})();a.update()},queryCommandState:function(a){return"blockquote"===a.toLowerCase()?!0:g.dom().queryCommandState.apply(g.dom(),arguments)},queryCommandValue:function(a){a.toLowerCase();return g.dom().queryCommandValue.apply(g.dom(),
arguments)}}}})})(f,h,m);(function(e,f,h){e("n2",["ku","28","29","global!clearTimeout","global!setTimeout"],function(b,d,c,a,g){return function(k){var e=null,l=function(){e=null;b.get(k.win()).each(function(a){a.collapsed()&&k.focused()&&n.trigger.loiter(a.startContainer(),a.startOffset())})},n=c.create({loiter:d(["node","offset"])});return{reset:function(){null!==e&&(a(e),e=null);e=g(l,1E3)},destroy:function(){null!==e&&(a(e),e=null)},events:n.registry}}})})(f,h,m);(function(e,f,h){e("n3","ku t 65 28 29 q 14".split(" "),
function(b,d,c,a,g,k,e){return function(l){var n=d.none(),q=c.tap(function(){q.control.block();var a=b.get(l.win());a.each(function(a){var b=function(){f.trigger.nodeChanged(a.startContainer(),a.startOffset(),n.map(function(a){return a.startContainer()}))};n.fold(b,function(c){var d=k.eq,g=a.startContainer(),l=a.endContainer(),n=c.startContainer(),q=c.endContainer(),f=c.startOffset()!==a.startOffset();c=c.endOffset()!==a.endOffset();(!d(n,g)||!d(q,l)||!e.isText(g)&&f||!e.isText(l)&&c)&&b()})});n=
a;q.control.unblock()}),f=g.create({nodeChanged:a(["node","offset","prev"])});return{update:function(){q.instance()},events:f.registry}}})})(f,h,m);(function(e,f,h){e("n4",["bv","ku","g","7o"],function(b,d,c,a){return function(g){var k=function(){return d.get(g.win())},e=function(){return k().filter(function(b){return a.closest(b.startContainer(),'[contenteditable="false"]')&&a.closest(b.endContainer(),'[contenteditable="false"]')})};return{getSelection:k,replaceSelection:function(a){d.replace(g.win(),
a)},setSelection:function(a,c,k,e){a=b(a,c,k,e);d.set(g.win(),a)},setRelativeSelection:function(a,b){d.setRelative(g.win(),a,b)},restore:c.noop,backup:c.noop,nativeCall:c.apply,focus:function(){var a=e();g.focus();a.each(function(a){d.set(g.win(),a)})},destroy:c.noop}}})})(f,h,m);(function(e,f,h){e("n5","bv ku g t 1q 7n global!console global!document".split(" "),function(b,d,c,a,g,k,e,l){var n=function(){e.log("The previous selection could not be restored. Defaulting to the current selection.")};
return function(e,p){var f=a.none(),h=g.bind(p,"blur",function(a){w()}),w=function(){d.get(e.win()).fold(c.noop,function(b){f=a.some(b)})},u=function(b){try{d.set(e.win(),b),f=a.some(b)}catch(c){n()}},m=function(){f.each(u)},z=function(a){var b=l.activeElement;a=a();null!==b&&void 0!==b&&b!==l.activeElement&&b.focus();return a};return{getSelection:function(){return k.hasFocus(p)?d.get(e.win()):f},replaceSelection:function(a){k.hasFocus(p)||m();d.replace(e.win(),a)},setSelection:function(a,c,d,g){z(function(){var k=
b(a,c,d,g);u(k)})},setRelativeSelection:function(a,b){z(function(){try{d.setRelative(e.win(),a,b)}catch(c){n()}w()})},restore:m,backup:w,nativeCall:function(a){return z(function(){k.hasFocus(p)||m();return a()})},focus:function(){l.activeElement!==p.dom()?(e.focus(),m()):d.get(e.win()).fold(m,c.noop)},destroy:function(){h.unbind()}}}})})(f,h,m);(function(e,f,h){e("n6",["global!clearTimeout","global!setTimeout"],function(b,d){return function(c,a){var g=null;return{throttle:function(){var k=arguments;
null!==g&&(b(g),g=null);g=d(function(){c.apply(null,k);g=null},a)}}}})})(f,h,m);(function(e,f,h){e("iw","k n1 n2 n3 n4 n5 n6 28 29 3n".split(" "),function(b,d,c,a,g,k,e,l,n,q){return function(f,h){var t=a(f),w=d(f,t),u=b.detect(),m=u.browser.isIE()?k(f,h):g(f);(u.browser.isChrome()||u.browser.isSafari())&&w.execCommand("defaultParagraphSeparator",!1,"p");t.events.nodeChanged.bind(function(a){A.trigger.nodeChanged(a.node(),a.offset(),a.prev());A.trigger.uiStale()});f.events.keyup.bind(function(a){m.backup();
t.update(a)});var z=e(t.update,300);f.events.mouseup.bind(function(a){m.backup();z.throttle(a)});var x=c(f);x.events.loiter.bind(function(a){A.trigger.loiter(a.node(),a.offset())});f.events.keyup.bind(x.reset);f.events.mouseup.bind(x.reset);var A=n.create({nodeChanged:l(["node","offset","prev"]),loiter:l(["node","offset"]),uiStale:l([]),keydown:q(["original"],f.events.keydown),keyup:q(["original"],f.events.keyup),keypress:q(["original"],f.events.keypress),mousedown:q(["original"],f.events.mousedown),
mouseup:q(["original"],f.events.mouseup),contextmenu:q(["original"],f.events.contextmenu),paste:q(["original"],f.events.paste),focus:q(["original"],f.events.focus),focusOut:q(["original"],f.events.focusOut),dblclick:q(["original"],f.events.dblclick)});return{win:f.win,doc:f.doc,body:f.body,getContent:f.get,setContent:f.set,blur:f.blur,focus:function(){m.focus()},uiChanged:function(){A.trigger.uiStale()},domChanged:function(){A.trigger.uiStale()},getSelection:function(){return m.getSelection()},setSelection:function(a,
b,c,d){m.setSelection(a,b,c,d);t.update()},setRelativeSelection:function(a,b){m.setRelativeSelection(a,b)},backupSelection:function(){m.backup()},replaceSelection:function(a){m.replaceSelection(a)},execCommand:function(a){var b=arguments;m.nativeCall(function(){w.execCommand.apply(null,b);A.trigger.uiStale()})},queryCommandState:function(a){var b=arguments;return m.nativeCall(function(){return w.queryCommandState.apply(null,b)})},queryCommandValue:function(a){var b=arguments;return m.nativeCall(function(){return w.queryCommandValue.apply(null,
b)})},destroy:function(){m.destroy();f.destroy();x.destroy()},events:A.registry,background:f.background,foreground:f.foreground}}})})(f,h,m);(function(e,f,h){e("pt","g t 14 2y 1r global!document".split(" "),function(b,d,c,a,g,k){var e=function(){var a=function(a,b,c){void 0!==a.focus&&a.focus()},b=function(a){return"body"===c.name(a.target())||"html"===c.name(a.target())?d.none():d.some(a)};return{background:function(a,b,c){g.owner(b).dom().defaultView.focus()},foreground:a,mousedown:function(a){return b(a)},
mouseup:function(a){return b(a)},focus:function(b,c,d){k.activeElement!==c.dom()&&(a(b,c,d),d.dom().focus())},keydown:function(a){void 0!==a.focus&&a.focus()}}}(),l=function(){return{background:b.noop,foreground:b.noop,focus:function(b,c,d){c=a.get(g.owner(d));d.dom().focus();d=a.get(g.owner(d));d.top()===c.top()&&d.left()===c.left()||b.scrollTo(c.left(),c.top())},keydown:b.noop,mousedown:d.some,mouseup:d.some}}();return{mobile:e,desktop:l}})})(f,h,m);(function(e,f,h){e("jv",["t","j"],function(b,
d){var c=function(a){a=a.dom();try{var c=a.contentWindow?a.contentWindow.document:a.contentDocument;return void 0!==c&&null!==c?b.some(d.fromDom(c)):b.none()}catch(k){return console.log("Error reading iframe: ",a),console.log("Error was: "+k),b.none()}};return{doc:function(a){return c(a).fold(function(){return a},function(a){return a})}}})})(f,h,m);(function(e,f,h){e("ob",["jv"],function(b){return{write:function(d,c){var a=b.doc(d).dom();a.open();a.writeln(c);a.close()}}})})(f,h,m);(function(e,f,
h){e("n7","k pt g jv ob 28 29 1q 1m 1h global!document".split(" "),function(b,d,c,a,g,k,e,l,n,q,f){return function(h){g.write(h,'<!doctype html><html><head></head><body contenteditable="true" spellcheck="false"></body></html>');var t=h.dom().contentWindow,w=a.doc(h),u=q.descendant(w,"body").getOrDie(),m=b.detect().deviceType.isTouch()?d.mobile:d.desktop,z=l.bind(w,"keydown",function(a){m.keydown(t);P.trigger.keydown(a)}),x=l.bind(w,"keyup",function(a){P.trigger.keyup(a)}),A=l.bind(w,"keypress",function(a){P.trigger.keypress(a)}),
B=l.bind(w,"mousedown",function(a){m.mousedown(a).fold(function(){a.kill()},P.trigger.mousedown)}),E=l.bind(w,"mouseup",function(a){m.mouseup(a).fold(function(){a.kill()},P.trigger.mouseup)}),C=l.bind(w,"contextmenu",function(a){P.trigger.contextmenu(a)}),D=l.bind(w,"paste",function(a){P.trigger.paste(a)}),F=l.bind(w,"focusin",function(a){P.trigger.focus(a)}),G=l.bind(w,"focusout",function(a){P.trigger.focusOut(a)}),H=l.bind(w,"dblclick",function(a){P.trigger.dblclick(a)}),J=l.bind(w,"touchstart",
function(a){P.trigger.mousedown(a)}),M=l.bind(w,"touchend",function(a){P.trigger.mouseup(a);K()}),K=function(){m.foreground(t,h,u)},P=e.create({keydown:k(["original"]),keyup:k(["original"]),keypress:k(["original"]),mousedown:k(["original"]),mouseup:k(["original"]),contextmenu:k(["original"]),paste:k(["original"]),focus:k(["original"]),dblclick:k(["original"]),focusOut:k(["original"])});return{win:c.constant(t),doc:c.constant(w),body:c.constant(u),get:function(){return n.get(u)},set:function(a){u.dom().innerHTML=
a},focus:function(){m.focus(t,h,u)},focused:function(){return f.activeElement===h.dom()},blur:function(){u.dom().blur()},destroy:function(){z.unbind();x.unbind();A.unbind();B.unbind();E.unbind();C.unbind();D.unbind();J.unbind();M.unbind();F.unbind();G.unbind();H.unbind()},events:P.registry,background:function(){m.background(t,h,u)},foreground:K}}})})(f,h,m);(function(e,f,h){e("n8",["4c"],function(b){return{resolve:b.create("ephox-hare").resolve}})})(f,h,m);(function(e,f,h){e("iy",["8","global!Array"],
function(b,d){return function(){var c=null,a=[],g=function(){return null!==c},k=function(){b.each(a,function(a){e(a)})},e=function(a){setTimeout(function(){a.apply(null,c)},0)};return{get:function(b){g()?e(b):a.push(b)},set:function(){c=d.prototype.slice.call(arguments);k();a=[]},isSet:g}}})})(f,h,m);(function(e,f,h){e("ix","n7 n8 iy 1f 40 j aq 1s".split(" "),function(b,d,c,a,g,k,e,l){return function(){var n=k.fromTag("iframe");g.add(n,d.resolve("content-iframe"));var q=c(),f=e.bind(n,"load",function(){f.unbind();
q.set(b(n))});return{element:function(){return n},tabindex:function(b){a.set(n,"tabindex",b)},destroy:function(){l.remove(n)},loaded:q.get}}})})(f,h,m);(function(e,f,h){e("do",["iw","ix","iy","g"],function(b,d,c,a){return function(){var g=d(),k=c(),e=a.noop;g.loaded(function(a){a=b(a,g.element());k.set(a);e=a.destroy});return{element:g.element,tabindex:g.tabindex,destroy:function(){e();g.destroy()},loaded:k.get}}})})(f,h,m);(function(e,f,h){e("8r","do g t 65 28 29".split(" "),function(b,d,c,a,g,k){return function(){var e=
b(),l=c.none(),n=a.tap(function(a,b,c){w.trigger.nodeChanged(a,b,c)});e.loaded(function(a){l=c.some(a);a.events.nodeChanged.bind(function(a){n.instance(a.node(),a.offset(),a.prev())});a.events.loiter.bind(function(a){w.trigger.loiter(a.node(),a.offset())});a.events.uiStale.bind(function(){w.trigger.uiStale()});a.events.keyup.bind(function(a){w.trigger.keyup(a.original())});a.events.keydown.bind(function(a){w.trigger.keydown(a.original())});a.events.keypress.bind(function(a){w.trigger.keypress(a.original())});
a.events.mousedown.bind(function(a){w.trigger.mousedown(a.original())});a.events.mouseup.bind(function(a){w.trigger.mouseup(a.original())});a.events.contextmenu.bind(function(a){w.trigger.contextmenu(a.original())});a.events.paste.bind(function(a){w.trigger.paste(a.original())});a.events.focus.bind(function(a){w.trigger.focus(a.original())});a.events.focusOut.bind(function(a){w.trigger.focusOut(a.original())});a.events.dblclick.bind(function(a){w.trigger.dblclick(a.original())});a.setContent(h);w.trigger.ready(a);
w.trigger.loaded()});var q=function(){return l.map(function(a){return a.win()})},f=function(){return l.map(function(a){return a.doc()})},h="",t=function(){l.each(function(a){a.focus()})},w=k.create({nodeChanged:g(["node","offset","prev"]),loiter:g(["node","offset"]),uiStale:g([]),keydown:g(["original"]),keyup:g(["original"]),keypress:g(["original"]),mousedown:g(["original"]),mouseup:g(["original"]),contextmenu:g(["original"]),paste:g(["original"]),focus:g(["original"]),focusOut:g(["original"]),dblclick:g(["original"]),
ready:g(["api"]),loaded:g([])});return{element:e.element,tabindex:e.tabindex,win:q,doc:f,body:function(){return l.map(function(a){return a.body()})},getContent:function(){return l.fold(function(){return h},function(a){return a.getContent()})},setContent:function(a){l.fold(function(){h=a},function(b){b.setContent(a)})},blur:function(){l.each(function(a){a.blur()})},focus:t,uiChanged:function(){l.each(function(a){a.uiChanged()})},domChanged:function(){l.each(function(a){a.domChanged()})},getSelection:function(){return l.bind(function(a){return a.getSelection()})},
setSelection:function(a,b,c,d){l.each(function(g){g.setSelection(a,b,c,d)})},setRelativeSelection:function(a,b){l.each(function(c){c.setRelativeSelection(a,b)})},backupSelection:function(){l.each(function(a){a.backupSelection()})},replaceSelection:function(a){l.each(function(b){b.replaceSelection(a)})},execCommand:function(a){var b=arguments;l.each(function(a){a.execCommand.apply(null,b)})},queryCommandState:function(a){var b=arguments;return l.fold(d.constant(!1),function(a){return a.queryCommandState.apply(null,
b)})},queryCommandValue:function(a){var b=arguments;return l.fold(d.constant(null),function(a){return a.queryCommandValue.apply(null,b)})},lockdown:function(a){var b=n.control.isBlocked();n.control.block();a();b||n.control.unblock()},destroy:function(){e.destroy()},events:w.registry,background:function(){l.fold(d.identity,function(a){a.background()})},foreground:function(){l.fold(d.identity,function(a){a.foreground()})},on:function(a){return q().bind(function(b){return f().map(function(c){return a({win:d.constant(b),
doc:d.constant(c),focus:t})})})}}}})})(f,h,m);(function(e,f,h){e("8u",["8","1f","j","2e","1h"],function(b,d,c,a,g){return{inject:function(k,e){var l=b.map(e,function(a){var b=c.fromTag("link",k.dom());d.setAll(b,{rel:"stylesheet",type:"text/css",href:a});return b});g.descendant(k,"head").each(function(b){a.append(b,l)})}}})})(f,h,m);(function(e,f,h){e("8v",["t","2y"],function(b,d){return function(c){var a=b.none(),g=b.none(),k=function(){a.each(function(a){c.setSelection(a.startContainer(),a.startOffset(),
a.endContainer(),a.endOffset())});g.each(function(a){c.win().each(function(b){b.scrollTo(a.left(),a.top())})})},e=function(){a=b.none();g=b.none()};return{restore:function(){k();e()},save:function(){a=c.getSelection();g=c.doc().map(d.get)},get:function(){return a},clear:e,attempt:function(b){a=b.or(a)}}}})})(f,h,m);(function(e,f,h){e("8w",["g","3u","8n"],function(b,d,c){var a=d.resolve("content-eph-wrapper"),g=d.resolve("content-eph-extra");return{configure:function(b){b.add(b.internal(),a,c.unwrap);
b.add(b.internal(),g,c.remove);b.add(b.output(),a,c.unwrap);b.add(b.output(),g,c.remove)},markerWrapper:b.constant(a),markerExtra:b.constant(g)}})})(f,h,m);(function(e,f,h){e("dq",["2a"],function(b){var d=b.immutable("element","offset");b=b.immutable("startContainer","startOffset","endContainer","endOffset");return{point:d,range:b}})})(f,h,m);(function(e,f,h){e("pv",["4c"],function(b){return{resolve:b.create("ephox-cereal").resolve}})})(f,h,m);(function(e,f,h){e("na","dq pv g t 1f 40 1h 1r global!parseInt".split(" "),
function(b,d,c,a,g,k,e,l,n){var q="data-"+d.resolve("cursor-start-offset"),f="data-"+d.resolve("cursor-finish-offset"),h=d.resolve("cursor-start"),t=d.resolve("cursor-finish"),w=d.resolve("cursor-post"),m=d.resolve("root-cursor");d=function(a,c,d){return e.descendant(d,"."+c).map(function(c){var d=g.get(c,a),d=n(d,10);g.remove(c,a);return b.point(c,d)})};return{clear:function(a,b){g.remove(a,q);k.remove(a,h);g.remove(b,f);k.remove(b,t);k.remove(a,m)},set:function(a,b,c,d){g.set(a,q,c);g.set(b,f,d);
k.add(a,h);k.add(b,t)},extractStart:c.curry(d,q,h),extractFinish:c.curry(d,f,t),setPostCursor:function(a){k.add(a,w)},unsetPostCursor:function(a){k.remove(a,w)},setRootCursor:function(a){k.add(a,m)},unsetRootCursor:function(a){k.remove(a,m)},target:function(b,c){return k.has(c,m)?a.some(b):k.has(c,w)?l.prevSibling(c):l.nextSibling(c)}}})})(f,h,m);(function(e,f,h){e("pu","na g q 1p j 1g 1s".split(" "),function(b,d,c,a,g,k,e){var l=function(a){return function(c,d){k.prepend(a,d);b.setRootCursor(d)}},
n=function(b,c){var k=g.fromTag("span");a.set(k,"display","none");c(b,k);return{token:d.constant(k),remove:d.curry(e.remove,k),extra:d.constant([k])}};return{pre:function(a,b){var d=c.eq(a,b)?l(a):k.before;return n(b,d)},post:function(a,d){var g=c.eq(a,d)?l(a):k.after,e=n(d,g);b.setPostCursor(e.token());return{token:e.token,extra:e.extra,remove:function(){b.unsetPostCursor(e.token());e.remove()}}}}})})(f,h,m);(function(e,f,h){e("n9",["pu","na","g","1s"],function(b,d,c,a){return{pre:b.pre,post:b.post,
extract:function(b,k){var e=k.element(),l=k.offset();return d.target(b,e).map(function(b){return{remove:c.curry(a.remove,e),element:c.constant(b),offset:c.constant(l)}})}}})})(f,h,m);(function(e,f,h){e("nb","pv g 40 j 1g 1t 1r".split(" "),function(b,d,c,a,g,k,e){var l=b.resolve("text-node-wrapper"),n=function(a){return c.has(a,l)};return{create:function(){var b=a.fromTag("span");c.add(b,l);return b},findIn:function(a){return k.children(a,"."+l)},isWrap:n,inWrap:function(a){return e.parent(a).fold(d.constant(!1),
function(a){return n(a)})},child:function(b){return e.child(b,0).fold(function(){var c=a.fromText("");g.append(b,c);return c},d.identity)}}})})(f,h,m);(function(e,f,h){e("nc","nb 8 j 1g 1s 1r".split(" "),function(b,d,c,a,g,k){var e=function(e){e=b.findIn(e);d.each(e,function(b){0===k.children(b).length&&a.before(b,c.fromText(""));g.unwrap(b)})},l=function(a){k.parent(a).each(g.unwrap)};return{unwrap:function(a){(b.inWrap(a)?l:e)(a)}}})})(f,h,m);(function(e,f,h){e("iz","dq n9 na nb nc g 1s".split(" "),
function(b,d,c,a,g,k,e){return{extract:function(l){var n=c.extractStart(l),q=c.extractFinish(l);l=k.curry(d.extract,l);var n=n.bind(l),f=q.bind(l);return n.bind(function(c){return f.map(function(d){c.remove();d.remove();var l=function(b){var c=a.isWrap(b)?e.unwrap:g.unwrap,d=a.isWrap(b)?a.child(b):b;return{target:k.constant(d),unwrap:k.curry(c,b)}},n=l(c.element()),q=l(d.element()),f=b.range(n.target(),c.offset(),q.target(),d.offset());return{remove:function(){n.unwrap();q.unwrap()},getSelection:function(){return f}}})})}}})})(f,
h,m);(function(e,f,h){e("nd","nb 8 g 1g 14 1r".split(" "),function(b,d,c,a,g,k){var e=function(a){return k.parent(a).fold(c.constant(!1),function(a){return b.isWrap(a)})},l=function(c){return d.foldr(c,function(c,d){if(g.isText(d)&&!e(d)){var k=b.create();a.wrap(d,k);return[k].concat(c)}return c},[])};return{wrap:function(a){var c=k.children(a),c=0<c.length?c:[a];return b.isWrap(a)?[]:l(c)}}})})(f,h,m);(function(e,f,h){e("j0","n9 na nc nd g q".split(" "),function(b,d,c,a,g,k){var e=function(k,e,l,
p){var f=b.pre(k,e);d.set(f.token(),f.token(),l,p);k=a.wrap(e);return{extra:f.extra,wrappers:g.constant(k),remove:function(){d.clear(f.token(),f.token());c.unwrap(e);f.remove()}}},l=function(k,e,l,p,f){var h=e.dom().compareDocumentPosition(p.dom()),m=2===h?b.post(k,e):b.pre(k,e),y=2===h?b.pre(k,p):b.post(k,p);d.set(m.token(),y.token(),l,f);l=a.wrap(e);f=a.wrap(p);k=m.extra().concat(y.extra());l=l.concat(f);return{extra:g.constant(k),wrappers:g.constant(l),remove:function(){d.clear(m.token(),y.token());
c.unwrap(e);c.unwrap(p);m.remove();y.remove()}}};return{insert:function(a,b){return k.eq(b.startContainer(),b.endContainer())?e(a,b.startContainer(),b.startOffset(),b.endOffset()):l(a,b.startContainer(),b.startOffset(),b.endContainer(),b.endOffset())}}})})(f,h,m);(function(e,f,h){e("dp",["iz","j0"],function(b,d){return{insert:d.insert,extract:b.extract}})})(f,h,m);(function(e,f,h){e("dr",["g","t","q","1r"],function(b,d,c,a){var g=function(b,c){return c(b)?d.some([]):a.parent(b).bind(function(d){return a.findIndex(b).bind(function(a){return g(d,
c).map(function(b){return b.concat([a])})})})},k=function(b,c){return 0===c.length?d.some(b):a.child(b,c[0]).bind(function(a){return k(a,c.slice(1))})};return{path:function(a,k){var e=b.curry(c.eq,a);return c.eq(a,k)?d.some([]):g(k,e)},follow:k}})})(f,h,m);(function(e,f,h){e("8x","dp dq 8 9y 6t 8h g 8w 40 dr 1m aw global!Math".split(" "),function(b,d,c,a,g,k,e,l,n,q,f,h,t){var w=function(a,b){c.each(a,function(a){n.add(a,b)})};return{insert:function(a,c){var d=b.insert(a,c);w(d.wrappers(),l.markerWrapper());
w(d.extra(),l.markerExtra());return d},extract:function(a){return b.extract(a)},getSelection:function(b){var c=b.getSelection();b=c.startContainer();var d=c.startOffset(),e=c.endContainer(),c=c.endOffset(),l=k.getEnd(b),p=k.getEnd(e);return 0<=d&&d<=l&&0<=c&&c<=p?a.write(g.on(b,d),g.on(e,c)):a.write(g.before(b),g.before(b))},remove:function(a){a.remove()},serialise:function(a,c){return q.path(a,c.startContainer()).bind(function(d){return q.path(a,c.endContainer()).bind(function(g){var k=h.deep(a);
return q.follow(k,d).bind(function(a){return q.follow(k,g).map(function(d){d={startContainer:e.constant(a),startOffset:e.constant(c.startOffset()),endContainer:e.constant(d),endOffset:e.constant(c.endOffset())};b.insert(k,d);return f.get(k)})})})})}}})})(f,h,m);(function(e,f,h){e("px",["g"],function(b){var d=function(c){return{elements:b.constant(c)}};return{constant:d,empty:function(){return d([])}}})})(f,h,m);(function(e,f,h){e("py",["2a"],function(b){return b.immutable("word","left","right")})})(f,
h,m);(function(e,f,h){e("pz",["8","t","py"],function(b,d,c){var a=["'twas"],g=function(a){var b=a.word();return c(b.substring(1),d.some("'"),a.right())},k=function(a){return"'"===a},e=function(c){var d=c.word(),e=b.exists(a,function(a){return-1<d.indexOf(a)})?2:1,l=d.substring(0,e);return b.forall(l,k)&&!k(d.charAt(e))?g(c):c},l=function(a){var b=a.word();2<=b.length&&k(b.charAt(b.length-1))&&!k(b.charAt(b.length-2))&&(b=a.word(),a=c(b.substring(0,b.length-1),a.left(),d.some("'")));return e(a)};return{scope:l,
text:function(a){a=c(a,d.none(),d.none());return l(a).word()}}})})(f,h,m);(function(e,f,h){e("ng","8 t 2z ae py pz global!RegExp".split(" "),function(b,d,c,a,g,k,e){return{words:function(e){var p=c.unsafetoken(c.wordchar()+"+"),p=a.findall(e,p),q=e.length;return b.map(p,function(a){var b=a.start(),c=a.finish();a=e.substring(b,c);b=0<b?d.some(e.charAt(b-1)):d.none();c=c<q?d.some(e.charAt(c)):d.none();a=g(a,b,c);return k.scope(a)})}}})})(f,h,m);(function(e,f,h){e("q0",["g","t","7u","ne"],function(b,
d,c,a){return function(g){var k=function(a,b){return g.property().isText(a)?b(g.property().getText(a)):d.none()},e=function(a){return g.property().isEmptyTag(a)||g.property().isBoundary(a)},l=function(a,b){return k(b,a).fold(function(){return e(b)?d.some([]):d.none()},function(a){return d.some([c.text(b,a)])})};return{left:b.curry(l,a.lastWord),right:b.curry(l,a.firstWord),stop:e}}})})(f,h,m);(function(e,f,h){e("q1",["7u","q8"],function(b,d){return function(c){var a=d(c);return function(d,k,e){return a.traverse(d,
k,e,function(a){return[b.text(a,c.property().getText(a))]})}}})})(f,h,m);(function(e,f,h){e("nf","8 g 7u mt jz hp px ng q0 q1".split(" "),function(b,d,c,a,g,k,e,l,n,q){var f=function(d,g){var k=a.all(d,g);return b.map(k,function(a){return c.text(a,d.property().isText(a)?d.property().getText(a):"")})},h=function(a,c){var d=k.splitby(c,function(b){b=b.element();return a.property().isBoundary(b)||a.property().isEmptyTag(b)});return b.bind(d,function(a){a=b.bind(a,function(a){return a.text()}).join("");
return l.words(a)})};return{generate:function(a,c){var k=n(a),l=q(a),l=g.gather(a,c,k,l),k=l.left(),l=l.right(),m=f(a,c),k=k.concat(m).concat(l),l=b.map(k,function(a){return a.element()}),l=e.constant(l),k=h(a,k);return{zone:d.constant(l),words:d.constant(k)}},empty:function(){return{zone:e.empty,words:d.constant([])}}}})})(f,h,m);(function(e,f,h){e("j1",["ne","nf","ng"],function(b,d,c){return{identify:function(a){return c.words(a)},cluster:function(a,b){return a.property().isBoundary(b)?d.empty():
d.generate(a,b)},isWord:function(a,c){return!b.hasBreak(c)}}})})(f,h,m);(function(e,f,h){e("ds",["8b","j1"],function(b,d){var c=b();return{identify:function(a){return d.identify(a)},cluster:function(a){return d.cluster(c,a)},isWord:function(a){return d.isWord(c,a)}}})})(f,h,m);(function(e,f,h){e("8y","t 7u ds cs 14 1r".split(" "),function(b,d,c,a,g,k){var e=function(a,c){return g.isText(a)?b.some(d.point(a,c)):0===k.children(a).length?b.none():k.child(a,c).bind(function(a){return e(a,0)})},l=function(b,
c,d){b.on(function(b){a.expandWord(b,c,d)})},n=function(a,b){var d=a.dom().createRange();d.setStart(b.startContainer().dom(),b.startOffset());d.setEnd(b.endContainer().dom(),b.endOffset());return c.isWord(d.cloneContents().textContent)};return{correct:function(a){a.getSelection().each(function(b){a.doc().each(function(c){n(c,b)&&e(b.startContainer(),b.startOffset()).each(function(c){b.collapsed()||l(a,c.element(),c.offset())})})})},expand:function(b){b.on(a.expand);b.backupSelection()}}})})(f,h,m);
(function(e,f,h){e("56","k 8r g t 65 8u 8v 8w 8x 8y 28 29 3n q 1q 1r".split(" "),function(b,d,c,a,g,k,e,l,n,q,f,h,t,w,m,y){var z=b.detect();return function(b,x,B){l.configure(b);var A=a.none(),C=d();null!==x.tabindex&&C.tabindex(x.tabindex);C.setContent(B.clean);C.events.loaded.bind(function(){var b=C.getContent();B.clean===b&&F(B.marked);b=C.body().getOrDie();A=a.some(m.bind(b,"dblclick",function(a){q.correct(C)}))});C.events.ready.bind(function(a){k.inject(a.api().doc(),x.stylesheets)});var D=function(){return C.getSelection().bind(function(a){var b=
C.body().getOrDie("content should not return a selection if body is not yet available");return n.serialise(b,a)}).getOr(C.getContent())},F=function(a){C.body().each(function(b){C.setContent(a);n.extract(b).each(function(a){var b=n.getSelection(a);n.remove(a);C.setRelativeSelection(b.start(),b.finish());z.deviceType.isTouch()||H()})})},G=h.create({nodeChanged:f(["node","offset","prev"]),undoChanged:f([]),loiter:t(["node","offset"],C.events.loiter),uiStale:t([],C.events.uiStale),keydown:t(["original"],
C.events.keydown),keyup:t(["original"],C.events.keyup),keypress:t(["original"],C.events.keypress),mousedown:t(["original"],C.events.mousedown),mouseup:t(["original"],C.events.mouseup),contextmenu:t(["original"],C.events.contextmenu),paste:t(["original"],C.events.paste),focus:t(["original"],C.events.focus),focusOut:t(["original"],C.events.focusOut),dblclick:t(["original"],C.events.dblclick),ready:t(["api"],C.events.ready),loaded:t([],C.events.loaded),background:f([]),foreground:f([]),scrollToCursor:f([]),
display:f(["element"])});C.events.nodeChanged.bind(function(a){G.trigger.nodeChanged(a.node(),a.offset(),a.prev());G.trigger.undoChanged()});var H=function(){G.trigger.scrollToCursor()},J=g.tap(function(){C.focus()});return{element:C.element,win:C.win,doc:C.doc,body:C.body,getContent:C.getContent,setContent:C.setContent,focus:function(){J.instance()},blur:C.blur,uiChanged:C.uiChanged,domChanged:C.domChanged,getSelection:C.getSelection,getSelectionStart:function(){return C.getSelection().map(function(a){return a.startContainer()})},
setSelection:C.setSelection,setRelativeSelection:C.setRelativeSelection,backupSelection:C.backupSelection,replaceSelection:C.replaceSelection,execCommand:function(a){return function(){var b=arguments;y.parent(C.element()).fold(function(){a.apply(null,b)},function(c){var d=c.dom().scrollTop;a.apply(null,b);c.dom().scrollTop=d})}}(C.execCommand),queryCommandState:C.queryCommandState,queryCommandValue:C.queryCommandValue,on:C.on,destroy:function(){A.each(function(a){a.unbind()});C.destroy()},events:G.registry,
state:function(){return{clean:C.getContent(),marked:D()}},serialize:D,deserialize:F,background:function(){C.background();G.trigger.background()},foreground:function(){C.foreground();G.trigger.foreground()},isRoot:function(a){return C.body().fold(c.constant(!1),function(b){return w.eq(b,a)})},selectWord:function(){q.expand(C)},cursor:function(){return e(C)},activate:function(){J.control.unblock()},deactivate:function(){J.control.block()},cursorIntoView:H,allowScroll:function(a){G.trigger.display(a)}}}})})(f,
h,m);(function(e,f,h){e("dv",["80","3u","1f"],function(b,d,c){var a="data-"+d.resolve("context-type");return{nu:function(d,k,e){d=b.item(d,e.value(),e.text());c.set(d,a,k);c.setAll(d,e.attrs());return d},type:function(b){return c.get(b,a)}}})})(f,h,m);(function(e,f,h){e("dw","8 80 hb 4b dv 3u 4h".split(" "),function(b,d,c,a,g,k,e){return{derive:function(l,n,q){n=b.map(n,function(c){var d=q[c],n=d.primary(),f=d.submenus();return b.map(n,function(b){var d=g.nu(l,c,b),n=void 0!==f[b.value()]?[k.resolve("menu-more")]:
[],q=void 0!==f[b.value()];a.menuItem(d,b.text(),q);e.add(d,n);return d})});n=b.filter(n,function(a){return 0<a.length});return b.flatten(c.intersperseThunk(n,function(){return[d.separator(l)]}))}}})})(f,h,m);(function(e,f,h){e("dx",["8","80","4b","dv","2e"],function(b,d,c,a,g){return{derive:function(k,e,l){return b.bind(e,function(e){var p=l[e].secondary();return b.map(p,function(l){var p=d.submenu(k,l.value(),[]);l=b.map(l.items(),function(b){var d=a.nu(k,e,b);c.menuItem(d,b.text());return d});
g.append(p,l);return p})})}}})})(f,h,m);(function(e,f,h){e("90","8 r 80 3 t dv dw dx 3u 9g 40 2e 1s".split(" "),function(b,d,c,a,g,k,e,l,n,f,h,r,t){return function(w){var m=f({}),y=f([]),z={},x=g.none();return{structure:m.get,all:y.get,main:function(){return y.get()[0]},update:function(k){b.each(y.get(),function(a){t.remove(a)});x=g.some(k);var f=d.keys(z);d.each(z,function(a){a.assign(x)});var q=d.tupleMap(z,function(a,b){return{k:b,v:a.situation(k)}}),A=e.derive(w,f,q),D=l.derive(w,f,q),f=b.foldr(f,
function(b,c){return a.merge(b,q[c].submenus())},{});if(0===A.length)y.set([]);else{var F=c.mainmenu(w,n.resolve("main-context-menu"),[]);r.append(F,A);A=[F].concat(D);b.each(A,function(a){h.add(a,n.resolve("layer-above-editor"))});y.set(A);m.set(f)}},handle:function(a){var b=k.type(a),b=z[b];void 0!==b&&b.handle(a)},register:function(a,b){z[a]=b}}}})})(f,h,m);(function(e,f,h){e("57","8 k g t 8z 90 91 92 2a 41 1p 42 14 1r".split(" "),function(b,d,c,a,g,k,e,l,n,f,h,r,t,w){var m=n.immutable("target",
"x","y"),y=d.detect().browser,z=function(b,c,d,n,h){h=b.doc().getOrDie();var s=k(h),z=g(b,c,n,"context-menu",[]),x=f(0,0);z.events.open.bind(function(){var a=s.structure(),b=s.all(),c=b[0],b=b.slice(1);z.update(c,b,a);z.setActiveMenu(c)});z.events.postOpen.bind(function(){var a;a=l(14,10);var c=r.absolute(b.element());a=e.makeshift(b,x.left()+c.left(),x.top()+c.top(),a);n.show(z.popup(),a)});z.events.action.bind(function(a){s.handle(a.item());z.close()});var A=function(b){s.update(b.target());if(0<
s.all().length){var c=b.x(),d=b.y();x=f(c,d);z.cleanup();z.open();return a.some(b)}return a.none()},J=function(c){return b.getSelection().bind(function(b){return(t.isText(b.startContainer())?w.parent(b.startContainer()):a.some(b.startContainer())).map(function(a){var b=r.absolute(a);return m(a,b.left(),b.top())})})},M=function(a){var b;b=a.original();b=y.isIE()&&10>=y.version.major?f(b.raw().clientX,b.raw().clientY):f(b.x(),b.y());return m(a.original().target(),b.left(),b.top())};b.events.contextmenu.bind(function(b){("body"===
t.name(b.original().target())?J():a.some(M(b))).bind(A).each(function(a){b.original().raw().preventDefault()})});d.events.context.bind(function(){J().each(A)});return{register:s.register,destroy:function(){z.destroy()}}};return function(a,d,g,k){var e=[],l={register:function(a,b){e=e.concat([{name:a,feature:b}])},destroy:c.noop};a.events.loaded.bind(function(c){l=z(a,d,g,k);b.each(e,function(a){l.register(a.name,a.feature)})});return{register:function(a,b){l.register(a,b)},destroy:function(){l.destroy()}}}})})(f,
h,m);(function(e,f,h){e("93","8 k g t cb 1f j 1g 2e 14 1s 1r global!setTimeout".split(" "),function(b,d,c,a,g,k,e,l,n,f,h,r,t){var m=d.detect().browser,u=function(b){var c=e.fromHtml("<p><br></p>");l.append(b,c);return a.some(c)},y=function(b){var c=r.children(b);return 0===c.length?u(b):1===c.length&&"br"===f.name(c[0])?(h.empty(b),u(b)):a.none()},z=function(a){return 1===a.dom().childNodes.length?r.firstChild(a).fold(c.constant(!1),function(a){return"br"===f.name(a)&&k.has(a,"_moz_editor_bogus_node")}):
!1},x=function(b){return y(b).orThunk(function(){var c;m.isFirefox()&&z(b)?(h.empty(b),c=u(b)):c=a.none();return c})};return{listen:function(a){a.events.nodeChanged.bind(function(b){b=b.node();a.isRoot(b)&&x(b).each(function(b){a.setSelection(b,0,b,0)})})}}})})(f,h,m);(function(e,f,h){e("94",[],function(){return function(){var b=!0;return{isHandled:function(){return b},handle:function(){b=!1}}}})})(f,h,m);(function(e,f,h){e("6e",["8","7j","g"],function(b,d,c){var a=function(a,c){var d=c.original(),
d=d.raw().which||d.raw().keycode;return b.contains(a,d)},g=c.curry(a,d.ENTER()),k=c.curry(a,d.SPACE()),e=c.curry(a,d.BACKSPACE());d=c.curry(a,d.DEL());return{isEnter:g,isSpace:k,isBackspace:e,isDel:d}})})(f,h,m);(function(e,f,h){e("95",["e4","e5","e6"],function(b,d,c){var a=function(a,b,c,e){return d.isCollapsed(a)?b(a.startContainer(),a.startOffset(),e):c(a.startContainer(),a.startOffset(),a.endContainer(),a.endOffset(),e)};return{soft:function(d,k){return a(d,b.soft,c.soft,k)},hard:function(d,k){return a(d,
b.hard,c.hard,k)}}})})(f,h,m);(function(e,f,h){e("58","g 93 94 6e 28 29 95".split(" "),function(b,d,c,a,g,k,e){return function(l,n){var f=k.create({preLinebreak:g(["handler"]),postLinebreak:g([])});d.listen(l);var h=function(a){n.save();l.getSelection().each(function(b){var d=c();f.trigger.preLinebreak(d);l.getSelection().each(function(b){d.isHandled()&&(a?e.soft:e.hard)(b,l.isRoot).each(function(a){l.setRelativeSelection(a.start(),a.finish());l.cursorIntoView()});f.trigger.postLinebreak()})})};l.events.keydown.bind(function(b){a.isEnter(b)&&
(b.original().raw().preventDefault(),h(b.original().raw().shiftKey))});return{linebreak:h,destroy:b.noop,events:f.registry}}})})(f,h,m);(function(e,f,h){e("96",["1t"],function(b){return function(d,c){return{find:function(a){return b.descendants(a,d)},cleaner:c}}})})(f,h,m);(function(e,f,h){e("af",["8","j","1m"],function(b,d,c){var a=function(a,c){b.each(c,function(b){var c=b.find(a);b.cleaner(c)})};return{filterHtml:function(b,k){var e=d.fromTag("div");e.dom().innerHTML=b;a(e,k);return c.get(e)},
filterDom:a}})})(f,h,m);(function(e,f,h){e("e7",[],function(){return function(){var b=[];return{add:function(d){b.push(d)},get:function(){return b.slice(0)}}}})})(f,h,m);(function(e,f,h){e("97",["t","af","e7"],function(b,d,c){return function(){var a={},g=function(c){return b.from(a[c])};return{get:g,getOrInit:function(b){var d=a[b];void 0===d&&(a[b]=c(),d=a[b]);return d},filterDom:function(a,b){g(a).each(function(a){d.filterDom(b,a.get())})},filterHtml:function(a,b){return g(a).fold(function(){return b},
function(a){return d.filterHtml(b,a.get())})}}}})})(f,h,m);(function(e,f,h){e("98",["ag"],function(b){return function(d,c){return{find:function(a){return b.descendants(a,d)},cleaner:c}}})})(f,h,m);(function(e,f,h){e("59",["g","96","97","98"],function(b,d,c,a){return function(){var g=c(),k=b.constant("internal"),e=b.constant("output"),l=b.constant("input"),n=b.constant("history"),f=b.constant("paste"),h=function(a,b,c){a=g.getOrInit(a);b=d(b,c);a.add(b)};return{add:function(a,b,c){h(a,"."+b,c)},addSelector:h,
addPredicate:function(b,c,d){b=g.getOrInit(b);c=a(c,d);b.add(c)},filterHtml:g.filterHtml,filterDom:g.filterDom,internal:k,output:e,input:l,paste:f,history:n,destroy:function(){}}}})})(f,h,m);(function(e,f,h){e("5a",["g","49","4l","28","29"],function(b,d,c,a,g){return function(k,e,l){var n=!1,f=g.create({maximize:a(["layout"]),restore:a(["layout"]),analytics:a(["message"]),select:a([]),deselect:a([])}),h=function(){f.trigger.maximize(l.alternate)},r=function(){f.trigger.restore(l.alternate)},t=function(a){n?
a.select():a.deselect()},m=function(){f.trigger.analytics("fullscreen_"+(n?"off":"on"));k.focus();(n?r:h)()};e.events.fullscreen.bind(m);e=c.ui({"fullscreen.general":function(){return{toggle:!0,value:"fullscreen",textkey:d.key("action.fullscreen"),action:m,updateGeneral:t,icon:!0,shortcut:!0,selected:n}}},b.identity);var u=c.actions({maximize:h,restore:r});return{ui:e,actions:u,select:function(){n=!0},deselect:function(){n=!1},destroy:b.noop,events:f.registry}}})})(f,h,m);(function(e,f,h){e("99",
["e8","1q","global!document"],function(b,d,c){return function(a,c){var k=b(),e=d.bind(c,"keydown",k.keydown),l=d.bind(c,"keypress",k.keypress),n=function(a){k.keydown(a.original())},f=function(a){k.keypress(a.original())};a.events.keydown.bind(n);a.events.keypress.bind(f);return{off:k.off,on:k.on,swallowShortcuts:k.swallowShortcuts,yieldShortcuts:k.yieldShortcuts,swallowChars:k.swallowChars,yieldChars:k.yieldChars,swallowKeys:k.swallowKeys,yieldKeys:k.yieldKeys,destroy:function(){e.unbind();l.unbind();
a.events.keydown.unbind(n);a.events.keypress.unbind(f)},events:k.events}}})})(f,h,m);(function(e,f,h){e("9a",["e8"],function(b){return function(d){var c=b(),a=function(a){c.keydown(a.original())},g=function(a){c.keypress(a.original())};d.events.keydown.bind(a);d.events.keypress.bind(g);return{off:c.off,on:c.on,swallowShortcuts:c.swallowShortcuts,yieldShortcuts:c.yieldShortcuts,swallowChars:c.swallowChars,yieldChars:c.yieldChars,swallowKeys:c.swallowKeys,yieldKeys:c.yieldKeys,events:c.events,destroy:function(){d.events.keydown.unbind(a);
d.events.keypress.unbind(g)}}}})})(f,h,m);(function(e,f,h){e("9b",["e8","1q"],function(b,d){return function(c){var a=b(),g=d.bind(c,"keydown",a.keydown),k=d.bind(c,"keypress",a.keypress);return{off:a.off,on:a.on,swallowShortcuts:a.swallowShortcuts,yieldShortcuts:a.yieldShortcuts,swallowChars:a.swallowChars,yieldChars:a.yieldChars,swallowKeys:a.swallowKeys,yieldKeys:a.yieldKeys,destroy:function(){g.unbind();k.unbind()},events:a.events}}})})(f,h,m);(function(e,f,h){e("5b",["g","99","9a","9b"],function(b,
d,c,a){return function(g,k){return{all:function(){return d(g,k.element())},container:function(b){return a(b)},editor:function(){return c(g)},destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("5c","g t 47 3u 28 29 40 1q j 1g".split(" "),function(b,d,c,a,g,k,e,l,n,f){return function(h,r){var t=k.create({login:g([]),logout:g([])}),m=d.none(),u=!1;r.events.login.bind(function(){u=!0;t.trigger.login();m.each(function(a){h.hideBanner(a)});m=d.none()});r.events.logout.bind(function(){u=!1;t.trigger.logout()});
var y=function(){var c=n.fromTag("span");f.append(c,n.fromText("Log in"));e.add(c,a.resolve("banner-login-action"));l.bind(c,"click",function(){r.actions().showLogin()});return{element:b.constant(c)}};return{init:b.noop,authorised:function(a,b){if(u)b();else{m.each(function(a){h.hideBanner(a)});var g=c(a,"info");g.events.close.bind(function(){m=d.none()});var k=y();g.action(k);h.displayBanner(g);m=d.some(g)}},destroy:b.noop,events:t.registry}}})})(f,h,m);(function(e,f,h){e("q2",["8h","3q","14","1r"],
function(b,d,c,a){var g=d.generate([{onText:["element","offset"]},{firstText:["parent","child","offset"]},{beforeText:["parent","child","offset"]},{afterText:["parent","child"," offset"]},{lastText:["parent","child","offset"]},{onElement:["element","offset"]}]);return{detect:function(d,e){if(c.isText(d))return g.onText(d,e);var l=a.children(d);return 0===l.length?g.onElement(d,e):0===e&&c.isText(l[0])?(0,g.firstText)(d,l[0],0):e===l.length&&c.isText(l[l.length-1])?(l=l[e-1],(0,g.lastText)(d,l,b.getEnd(l))):
e<l.length&&c.isText(l[e])?(0,g.beforeText)(d,l[e],0):0<e&&c.isText(l[e-1])?(l=l[e],(0,g.afterText)(d,l,b.getEnd(l))):g.onElement(d,e)},cata:function(a,b,c,d,g,e,f){return a.fold(b,c,d,g,e,f)}}})})(f,h,m);(function(e,f,h){e("qx",["g","t"],function(b,d){return function(c){return{backup:b.identity,restore:b.constant(d.none()),element:b.constant(c)}}})})(f,h,m);(function(e,f,h){e("qy",["2a"],function(b){return b.immutable("startContainer","startOffset","endContainer","endOffset")})})(f,h,m);(function(e,
f,h){e("q3","qx qy g t 1g 1s 1r".split(" "),function(b,d,c,a,g,k,e){var l=function(b,g){return{element:c.constant(g),backup:c.identity,restore:function(){var c=d(b,0,b,0);return a.some(c)}}},n=function(b,g){return{element:c.constant(g),backup:c.identity,restore:function(){var c=e.children(b).length,c=d(b,c,b,c);return a.some(c)}}},f=function(a){return e.parent(a).bind(function(b){return e.findIndex(a).map(function(a){return d(b,a,b,a)})})},h=function(a,b){return{backup:function(){g.before(a,b)},restore:function(){var a=
e.nextSibling(b);k.detach(b);return a.map(function(a){return f(a).getOrThunk(function(){return d(a,0,a,0)})})},element:c.constant(b)}};return{place:function(a,c,d){var g=e.children(a);return 0===g.length?b(d):g.length===c?n(a,d):0===c?l(a,d):c>g.length?b(d):h(g[c],d)}}})})(f,h,m);(function(e,f,h){e("q4",["qy","t"],function(b,d){return function(c,a){var g=d.none();return{backup:function(){c.backup();var b=a();b.backup();g=d.some(b)},restore:function(){var a=g.bind(function(a){return a.restore()}),
d=c.restore();return a.bind(function(a){return d.map(function(c){return b(a.startContainer(),a.startOffset(),c.startContainer(),c.startOffset())})})},element:function(){return g.fold(function(){return c.element()},function(a){return a.element()})}}}})})(f,h,m);(function(e,f,h){e("ee",["8b","jz"],function(b,d){var c=b();return{gather:function(a,b,k){return d.gather(c,a,b,k)},before:function(a,b){return d.before(c,a,b)},after:function(a,b){return d.after(c,a,b)}}})})(f,h,m);(function(e,f,h){e("q5",
"qx qy 8h g ee ab 1g 1s".split(" "),function(b,d,c,a,g,k,e,l){var n=function(b,c){return{backup:function(){e.before(b,c)},restore:function(){var a=g.after(c).map(function(a){return d(a,0,a,0)});l.detach(c);return a},element:a.constant(c)}},f=function(b,k){return{backup:function(){e.after(b,k)},restore:function(){var a=g.before(k).map(function(a){var b=c.getEnd(a);return d(a,b,a,b)});l.detach(k);return a},element:a.constant(k)}};return{place:function(a,c,d){a=k.split(a,c);return k.position(a).fold(function(){return b(d)},
function(a){return n(a,d)},function(a,b){return f(a,d)},function(a){return f(a,d)})}}})})(f,h,m);(function(e,f,h){e("fh",["2a"],function(b){return b.immutable("result","cursor")})})(f,h,m);(function(e,f,h){e("q6",["4c"],function(b){return{resolve:b.create("ephox-newt").resolve}})})(f,h,m);(function(e,f,h){e("no",["q6","40","1p","j"],function(b,d,c,a){return function(g){var k=null;return{getOrInit:function(){var e;null===k?(e=a.fromTag("span",g.dom()),d.add(e,b.resolve("cursor-marker")),c.set(e,"display",
"none")):e=k;return k=e}}}})})(f,h,m);(function(e,f,h){e("nn","q2 q3 q4 q5 fh no 1r".split(" "),function(b,d,c,a,g,k,e){var l=function(c,g){var k=function(b,c,d){return a.place(c,d,g)};return b.cata(c,function(b,c){return a.place(b,c,g)},k,k,k,k,function(a,b){return d.place(a,b,g)})},n=function(a,c,d){d=d.getOrInit();a=b.detect(a,c);return l(a,d)},f=function(a,b){a.backup();var c=b(a.element());return g(c,a.restore())};return{inspect:n,runOnRange:function(a,b,d,g,l){var h=e.owner(a),m=k(h);d=n(d,
g,m);d=c(d,function(){var c=k(h);return n(a,b,c)});return f(d,l)},runOnCursor:f}})})(f,h,m);(function(e,f,h){e("jo",["nn","no","q","1r"],function(b,d,c,a){var g=function(a,c,d,g,k){return b.runOnRange(a,g>c?c:g,a,g>c?g:c,k)},k=b.runOnRange;return{point:function(c,g,k){var e=a.owner(c),e=d(e);c=b.inspect(c,g,e);return b.runOnCursor(c,k)},range:function(a,b){return(c.eq(a.startContainer(),a.endContainer())?g:k)(a.startContainer(),a.startOffset(),a.endContainer(),a.endOffset(),b)}}})})(f,h,m);(function(e,
f,h){e("e9",["jo","fh","t","8e","40"],function(b,d,c,a,g){var k=function(a){return function(b,g){var k=g(a);return d(k,c.none())}},e=function(a){return function(c,d){return b.point(a.startContainer(),a.startOffset(),n(c,d))}},l=function(a){return function(c,d){return b.range(a,n(c,d))}},n=function(a,b){return function(c){g.add(c,a);return b(c)}};return{diagnose:function(b){return a.inBody(b.startContainer())&&b.collapsed()?e(b):!b.collapsed()&&a.inBody(b.startContainer())&&a.inBody(b.endContainer())?
l(b):k(b.startContainer())}}})})(f,h,m);(function(e,f,h){e("9c",["g","e9","3u","8n","8e"],function(b,d,c,a,g){return function(k,e){var l=c.resolve("ops-eph-cursor");k.add(k.internal(),l,a.remove);k.add(k.output(),l,a.remove);var n=function(a){var b=function(b){b=d.diagnose(b)(l,a);b.cursor().each(function(a){g.inBody(a.startContainer())&&g.inBody(a.endContainer())&&e.getSelection().each(function(b){e.setSelection(a.startContainer(),a.startOffset(),a.endContainer(),a.endOffset())})});return b.result()};
return function(){return e.getSelection().fold(a,b)}};return{destroy:b.noop,run:function(a){return n(a)()}}}})})(f,h,m);(function(e,f,h){e("5d",["7v","9c","14","global!Array"],function(b,d,c,a){return function(a,c){var e=d(a,c);return{destroy:function(){},run:e.run,preserve:function(a){c.getSelection().each(function(d){var g=b.descend(d.startContainer(),d.startOffset());d=b.descend(d.endContainer(),d.endOffset());a(g.element(),d.element());c.setSelection(g.element(),g.offset(),d.element(),d.offset())})},
adapt:function(a){c.getSelection().each(function(b){e.run(function(){a(b.startContainer(),b.endContainer())})})},pure:function(a){c.getSelection().each(function(b){a(b.startContainer(),b.endContainer())})},atomic:function(a){return e.run(a)}}}})})(f,h,m);(function(e,f,h){e("9d","86 g 87 1f 40 j 1g 1r".split(" "),function(b,d,c,a,g,k,e,l){var n=function(a){a=k.fromTag(a);var c=k.fromText(b.zeroWidth());e.append(a,c);f(a);return a},f=function(a){g.add(a,c.styleSpan())},h=function(a,b,c,d){var g=n(d);
l.firstChild(g).each(function(d){a(c,g);b.setSelection(d,0,d,0)})};return{nu:n,style:f,keep:function(b){g.remove(b,c.styleSpan());""===a.get(b,"class")&&a.remove(b,"class")},insertAfter:d.curry(h,e.after),insertBefore:d.curry(h,e.before)}})})(f,h,m);(function(e,f,h){e("5e","86 g 9d 4v 1m 1s 1r".split(" "),function(b,d,c,a,g,k,e){return function(l){l.events.nodeChanged.bind(function(d){d.prev().each(function(d){a.temp(d).each(function(a){var d=g.get(a);1===e.children(a).length&&d===b.zeroWidth()?k.remove(a):
c.keep(a)})})});return{destroy:d.noop}}})})(f,h,m);(function(e,f,h){e("ax","86 g 7v 1p j 7r 1g 42 14 1s 2y 1r global!Math global!parseInt".split(" "),function(b,d,c,a,g,k,e,l,n,f,h,r,t,m){var u=function(b){var c=m(a.get(b,"paddingTop"),10),d=m(a.get(b,"paddingBottom"),10);b=r.owner(b);return h.get(b).top()-(c+d)},y=function(a,n){var h=c.descend(a,n),s=g.fromText(b.zeroWidth()),r=g.fromTag("span");e.append(r,s);e.before(h.element(),r);h=l.absolute(r);s=k.get(r);return{element:d.constant(r),bottom:d.constant(h.top()+
s),pos:d.constant(h),cleanup:function(){f.remove(r)}}};return{cursorIntoView:function(a){a.getSelection().each(function(b){a.body().each(function(c){var d=y(b.startContainer(),b.startOffset());c=u(c);var g=k.getInner(a.element());(d.bottom()>g+c||d.pos().top()<c)&&a.win().each(function(a){var b=d.pos();a.scrollTo(b.left(),b.top())});d.cleanup()})})},putInView:function(a,b,c){r.parent(c).each(function(d){var e=g.fromDom(a.dom().defaultView.frameElement),p=n.isText(c)?d:c,e=k.get(e);d=h.get(a);var p=
l.absolute(p),f=d.top(),q=f+e;(p.top()>q||p.top()<f)&&b.scrollTo(d.left(),t.max(0,p.top()-e/2))})},createMarker:y}})})(f,h,m);(function(e,f,h){e("np",["g","3x"],function(b,d){return function(c,a){return d.error({small:b.constant(c),big:b.constant(a)})}})})(f,h,m);(function(e,f,h){e("nq",["8","3x"],function(b,d){return{fold:function(c,a){return b.foldr(c,function(b,c){return b.bind(function(b){return a(c).map(function(a){return[a].concat(b)})})},d.value([]))}}})})(f,h,m);(function(e,f,h){e("nr",["7",
"r","np","nq","3x"],function(b,d,c,a,g){var k=function(a,b){var k=b.groups(),e=k[a];return void 0===e?c("Unknown group: "+a,["No binding for group: "+a+". Known groups: "+d.keys(k)]):g.value(e)},e=function(a,c){var d=b.isArray(a)?{label:"",items:a}:a;return g.value(d)},l=function(b,c,d,g,k){return a.fold(c,function(a){return k.item(a,d,g,k)}).map(function(a){return{category:b,items:a}})};return{build:function(a,c,d,g){return(b.isString(a)?k:e)(a,c).bind(function(a){return l(a.label,a.items,c,d,g)})}}})})(f,
h,m);(function(e,f,h){e("ns",["7","r","np","3x"],function(b,d,c,a){var g=function(b,g,k,e){g=g.commands();k=g[b];return void 0===k?c("Unknown command: "+b,["No binding for command: "+b+". Known commands: "+d.keys(g)]):a.value(k)},k=function(a,b,c,d){return(void 0===a.items?e:d.menu)(a,b,c,d)},e=function(a,b,d,g){return void 0===d?c("You need a custom action factory to use this",[]):d(a)};return{build:function(a,c,d,e){return(b.isString(a)?g:k)(a,c,d,e)}}})})(f,h,m);(function(e,f,h){e("nt","7 8 np nq 3x 7g".split(" "),
function(b,d,c,a,g,k){var e=function(a){return d.forall(a,b.isArray)?g.value(a):d.exists(a,b.isArray)?c("Menu items must be a single array or an array where every element is an array",["Menu items must be a single array or an array where every element is an array.","Contents of menu: "+k.stringify(a)]):g.value([a])};return{build:function(b,d,g,f){return void 0===b.label||void 0===b.items?c("Invalid toolbar configuration for menu",["Invalid menu. Must be an object containing label and items.","Contents of menu: "+
k.stringify(b)]):e(b.items).bind(function(b){return a.fold(b,function(a){return f.group(a,d,g,f)})}).map(function(a){return{name:b.id,textkey:b.label,type:"submenu",contentFocus:!1,enabled:!0,icon:b.icon,commands:a}})}}})})(f,h,m);(function(e,f,h){e("jp","7 8 r np nq nr ns nt 3x 7g".split(" "),function(b,d,c,a,g,k,e,l,n,f){var h=c.map({group:k.build,item:e.build,menu:l.build},function(a,b){return function(){if(4!==arguments.length)throw"Incorrect usage of builder ["+b+"]. Only given: "+arguments.length;
return a.apply(null,arguments)}}),r=function(c){if(void 0===c.items)return a("Invalid group, no items specified",["Invalid group, no items specified: "+c.label]);var g=c.items;return b.isArray(g)?(c=d.bind(g,function(a,c){return b.isString(a)||b.isArray(a)||void 0!==a.label&&b.isArray(a.items)?[]:"Invalid group at index: "+c+". Must be either a string, an array or an object containing label and items. Was: "+f.stringify(a)}),0===c.length?n.value(g):a("Invalid toolbar configuration for groups",c)):
a("Invalid toolbar, items is not an array",["Invalid toolbar, items is not an array: "+JSON.stringify(c)])};return{build:function(a,b,c){return r(a).bind(function(a){return g.fold(a,function(a){return h.group(a,b,c,h)})})}}})})(f,h,m);(function(e,f,h){e("jq",["k","t"],function(b,d){return function(c,a,g,k,e,l,n,f,h,r,t,m,u,y){f=(r=b.detect().deviceType.isTouch())?{feature:d.none()}:{feature:f.ui(),command:"fullscreen",type:"general"};y=r?{feature:y.ui(),command:"fileupload",type:"menu"}:{feature:y.ui(),
command:"fileupload",type:"general"};return{link:{feature:n.ui(),command:"link",type:"general"},fileupload:y,table:{feature:e.ui(),command:"table",type:"widget"},snippets:{feature:t.ui(),command:"snippet",type:"general"},emoticons:{feature:u.ui(),command:"emoticons",type:"widget"},undo:{feature:c.ui(),command:"undo",type:"general"},redo:{feature:c.ui(),command:"redo",type:"general"},styles:{feature:l.ui(),command:"blocktag",type:"dropdown"},bold:{feature:a.ui(),command:"bold",type:"general"},italic:{feature:a.ui(),
command:"italic",type:"general"},underline:{feature:a.ui(),command:"underline",type:"general"},strikethrough:{feature:a.ui(),command:"strikethrough",type:"general"},ul:{feature:l.ui(),command:"bullist",type:"general"},ol:{feature:l.ui(),command:"numlist",type:"general"},removeformat:{feature:a.ui(),command:"removeformat",type:"general"},alignment:{feature:g.ui(),command:"alignment",type:"dropdown"},outdent:{feature:g.ui(),command:"outdent",type:"general"},indent:{feature:g.ui(),command:"indent",type:"general"},
blockquote:{feature:g.ui(),command:"blockquote",type:"general"},"font-menu":{name:"font",textkey:"font.menu",type:"submenu",contentFocus:!1,commands:[{category:"Font-menu",items:[{feature:k.ui(),command:"fontface",type:"dropdown"},{feature:k.ui(),command:"fontsize",type:"inline-widget"},{feature:k.ui(),command:"fontcolor",type:"widget"}]}]},"font-face":{feature:k.ui(),command:"fontface",type:"dropdown"},"font-size":{feature:k.ui(),command:"fontsize",type:"inline-widget"},"font-color":{feature:k.ui(),
command:"fontcolor",type:"widget"},fullscreen:f,usersettings:{feature:h.ui(),command:"cog",type:"menu"}}}})})(f,h,m);(function(e,f,h){e("jr","7 r np g t 3x 49 7g".split(" "),function(b,d,c,a,g,k,e,l){return function(){return{make:function(n){var f=function(a){return c('Custom commands must have the property "'+a+'" and it must be a string',['The required property "'+a+'" for a custom command must be a string. It was: '+l.stringify(n[a]),"Properties specified in custom command: "+d.keys(n).join(", "),
"Definition specified for custom command: "+l.stringify(n)])};if(!b.isString(n.id))return f("id");if(!b.isString(n.text))return f("text");f={};f[n.id]=a.constant({general:function(){return{toggle:!1,value:n.id,textkey:e.raw(n.text),action:n.action,updateGeneral:a.identity,icon:void 0!==n.icon?n.icon:!1}}});return k.value({feature:g.some(f),command:n.id,type:"general"})}}}})})(f,h,m);(function(e,f,h){e("js",[],function(){var b={id:"insert",label:"insert.menu",items:["link","fileupload","table","emoticons"]};
return function(){return{undo:{label:"category.undo",items:["undo","redo"]},insert:{label:"category.insert",items:[b]},style:{label:"category.style",items:["styles"]},emphasis:{label:"category.emphasis",items:["bold","italic","underline"]},align:{label:"category.align",items:["alignment"]},listindent:{label:"category.listindent",items:["ul","ol","outdent","indent","blockquote"]},format:{label:"category.format",items:["font-menu","removeformat"]},tools:{label:"category.tools",items:["fullscreen","usersettings"]}}}})})(f,
h,m);(function(e,f,h){e("ea","jp 3 g jq jr js".split(" "),function(b,d,c,a,g,k){var e=g();return{config:function(g,n){return function(f,h,r,t,m,u,y,z,x,A,B,E,C,D){f=a(f,h,r,t,m,u,y,z,x,A,B,E,C,D);f=d.deepMerge(f,n);f={commands:c.constant(f),groups:k};return b.build({items:g},f,e.make)}}}})})(f,h,m);(function(e,f,h){e("eb",["1p","42","2y","global!Math","global!window"],function(b,d,c,a,g){return{update:function(k){var e=d.absolute(k).top()+10,l=c.get(),e=g.innerHeight+l.top()-e;b.setAll(k,{"max-height":a.max(0,
e),overflow:"auto"})}}})})(f,h,m);(function(e,f,h){e("9e",["g","ax","ea","eb"],function(b,d,c,a){return function(g,k){var e=k.items,l=function(k){return{init:function(){k.socket(g);g.events.scrollToCursor.bind(function(){d.cursorIntoView(g)});g.events.display.bind(function(b){a.update(b.element())})},loaded:b.noop,config:c.config(e,{}),destroy:b.noop}};return{tabbed:l,full:l,destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("ec",["g","49","4l","28","29"],function(b,d,c,a,g){return function(){var k=g.create({back:a([])});
return{ui:c.ui({"back.general":{toggle:!1,value:"mobile-back",textkey:d.key("mobile.backbutton"),action:function(){k.trigger.back()},updateGeneral:b.noop,icon:!0,label:!0}}),events:k.registry,destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("nu",[],function(){return{hasScroll:function(b){var d;(d=0<b.dom().scrollTop)||(b.dom().scrollTop=1,d=0!==b.dom().scrollTop,b.dom().scrollTop=0);return d}}})})(f,h,m);(function(e,f,h){e("jt",["nu","g","t","1q","1h"],function(b,d,c,a,g){var k=function(a){var b=a.dom().scrollTop,
d=a.dom().scrollHeight;a=a.dom().offsetHeight;return 0>=b?c.some(1):b+a>=d?c.some(d-a-1):c.none()},e=function(a){k(a).each(function(b){a.dom().scrollTop=b})},l=function(b,c){return a.bind(b,"touchstart",function(a){c(a.target()).each(e)})};return{fixEdges:e,exclusive:function(c,k){return a.bind(c,"touchmove",function(a){g.closest(a.target(),k).filter(b.hasScroll).fold(function(){a.raw().preventDefault()},d.noop)})},link:function(a,b){return l(a,d.constant(b))},ancestor:function(a,b){return l(a,function(a){return g.closest(a,
b)})},indirect:l}})})(f,h,m);(function(e,f,h){e("nv","t 28 29 1q j global!Math global!clearInterval global!setInterval global!window".split(" "),function(b,d,c,a,g,k,e,l,n){var f=function(a){return 90===k.abs(a)?"landscape":"portrait"},h=function(){return b.from(n.orientation).map(f)};return{get:h,onChange:function(){var b=c.create({ready:d(["orientation"]),change:d(["orientation"])}),k=g.fromDom(n),f=null,q=a.bind(k,"orientationchange",function(){e(f);var a=h();b.trigger.change(a);var c=n.innerHeight,
d=0;f=l(function(){if(c!==n.innerHeight||20<d)b.trigger.ready(a),e(f);d++},50)});return{events:b.registry,destroy:function(){q.unbind()}}}}})})(f,h,m);(function(e,f,h){e("ju","nv g t 1p j 2y 1r global!document global!window".split(" "),function(b,d,c,a,g,k,e,l,n){var f={landscape:c.none(),portrait:c.none()},h=function(){var a=g.fromDom(l),a=k.get(a),b=n.innerHeight;n.scrollTo(a.left(),l.body.scrollHeight);b-=n.innerHeight;n.scrollTo(a.left(),a.top());0<b&&t(b)},r=function(a){return 0<a.element().dom().contentWindow.getSelection().rangeCount},
t=function(a){b.get().each(function(b){f[b]=c.some(a)})},m=function(a){return b.get().bind(function(b){f[b].fold(h,d.noop);return f[b].filter(function(){return r(a)})}).getOr(0)};return{measure:h,resizeHeight:function(b,c){var d=e.parent(c).getOr(c);n.scrollTo(0,0);d=n.innerHeight-m(b)-d.dom().offsetTop;a.set(c,"height",d+"px");return d},iframeBodyHeight:function(b,c){b.body().each(function(d){a.set(d,"min-height",c+1+"px");a.set(b.element(),"min-height",c+1+"px")})},isVisible:r,getHeight:m}})})(f,
h,m);(function(e,f,h){e("jw",["g","3u"],function(b,d){return{scrollable:b.compose(b.constant,d.resolve)("scrollable")}})})(f,h,m);(function(e,f,h){e("f7",["3u","jw","40"],function(b,d,c){return{register:function(a){c.add(a,d.scrollable())}}})})(f,h,m);(function(e,f,h){e("nw",["1f","j","1g","1h"],function(b,d,c,a){return{tag:function(){var g=a.first("head").getOrDie(),k=a.first('meta[name="viewport"]').getOrThunk(function(){var a=d.fromTag("meta");b.set(a,"name","viewport");c.append(g,a);return a}),
e=b.get(k,"content");return{maximize:function(){b.set(k,"content","width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, maximum-scale=1.0")},restore:function(){void 0!==e&&null!==e&&0<e.length?b.set(k,"content",e):b.remove(k,"content")}}}}})})(f,h,m);(function(e,f,h){e("nx","8 g 49 3u 28 29 40 1p 1q j 1g 1s global!setTimeout".split(" "),function(b,d,c,a,g,k,e,l,n,f,h,r,t){return function(){var t=f.fromTag("div");e.add(t,a.resolve("disabled-mask"));var m=!1,y=f.fromTag("div");
e.add(y,a.resolve("content-container"));var z=f.fromTag("div");e.add(z,a.resolve("tap-icon"));h.append(y,z);var x=f.fromTag("div");e.add(x,a.resolve("disclosure"));h.append(x,f.fromText(c.translate("taptoedit")));h.append(y,x);h.append(t,y);var A=k.create({fullscreen:g([])}),B=function(a){var c=t.dom().getClientRects()[0];return b.forall(a,function(a){return a.pageY>=c.top&&a.pageY<=c.top+c.height&&a.pageX>=c.left&&a.pageX<=c.left+c.width})},E=[n.bind(t,"touchmove",function(a){m=!0}),n.bind(t,"touchend",
function(a){var b=a.raw().changedTouches;B(b)&&!m&&(a.kill(),A.trigger.fullscreen())}),n.bind(t,"touchstart",function(a){m=!1}),n.bind(t,"click",function(a){a.kill();A.trigger.fullscreen()})];return{element:d.constant(t),events:A.registry,destroy:function(){b.each(E,function(a){a.unbind()});r.remove(z);r.remove(x);r.remove(y);r.remove(t)},show:function(){l.remove(t,"display")},hide:function(){l.set(t,"display","none")}}}})})(f,h,m);(function(e,f,h){e("ny",["8","1f","1t"],function(b,d,c){return{clobberStyles:function(a){a=
c.ancestors(a,"*");b.each(a,function(a){var b=d.get(a,"style"),b=void 0===b?"no-styles":b.trim();"position:static!important;z-index:0!important;"!==b&&(d.set(a,"data-ephox-mobile-fullscreen-style",b),d.set(a,"style","position:static!important;z-index:0!important;"))})},restoreStyles:function(){var a=c.all("[data-ephox-mobile-fullscreen-style]");b.each(a,function(a){var b=d.get(a,"data-ephox-mobile-fullscreen-style");"no-styles"!==b?d.set(a,"style",b):d.remove(a,"style");d.remove(a,"data-ephox-mobile-fullscreen-style")})}}})})(f,
h,m);(function(e,f,h){e("jx","nw g t nx ny 3u 40 1p global!document".split(" "),function(b,d,c,a,g,k,e,l,n){return function(f){var h=b.tag(),r=c.none(),t=a();return{maximize:function(){r=c.some(n.body.scrollTop);l.set(t.element(),"display","none");e.add(f,k.resolve("fullscreen-maximized"));g.clobberStyles(f);h.maximize()},restore:function(){g.restoreStyles();e.remove(f,k.resolve("fullscreen-maximized"));h.restore();l.remove(t.element(),"display");r=r.bind(function(a){n.body.scrollTop=a;return c.none()})},
destroy:function(){t.destroy()},mask:d.constant(t)}}})})(f,h,m);(function(e,f,h){e("nz",["nu","t","jv","1p","1q"],function(b,d,c,a,g){return function(k,e){var l=0,n=d.none();a.remove(e,"height");var n=d.some(g.bind(c.doc(e),"DOMSubtreeModified",function(){0!==l&&f()})),f=function(){k.dom().scrollTop!==l&&(k.dom().scrollTop=l)},h=g.bind(k,"scroll",function(a){l=k.dom().scrollTop}),r=c.doc(e),t=g.bind(r,"touchmove",function(a){b.hasScroll(k)||a.raw().preventDefault()});return{restore:f,save:function(a){l=
a},destroy:function(){h.unbind();t.unbind();n.each(function(a){a.unbind()})}}}})})(f,h,m);(function(e,f,h){e("fj",["86","j","7r","1g","1s"],function(b,d,c,a,g){var k=d.fromText(b.zeroWidth());return{temporary:function(b){var e=d.fromTag("span");a.append(e,k);a.prepend(b,e);b=c.getOuter(e);g.remove(e);return b},enrich:function(b){a.append(b,k);b=c.getOuter(b);g.remove(k);return b}}})})(f,h,m);(function(e,f,h){e("ai","fh g t fi fj e9 2a 8e 1p 7r 14 7p global!parseInt".split(" "),function(b,d,c,a,g,
k,e,l,n,f,h,r,t){var m=function(a){var b=n.get(a,"display");return{backup:function(){n.set(a,"display","inline")},restore:function(){n.set(a,"display",b)}}},u={backup:d.noop,restore:d.noop},y=e.immutable("left","top","height"),z=function(b,c){return k.diagnose(b)(c,function(c){var d=r.isVisible(c)||"br"===h.name(c)?u:m(c);d.backup();var k;l.inBody(c)?(k=a.find(c),c=g.enrich(c)):(c=b.startContainer(),k=a.find(c),c=f.get(c));k=y(k.left(),k.top(),c);d.restore();return k})},x=function(k,e){var l=k.startContainer(),
p=k.startOffset();if("body"===h.name(l)&&0===p)var f=k.startContainer(),l=a.find(f),p=t(n.get(f,"padding-top"),10),q=t(n.get(f,"padding-left"),10),f=g.temporary(f),l=b({left:d.constant(l.left()+q),top:d.constant(l.top()+p),height:d.constant(f)},c.some(k));else l=z(k,e);return l},A=function(a,b,c,d){a.focus();b=x(b,d);b.cursor().each(function(b){a.setSelection(b.startContainer(),b.startOffset(),b.endContainer(),b.endOffset())});b=b.result();c(b)};return{insertAt:A,insertAtCursor:function(a,b,c){a.getSelection().each(function(d){A(a,
d,b,c)})}}})})(f,h,m);(function(e,f,h){e("o0","ju t ax ai 7r global!Math".split(" "),function(b,d,c,a,g,k){return{scrollTo:function(a,b,e){var f=c.createMarker(b,e);b=a.dom().scrollTop;var h=g.getInner(a);e=f.bottom()-b-h;f.cleanup();0<e?(f=a.dom().scrollHeight-h,b=k.min(f,k.max(0,b+e)),a.dom().scrollTop=b,a=a.dom().scrollTop===b?d.some(b):d.none()):a=d.none();return a},showcase:function(c,d){var k=d.dom().scrollTop,e=b.resizeHeight(c,d);b.iframeBodyHeight(c,e);a.insertAtCursor(c,function(a){a=a.top()>
g.get(d)?k+e:k;d.dom().scrollTop=a})}}})})(f,h,m);(function(e,f,h){e("jy","nv jt nz ju t o0 3u 1p 7n 7r global!document global!setTimeout global!window".split(" "),function(b,d,c,a,g,k,e,l,n,f,h,r,t){return function(m,u,y,z,x,A){var B=b.onChange(),E=g.none(),C=c(A,y),D=function(){u.body().each(function(a){l.set(y,"height",a.dom().clientHeight-1)})},F=function(){u.body().each(function(a){l.set(a,"min-height",t.innerHeight+1)})},G=function(){k.showcase(u,A);D();h.body.scrollTop=0},H=function(){u.body().each(function(a){h.body.scrollTop=
0})},J=function(){var b=a.resizeHeight(u,A);a.iframeBodyHeight(u,b);F();!0===a.isVisible(u)&&(D(),G())};return{exit:function(){u.body().each(function(a){E=E.bind(function(a){a.unbind();return g.none()});n.blur(a);l.remove(a,"padding-top");x.restore();B.events.change.unbind(H);B.events.ready.unbind(J)})},enter:function(b){u.body().each(function(b){x.maximize();E=g.some(d.exclusive(m,"."+e.resolve("scrollable")));h.body.scrollTop=0;z.toolbar.refresh();var c=f.get(z.toolbar.element())+1;l.set(b,"padding-top",
c);u.getSelection().orThunk(function(){u.setSelection(b,0,b,0)});n.focus(b);a.measure();F();G();B.events.change.bind(H);B.events.ready.bind(J);r(function(){l.set(b,"height","auto");D()},0)})},destroy:function(){B.destroy();C.destroy();E.each(function(a){a.unbind()})},fixTheHeight:G,scrollToCursor:function(){u.getSelection().each(function(a){k.scrollTo(A,a.startContainer(),a.startOffset()).each(C.save);D()})},shortBodyFix:F}}})})(f,h,m);f("global!Event",[],function(){return Event});(function(e,f,h){e("ed",
"8 jt ju g t jv f7 jx jy 3u jw 1f 40 1p 1q j 7n 1g 42 1h global!Event global!document global!setTimeout".split(" "),function(b,d,c,a,g,k,e,l,n,f,h,r,t,m,u,y,z,x,A,B,E,C,D){return function(F,G){var H=[],J=l(G.element()),M=y.fromDom(C),K=F.element(),P=y.fromTag("div"),L=!1,N=G.toolbar.element(),O=n(M,F,K,G,J,P);e.register(P);m.set(P,"height","100%");F.events.ready.bind(function(a){a=function(a){a.kill()};H=H.concat([u.bind(N,"touchstart",function(a){a.kill();var b=new E("Event");b.initEvent("mousedown",
!0,!0);a.target().dom().dispatchEvent(b);z.focus(F.element())}),u.bind(N,"touchmove",a),u.bind(N,"touchend",a)])});var V=function(a){x.append(G.element(),J.mask().element());O.shortBodyFix();J.mask().events.fullscreen.bind(function(a){O.enter()});F.events.focus.bind(function(a){O.fixTheHeight();O.scrollToCursor();C.body.scrollTop=0});F.events.focusOut.bind(function(b){"false"===r.get(a,"contenteditable")?(r.set(a,"contenteditable",!0),L=!1):O.fixTheHeight();C.body.scrollTop=0});var b=u.bind(a,"touchstart",
function(b){r.set(a,"contenteditable",!0);L=!1}),l=u.bind(a,"touchend",function(b){!1===L&&(O.fixTheHeight(),b.target().dom().scrollIntoViewIfNeeded(),F.getSelection().orThunk(function(){F.setSelection(b.target(),0,b.target(),0);z.focus(a)}))});H=H.concat([u.bind(a,"touchmove",function(){!1===c.isVisible(F)&&r.set(a,"contenteditable",!1);L=!0}),l,b,u.bind(k.doc(K),"gestureend",function(a){0.5>a.raw().scale&&S()}),d.link(k.doc(K),g.some(P)),d.ancestor(M,"."+h.scrollable())]);F.events.scrollToCursor.bind(O.scrollToCursor);
F.events.display.bind(function(a){D(function(){var b=a.element();e.register(b);var c=m.get(P,"height"),d=A.viewport(b),g=parseInt(c,10)-d.top()-5;m.setAll(b,{"max-height":g,overflow:"scroll"});B.ancestor(b,"."+f.resolve("card-layout-main")).each(function(a){m.setAll(a,{"max-height":g,overflow:"scroll"})})},0);z.focus(K)});G.toolbar.events.drawer.bind(function(b){m.set(a,"padding-top",b.total());O.scrollToCursor()})},S=function(){F.body().each(z.blur);F.element().dom().focus();F.element().dom().blur();
O.exit()};return{init:function(){t.add(G.element(),f.resolve("mobile-mask"));x.append(P,F.element());G.socket({element:a.constant(P)});t.add(G.element(),f.resolve("mobile-layout"))},loaded:function(){F.body().each(V)},restoreEditor:S,destroy:function(){F.body().each(z.blur);b.each(H,function(a){a.unbind()});O.destroy();J.destroy()}}}})})(f,h,m);(function(e,f,h){e("9f",["g","ec","ed","ea"],function(b,d,c,a){return function(g,k){var e=k.items;return{tabbed:function(b){var k=c(g,b),f=d();b=a.config([["back"]].concat(e),
{back:{feature:f.ui(),command:"back",type:"general"}});f.events.back.bind(function(){k.restoreEditor()});return{init:k.init,loaded:k.loaded,config:b,destroy:function(){k.destroy();f.destroy()}}},full:b.die("mobile does not support fullscreen layout"),destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("5f",["k","9e","9f"],function(b,d,c){return function(a,g){return(b.detect().deviceType.isTouch()?c:d)(a,g.toolbar)}})})(f,h,m);(function(e,f,h){e("5g",["g","28","29","9g"],function(b,d,c,a){return function(g){var k=
c.create({spelling:d(["value"]),autocorrect:d(["value"]),linkpreviews:d(["value"]),capitalisation:d(["value"]),analytics:d(["message"])}),e=a(g.spelling),l=a(g.autocorrect),n=a(g.linkpreviews),f=a(g.capitalisation);g=function(a,b,c){return function(){return{get:c.get,set:function(d){k.trigger.analytics(b+"_"+(d?"on":"off"));k.trigger[a](d);c.set(d)}}}};return{spelling:g("spelling","spellcheck",e),autocorrect:g("autocorrect","autocorrect",l),linkpreviews:g("linkpreviews","linkpreviews",n),capitalisation:g("capitalisation",
"capitalisation",f),state:function(){return{spelling:e.get(),autocorrect:l.get(),linkpreviews:n.get(),capitalisation:f.get()}},events:k.registry,destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("9h",["86","6t","g","j","1g"],function(b,d,c,a,g){var k=function(c,d,g){d.body().each(function(k){g.save();var e=a.fromHtml(b.zeroWidth());c(k,e);d.setSelection(e,0,e,0)})};return{upOrLeft:function(a,b,e){a.setRelativeSelection(d.before(e),d.before(e));a.getSelection().fold(function(){k(g.prepend,a,b)},c.noop)},
right:function(a,b,e){a.setRelativeSelection(d.after(e),d.after(e));a.getSelection().fold(function(){k(g.append,a,b)},c.noop)}}})})(f,h,m);(function(e,f,h){e("9i","8h t ee q 14 7o 1r".split(" "),function(b,d,c,a,g,k,e){var l=function(a){return"body"===g.name(a)};return{left:function(a,g){return l(a)&&b.isStart(a,g)?d.none():b.isStart(a,g)?c.before(a).filter(function(a){return!k.ancestor(a,"head")}):l(a)&&0<g?e.child(a,g-1):d.none()},right:function(a,g){return l(a)&&b.isEnd(a,g)?d.none():b.isEnd(a,
g)?c.after(a).filter(function(a){return l(a)||k.ancestor(a,"body")}):l(a)&&g<b.getEnd(a)?e.child(a,g+1):d.none()},isFirstInContent:function(b,c){return b.body().map(function(b){b=e.children(b);return a.eq(b[0],c)}).getOr(!1)},isLastInContent:function(b,c){return b.body().map(function(b){b=e.children(b);return 0<b.length&&a.eq(b[b.length-1],c)}).getOr(!1)}}})})(f,h,m);(function(e,f,h){e("9j",["8","t"],function(b,d){var c=function(a,b){return a.getSelection().bind(function(a){return a.collapsed()?b(a.startContainer(),
a.startOffset()):d.none()})},a=function(a,c){return b.foldr(a,function(a,b){return b(c).or(a)},d.none())};return{get:function(b,d,e){return c(b,e).bind(function(b){return a(d,b)})}}})})(f,h,m);(function(e,f,h){e("5h",["g","9h","9i","9j","1s"],function(b,d,c,a,g){return function(b,e,l){var n=e.all();n.on();var f=[];n.events.backspace.bind(function(){a.get(b,f,c.left).each(g.remove)});e=function(g){var e=g.stopper();a.get(b,f,c.left).each(function(a){e();d.upOrLeft(b,l,a)})};n.events.right.bind(function(g){var e=
g.stopper();a.get(b,f,c.right).each(function(a){e();d.right(b,l,a)})});n.events.left.bind(e);n.events.up.bind(e);return{registerSkip:function(a){f.push(a)},destroy:function(){n.destroy()}}}})})(f,h,m);(function(e,f,h){e("5i",["g","t","3r","3s"],function(b,d,c,a){return function(g,k){(k.error?d.some(k.error):d.none()).map(function(b){return c(a.get(b.name,b))}).each(g.displayBanner);return{destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("9k","8 3 e8 g 1q j".split(" "),function(b,d,c,a,g,k){return function(e){e=
d.merge({scopes:[k.fromDom(document)],shortcuts:[],swallow:!1},e);var l=c(e),n=[],f=[];b.each(e.scopes,function(a){n.push(g.bind(a,"keydown",l.keydown).unbind);f.push(g.bind(a,"keypress",l.keypress).unbind)});return{off:l.off,on:l.on,destroy:function(){b.each(n,a.apply);b.each(f,a.apply)},events:l.events,swallowShortcuts:l.swallowShortcuts,yieldShortcuts:l.yieldShortcuts,swallowChars:l.swallowChars,yieldChars:l.yieldChars,swallowKeys:l.swallowKeys,yieldKeys:l.yieldKeys}}})})(f,h,m);(function(e,f,
h){e("5j","8 k 9k 7j 28 29".split(" "),function(b,d,c,a,g,k){return function(e){var l=d.detect(),n=l.os.isOSX(),l=l.os.isLinux(),f=n?[[a.META(),"B"]]:[[a.CTRL(),"B"]],h=n?[[a.META(),"I"]]:[[a.CTRL(),"I"]],r=n?[[a.META(),"U"]]:[[a.CTRL(),"U"]],t=n?[[a.META(),"Z"]]:[[a.CTRL(),"Z"]],m;m=n?[[a.META(),a.SHIFT(),"Z"]]:l?[[a.CTRL(),"Y"],[a.CTRL(),a.SHIFT(),"Z"]]:[[a.CTRL(),"Y"]];var u=[[a.SHIFT(),121]],y=n?[[a.META(),a.SHIFT(),"F"]]:[[a.CTRL(),a.SHIFT(),"F"]],z=n?[[a.META(),a.SHIFT(),191]]:[[a.CTRL(),a.SHIFT(),
191]],x=n?[[a.META(),"J"]]:[[a.CTRL(),"J"]],A=n?[[a.ALT(),121]]:[[121]],B=n?[[a.META(),221]]:[[a.CTRL(),221]],E=n?[[a.META(),219]]:[[a.CTRL(),219]],C=n?[[a.META(),a.SHIFT(),"9"]]:[[a.CTRL(),a.SHIFT(),"9"]],D=n?[[a.META(),"K"]]:[[a.CTRL(),"K"]],F=b.flatten([f,C,h,r,B,E,t,m,u,y,z,D,A]),G=null;e.events.ready.bind(function(a){a=a.api();G=c({scopes:[a.doc()],shortcuts:F});G.swallowShortcuts(F);G.events.command.bind(function(a){a=a.command();b.contains(f,a)?H.trigger.bold():b.contains(h,a)?H.trigger.italic():
b.contains(r,a)?H.trigger.underline():b.contains(t,a)?H.trigger.undo():b.contains(m,a)?H.trigger.redo():b.contains(u,a)?H.trigger.context():b.contains(y,a)?H.trigger.fullscreen():b.contains(z,a)?H.trigger.help():b.contains(x,a)?H.trigger.snippet():b.contains(D,a)?H.trigger.link():b.contains(B,a)?H.trigger.indent():b.contains(E,a)?H.trigger.outdent():b.contains(C,a)?H.trigger.blockquote():b.contains(A,a)&&H.trigger.toolbar()});G.on()});var H=k.create({blockquote:g([]),bold:g([]),italic:g([]),underline:g([]),
indent:g([]),outdent:g([]),undo:g([]),redo:g([]),context:g([]),snippet:g([]),link:g([]),fullscreen:g([]),help:g([]),toolbar:g([])});return{events:H.registry,destroy:function(){G&&G.destroy()}}}})})(f,h,m);(function(e,f,h){e("eg",["2a"],function(b){return b.immutable("popup","anchor")})})(f,h,m);(function(e,f,h){e("9l",["8","ef","eg","7p"],function(b,d,c,a){return function(){var g=[],k=function(){g=b.filter(g,function(b){return a.isVisible(b.popup().panel())})};return{recalculate:function(){k();b.map(g,
function(a){a.anchor().recalculate(a.popup())})},dismiss:function(){k();b.map(g,function(a){a.popup().close()})},update:function(a,b){g=d.put(g,a,b,c,function(b){return b.popup()===a})},destroy:function(){}}}})})(f,h,m);(function(e,f,h){e("9m",["g","1q","2y"],function(b,d,c){return{bind:function(a,b){var k=c.get(a);return{unbind:d.bind(a,"scroll",function(d){d=c.get(a);d.top()===k.top()&&d.left()===k.left()||b(d);k=d}).unbind}}}})})(f,h,m);(function(e,f,h){e("5k","8 7j g 9l 3u 40 1q j 1g 7s 9m 1h 1u 1r global!document global!window".split(" "),
function(b,d,c,a,g,k,e,l,n,f,h,r,t,m,u,y){return function(u){var y=u.element(),x=a(),B=function(){return u.win().fold(c.constant(!1),function(a){return void 0!==a.focus})},A=null;u.events.loaded.bind(function(){A=h.bind(u.doc().getOrDie(),x.dismiss);f.bind(y,x.recalculate)});var C=l.fromTag("div");k.add(C,g.resolve("ui-container"));u.events.loaded.bind(function(){var a=r.ancestor(u.element(),"."+g.resolve("socket")).bind(m.parent).getOr(u.element());n.prepend(a,C)});var D=e.bind(C,"keydown",function(a){var g;
if(g=b.contains(d.BACKSPACE(),a.raw().which))g=a.target(),g=c.curry(t.is,g),g=!b.exists(["textarea","input",'[contenteditable="true"]'],g);g&&a.kill()});return{uiContainer:c.constant(C),show:function(a,b){x.update(a,b);b.place(a)},destroy:function(){null!==A&&B()&&A.unbind();f.unbind(y,x.recalculate);x.destroy();D.unbind()}}}})})(f,h,m);(function(e,f,h){e("5l",["1q","7o"],function(b,d){return function(c,a,g,k,e,l){var n=l.layout(c,a,g,k,e,l),f=b.bind(n.element(),"mousedown",function(a){d.closest(a.target(),
'input,div[contenteditable="true"],textarea')||a.prevent()});return{element:n.element,connect:n.connect,socket:n.socket,displayBanner:n.displayBanner,hideBanner:n.hideBanner,init:n.init,refocus:n.tabstrip.refocus,tabstrip:n.tabstrip,destroy:function(){n.destroy();f.unbind()}}}})})(f,h,m);(function(e,f,h){e("k0",["t"],function(b){return function(d){var c=void 0!==d?d.slice(0):[];return{pop:function(){return b.from(c.pop())},push:function(a){c.push(a)},peek:function(){return b.from(c[c.length-1])},
pushAll:function(a){c=c.concat(a)},clear:function(){c=[]},isEmpty:function(){return 0===c.length},size:function(){return c.length},state:function(){return c.slice(0)}}}})})(f,h,m);(function(e,f,h){e("eh",["8","k0"],function(b,d){return function(c){var a=c.initial,g=d(c.undo),k=d(c.redo),e=function(b,c){c(g.peek().getOr(a),b)||(g.isEmpty()&&g.push(a),g.push(b),k.clear())};return{save:e,undo:function(b,c){c(g.peek().getOr(a),b)||e(b,c);return g.pop().bind(function(a){g.isEmpty()||k.push(a);return g.peek()})},
redo:function(b,c){c(g.peek().getOr(a),b)||k.clear();return k.pop().bind(function(b){g.isEmpty()&&g.push(a);g.push(b);return g.peek()})},reset:function(b){a=b;g.clear();k.clear()},state:function(){return{initial:a,undo:g.state(),redo:k.state()}},rewrite:function(c){var e=c(a),p=b.map(g.state(),c);c=b.map(k.state(),c);a=e;g=d(p);k=d(c)}}}})})(f,h,m);(function(e,f,h){e("9n",["eh"],function(b){return{fromInitial:function(d){return b({initial:d,undo:[],redo:[]})},fromState:function(d){return b(d)}}})})(f,
h,m);(function(e,f,h){e("5m","8 g 65 49 4l 2a 8e 9n".split(" "),function(b,d,c,a,g,k,e,l){var f=k.immutable("clean","marked"),h=function(a){return f(a.clean,a.marked)},s=function(a,c){return{initial:c(a.initial),undo:b.map(a.undo,c),redo:b.map(a.redo,c)}},r=function(a){return{clean:a.clean(),marked:a.marked()}};return function(b,k,m,y,z){var x=l.fromState(s(z,h)),A=function(a,c){var d=b.filterHtml(b.internal(),a.clean()),g=b.filterHtml(b.internal(),c.clean());return d===g},B=function(){var a=b.filterHtml(b.history(),
k.getContent()),c=b.filterHtml(b.history(),k.serialize());return f(a,c)},E=function(a){return k.deserialize(a.marked())};z=function(){var a=B();x.undo(a,A).each(E)};var C=function(){var a=B();x.redo(a,A).each(E)},D=c.tap(function(){if(k.getSelectionStart().exists(e.inBody)){var a=B();x.save(a,A)}}),F=function(){D.instance()};m.editor().events.space.bind(F);m.editor().events.enter.bind(F);y.events.undo.bind(z);y.events.redo.bind(C);k.events.undoChanged.bind(F);k.events.loiter.bind(F);m=g.ui({"undo.general":{toggle:!1,
value:"undo",textkey:a.key("action.undo"),action:z,shortcut:!0,updateGeneral:d.identity},"redo.general":{toggle:!1,value:"redo",textkey:a.key("action.redo"),action:C,shortcut:!0,updateGeneral:d.identity}});return{undo:z,redo:C,save:F,reset:function(a){x.reset(f(a,a))},destroy:d.noop,state:function(){return s(x.state(),r)},rewrite:function(a,b){var c=function(c){return c.replace(a,b)};x.rewrite(function(a){return f(c(a.clean()),c(a.marked()))})},transaction:function(a){F();var b=D.control.isBlocked();
D.control.block();a();b||D.control.unblock();F()},ui:m}}})})(f,h,m);(function(e,f,h){e("by",["4c"],function(b){return{resolve:b.create("ephox-gel").resolve}})})(f,h,m);(function(e,f,h){e("7e","by 3 40 1p j 1g 1s 1h 7p".split(" "),function(b,d,c,a,g,k,e,l,f){return function(f,n){var h=d.merge({layerClass:null,zindex:null,padding:0,background:"rgba(0, 0, 0, 0.5)"},f),m=g.fromTag("div");c.add(m,b.resolve("modal"));c.add(m,b.resolve("modal-hidden"));a.setAll(m,{position:"fixed",left:h.padding,top:h.padding,
right:h.padding,bottom:h.padding});h.background&&a.set(m,"background",h.background);h.zindex&&a.set(m,"z-index",h.zindex);h.layerClass&&c.add(m,h.layerClass);var w=void 0!==n?n:l.first("body").getOrDie();k.append(w,m);return{element:function(){return m},content:function(a){e.empty(m);k.append(m,a)},show:function(){c.add(w,b.resolve("modal-active"));c.remove(m,b.resolve("modal-hidden"));c.add(m,b.resolve("modal-show"))},hide:function(){c.remove(w,b.resolve("modal-active"));c.add(m,b.resolve("modal-hidden"));
c.remove(m,b.resolve("modal-show"))},destroy:function(){e.remove(m);c.remove(w,b.resolve("modal-active"))}}}})})(f,h,m);(function(e,f,h){e("er","7e by 3 40 1p 1g 1s 1h".split(" "),function(b,d,c,a,g,k,e,l){return function(f){var h=c.deepMerge({layerClass:null,zindex:null,modal:{}},f);f=void 0!==f.container?f.container:l.first("body").getOrDie();var s=b(h.modal,f),r=s.element();h.zindex&&g.set(r,"z-index",h.zindex);h.layerClass&&a.add(r,h.layerClass);a.add(r,d.resolve("centered-dialog"));k.append(f,
r);return{content:function(a){e.empty(r);k.append(r,a)},show:function(){s.show()},hide:function(){s.hide()},destroy:function(){e.remove(r);s.destroy()}}}})})(f,h,m);(function(e,f,h){e("es","4b 3u 28 29 1f 40 1q j 7n 1g 2e 1s".split(" "),function(b,d,c,a,g,k,e,l,f,h,s,r){return function(){var m=function(a,b){var c=l.fromTag(a);k.add(c,d.resolve(b));return c},w=m("div","dialog-wrapper"),u=m("div","dialog"),y=m("div","top"),z=m("span","dialog-title"),x=m("span","dialog-close"),A=m("div","dialog-content"),
B=m("div","dialog-controls");g.set(u,"tabindex",-1);var E=e.bind(x,"click",function(){C.trigger.close()});s.append(u,[y,A,B]);s.append(y,[z,x]);h.append(w,u);var C=a.create({close:c([])});return{element:function(){return w},focus:function(){f.focus(u)},setTitle:function(a){r.empty(z);h.append(z,l.fromText(a));b.dialog(u,a)},setContent:function(a){r.empty(A);h.append(A,a)},setControls:function(a){r.empty(B);h.append(B,a)},destroy:function(){r.remove(w);E.unbind()},events:C.registry}}})})(f,h,m);(function(e,
f,h){e("9u",["er","es","3u"],function(b,d,c){return function(a){var g=d(),k=b({container:a,layerClass:c.resolve("layer-dialog"),modal:{layerClass:c.resolve("layer-below-dialog")}});k.content(g.element());return{element:g.element,destroy:function(){k.destroy()},setTitle:g.setTitle,setContent:g.setContent,setControls:g.setControls,show:function(){k.content(g.element());k.show();g.focus()},hide:function(){k.hide()},events:g.events}}})})(f,h,m);(function(e,f,h){e("a3","b3 b4 g 49 3u 29 3n 40 j 1g 2e".split(" "),
function(b,d,c,a,g,k,e,l,f,h,s){return{okCancel:function(h){var q=void 0!==h?h+"-":"";h=f.fromTag("div");l.add(h,g.resolve(q+"dialog-controls"));var m=b(q+"cancel");l.add(m.element(),g.resolve("dialog-cancel"));m.content(d(a.translate("button.cancel")));q=b(q+"ok");l.add(q.element(),g.resolve("dialog-ok"));q.content(d(a.translate("button.ok")));s.append(h,[m.element(),q.element()]);var u=k.create({ok:e([],q.events.click),cancel:e([],m.events.click)});return{element:c.constant(h),ok:c.constant(q),
cancel:c.constant(m),destroy:c.identity,events:u.registry}}}})})(f,h,m);(function(e,f,h){e("ei","g 9u 49 a3 3u 28 29 1f 40 j 7g global!window".split(" "),function(b,d,c,a,g,k,e,l,f,h,s,r){return function(m,w){var u=e.create({ok:k([]),close:k([])}),y=function(a){return"#"+encodeURIComponent(s.stringify(a))},z=function(){u.trigger.ok()};return{events:u.registry,open:function(){var b=function(a){"ephox-chess-login-close-popup"===a.data&&0===w.loginUrl.indexOf(a.origin)&&(p.hide(),u.trigger.ok())};r.addEventListener("message",
b);var k=h.fromTag("iframe"),e=w.loginUrl+y({isDialog:!0});l.setAll(k,{src:e,seamless:"seamless"});e=a.okCancel("login");e.events.ok.bind(function(){z()});e.events.cancel.bind(function(){p.hide();u.trigger.close()});var p=d(m);f.add(p.element(),g.resolve("login-dialog"));p.setTitle(c.translate("login.title"));p.setContent(k);p.setControls(e.element());p.events.close.bind(function(){r.removeEventListener("message",b);p.destroy();u.trigger.close()});p.show()},represent:b.noop,execute:z,destroy:b.noop}}})})(f,
h,m);(function(e,f,h){e("ej","g t 28 29 7g global!window".split(" "),function(b,d,c,a,g,k){return function(e){var l=d.none(),f=a.create({ok:c([])}),h=function(){l.fold(b.noop,function(a){a.close()})};k.addEventListener("message",function(a){"ephox-chess-login-close-popup"===a.data&&0===e.loginUrl.indexOf(a.origin)&&(f.trigger.ok(),h())});return{open:function(){var a=e.loginUrl,b;b="#"+encodeURIComponent(g.stringify({isPopup:!0}));a=k.open(a+b,"login","width=700,height=500,toolbar=0,menubar=0,location=1,status=1,scrollbars=1,resizable=1,left=0,top=0");
l=d.some(a)},hide:b.noop,destroy:function(){h()},represent:b.identity,events:f.registry}}})})(f,h,m);(function(e,f,h){e("br",["7j","g","28","29","3n"],function(b,d,c,a,g){return{generate:function(d,e,l){var f=function(){s.off();r();h.trigger.close()},h=a.create({ok:g(l,e.events.ok),close:c([])}),s=d.all();s.swallowKeys([b.ESCAPE(),b.ENTER()]);s.events.enter.bind(e.execute);s.events.escape.bind(f);e.events.close.bind(f);var r=function(){e.destroy();s.off();s.yieldKeys([b.ESCAPE(),b.ENTER()]);s.events.enter.unbind(e.execute);
s.events.escape.unbind(f);s.destroy()};return{open:function(){s.on();e.open()},hide:f,destroy:r,represent:e.represent,events:h.registry}}}})})(f,h,m);(function(e,f,h){e("9o",["k","ei","ej","br"],function(b,d,c,a){var g=function(b,c,g){c=d(c,g);return a.generate(b,c,[])},k=function(a,b,d){return c(d)};return{make:function(a,c,d){return(b.detect().browser.isIE()?g:k)(a,c,d)}}})})(f,h,m);(function(e,f,h){e("9p",["r","g","t","2a"],function(b,d,c,a){var g=a.immutable("spelling","autocorrect","capitalisation",
"linkpreviews");return function(a){var e=!1,l=c.none(),f=g(a.spelling(),a.autocorrect(),a.capitalisation(),a.linkpreviews());return{isLoggedIn:function(){return e},updateLogin:function(a){e=!0;l=c.some(a)},updatePreferences:function(a){f=a},getUsername:function(){return l.map(function(a){return{name:d.constant(a),loggedIn:d.constant(e)}})},getPreferences:function(){return b.map(f,function(a){return d.constant(a().get())})}}}})})(f,h,m);f("global!localStorage",[],function(){return localStorage});(function(e,
f,h){e("b6",["g","t","7g","global!localStorage"],function(b,d,c,a){var g={getItem:function(b){return a.getItem("ephox.textboxio."+b)},setItem:function(b,c){a.setItem("ephox.textboxio."+b,c)}},k=function(a){return d.from(g.getItem(a)).map(c.parse).getOr({})},e=function(a,b){var d=c.stringify(b);g.setItem(a,d)};return{read:k,write:e,access:function(a){return{read:b.curry(k,a),write:b.curry(e,a)}}}})})(f,h,m);(function(e,f,h){e("k1",["8","3","g"],function(b,d,c){var a=function(a){var b={},d=a.get();
b[a.name()]=c.constant(d);return b};return{refetch:function(c,k){var e=b.foldr(c,function(b,c){return d.merge(a(c),b)},{});k(e)}}})})(f,h,m);(function(e,f,h){e("ek",["8","3","b6","k1"],function(b,d,c,a){var g=c.access("local.settings");return function(c){var e=function(a,b){var c=g.read(),k={};k[a]=b;c=d.merge(c,k);g.write(c)},l=function(b){a.refetch(c,b)},f=function(a){var d=g.read();b.each(c,function(a){var b=a.parse(d);a.set(b)});l(a)};return{menu:function(a,d){b.each(c,function(b){a[b.event()].bind(function(a){a=
a.enabled();b.set(a);e(b.name(),a);l(function(a){d.trigger.preferences(a)})})})},fromLocal:f,fromService:f}}})})(f,h,m);(function(e,f,h){e("el",["8","g","3y","k1"],function(b,d,c,a){return function(g,k,e){var l=function(b){a.refetch(e,b)};return{menu:function(a,f){b.each(e,function(b){a[b.event()].bind(function(a){a=a.enabled();b.set(a);var e={};e[b.name()]=a;c.json().ajaxData(k.preferencesUrl+"/preferences",e,"POST",d.identity,d.identity,g.headers());l(function(a){f.trigger.preferences(a)})})})},
fromLocal:l,fromService:function(a){c.json().ajax(k.preferencesUrl+"/preferences","GET",function(c){b.each(e,function(a){var b=a.parse(c);a.set(b)});l(a)},d.identity,g.headers())}}}})})(f,h,m);(function(e,f,h){e("9q",["g","ek","el"],function(b,d,c){var a=function(a,c,d,g){return{name:b.constant(a),event:b.constant(c),set:d.set,get:d.get,parse:function(b){return void 0!==b[a]?b[a]:g}}},g=function(b){return[a("spelling","spellcheck",b.spelling(),!0),a("autocorrect","autocorrect",b.autocorrect(),!0),
a("capitalisation","capitalisation",b.capitalisation(),!1),a("linkpreviews","linkpreviews",b.linkpreviews(),!1)]};return{server:function(a,b,d){d=g(d);return c(a,b,d)},local:function(a,b,c){a=g(c);return d(a)}}})})(f,h,m);(function(e,f,h){e("9r","8 80 g t 4b 49 28 29 e2 40 j 1g 2e 1s global!document".split(" "),function(b,d,c,a,g,e,f,l,n,h,s,r,m,w,u){return function(y,z){var x=s.fromDom(u),A=l.create({login:f([]),logout:f([]),done:f([]),spellcheck:f(["enabled"]),capitalisation:f(["enabled"]),linkpreviews:f(["enabled"]),
autocorrect:f(["enabled"]),help:f([]),feedback:f([])}),B=d.mainmenu(x,"usersettings-menu",[]),E=function(a,b){var c=e.translate(b),l=d.item(x,a,c);g.menuItem(l,c);return l},C=E("login","cog.login"),D=E("logout","cog.logout"),F=function(a){var b=s.fromTag("li");r.append(b,s.fromText(a));return b}(e.translate("cog.not-logged-in")),G=E("spellcheck","cog.spellcheck"),H=E("capitalisation","cog.capitalisation"),J=E("autocorrect","cog.autocorrect"),M=E("linkpreviews","cog.linkpreviews"),K=function(a){return!0===
y[a]&&b.contains(z.menu,a)},E=b.flatten([!0===z.login?[F,C]:[],K("autocorrect")?[J]:[],K("spellcheck")?[G]:[],K("capitalisation")?[H]:[],K("linkpreviews")?[M]:[],E("help","cog.help"),E("feedback","cog.feedback")]);m.append(B,E);E=function(a){return function(b){h.toggle(b,"ephox-pastry-toggle-list-item-selected");b=h.has(b,"ephox-pastry-toggle-list-item-selected");a(b)}};K=function(a){return function(){a()}};E={login:K(A.trigger.login),spellcheck:E(A.trigger.spellcheck),capitalisation:E(A.trigger.capitalisation),
autocorrect:E(A.trigger.autocorrect),linkpreviews:E(A.trigger.linkpreviews),help:K(A.trigger.help),feedback:K(A.trigger.feedback),logout:K(A.trigger.logout)};return{element:c.constant(B),destroy:c.noop,structure:function(){return{}},init:function(a){},name:c.constant("usersettings"),textkey:c.constant(e.key("cog.menu")),icon:a.none,submenus:c.constant([]),handlers:c.constant(E),updateMenu:c.noop,events:A.registry,contentFocus:c.constant(!1),updateItems:function(a,c){if(!0===z.login){w.empty(F);var d=
a?e.translate("cog.user")+c:e.translate("cog.not-logged-in");r.append(F,s.fromText(d));b.each([C,D],w.remove);r.after(F,a?D:C)}},updateToggles:function(a){var b=function(a,b){(b?h.add:h.remove)(a,"ephox-pastry-toggle-list-item-selected")};b(G,a.spelling());b(J,a.autocorrect());b(H,a.capitalisation());b(M,a.linkpreviews())},layout:n.southwest,label:c.constant(!1)}}})})(f,h,m);(function(e,f,h){e("em",[],function(){return function(){var b=!1,d=null;return{login:function(c){d=c;b=!0},logout:function(){d=
null;b=!1},username:function(){return d},loggedIn:function(){return b}}}})})(f,h,m);(function(e,f,h){e("q7",["r","3","8j","7g"],function(b,d,c,a){var g=function(a,b){void 0!==b.authenticated&&(b.authenticated?a.updateSession(b):a.clearSession())},e=function(a,b){return function(c){c=c||{};g(a,c);a.updateCsrf(c);b(c)}},f=function(b,c){return function(d,e,k){k=void 0===k||""===k?{}:a.parse(k);g(b,k);c(d,e,k)}};return{ajax:function(g,n,h,s,r,m,w){w=d.merge({dataType:"json",type:h,xhrFields:{withCredentials:!0}},
w);0<b.keys(s).length&&(w.data=a.stringify(s));g.applyCsrf(h,w);c.ajax(n,e(g,r),f(g,m),w)}}})})(f,h,m);(function(e,f,h){e("o3",["q7"],function(b){return{request:function(d,c,a,g,e,f,l,n){d=d.route(a,g);b.ajax(c,d.url(),d.method(),e,f,l,n)}}})})(f,h,m);(function(e,f,h){e("k2",["o3"],function(b){return{get:function(d,c,a,g,e){b.request(d,c,"session.get",{},{},a,g,e)},login:function(d,c,a,g,e,f,l){b.request(d,c,"session.login",{},{login:a,password:g},e,f,l)},logout:function(d,c,a,g,e){if(null===c.session())a();
else{var f={session:c.session()};b.request(d,c,"session.logout",f,{},a,g,e)}}}})})(f,h,m);(function(e,f,h){e("o4",["3"],function(b){return function(){var d=null;return{update:function(b){void 0!==b.csrf&&(d=b.csrf)},set:function(c,a){"GET"!==c&&null!==d&&(a.headers=b.merge(a.headers||{},{"X-CSRF-Token":d}))}}}})})(f,h,m);(function(e,f,h){e("k3",["o4"],function(b){return function(d){var c=b();return{session:d.session,username:d.username,email:d.email,updateSession:d.update,clearSession:d.clear,applyCsrf:c.set,
updateCsrf:c.update}}})})(f,h,m);(function(e,f,h){e("en",["g","k2","k3"],function(b,d,c){return function(a,g){var e=c(g);return{get:b.curry(d.get,a,e),login:b.curry(d.login,a,e),logout:b.curry(d.logout,a,e),session:e.session}}})})(f,h,m);(function(e,f,h){e("k4",["2a"],function(b){return b.immutable("url","method")})})(f,h,m);(function(e,f,h){e("o5",["3"],function(b){var d={strictMode:!1,key:"source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},c=function(a,b){for(var c=b.parser[b.strictMode?"strict":"loose"].exec(a),d={},e=14;e--;)d[b.key[e]]=
c[e]||"";d[b.q.name]={};d[b.key[12]].replace(b.q.parser,function(a,c,e){c&&(d[b.q.name][c]=e)});return d};return{parse:function(a,g){var e=b.merge(d,g);return c(a,e)}}})})(f,h,m);(function(e,f,h){e("k5","8 r g 1d o5 global!RegExp".split(" "),function(b,d,c,a,g,e){return function(f){return{pattern:c.constant(f),get:function(a){var b=f;d.each(a,function(a,c){b=b.replace(new e("{"+c+"}","g"),a)});return b},match:function(c){c=g.parse(c).path.split("/");var d=f.split("/"),e={match:!1,variables:{}},k=
{match:!0,variables:{}};if(d.length!==c.length)return e;b.each(c,function(b,c){var g=d[c];a.startsWith(g,"{")&&a.endsWith(g,"}")?(g=a.removeTrailing(a.removeLeading(g,"{"),"}"),k.variables[g]=b):g!==b&&(k.match=!1)});return k.match?k:e}}}})})(f,h,m);(function(e,f,h){e("eo",["k4","k5"],function(b,d){return function(c){var a={"session.get":b(d(""),"GET"),"session.login":b(d(""),"POST"),"session.logout":b(d("/{session}"),"DELETE")};return{route:function(d,e){var f=a[d];return b(c+f.url().get(e),f.method())}}}})})(f,
h,m);(function(e,f,h){e("ep",[],function(){return function(){var b=null,d=null,c=null;return{session:function(){return b},username:function(){return d},email:function(){return c},update:function(a){b=a.session;d=a.username;c=a.email},clear:function(){c=d=b=null}}}})})(f,h,m);(function(e,f,h){e("9s",["g","em","en","eo","ep"],function(b,d,c,a,g){return function(e){e=a(e.url);var f=g(),l=c(e,f),n=d();return{user:b.constant(n),session:b.constant(f),sessions:b.constant(l),router:b.constant(e),get:function(){return{email:f.email}}}}})})(f,
h,m);(function(e,f,h){e("5n","g t 9o 4l 9p 9q 9r 9s 28 29 global!console global!document".split(" "),function(b,d,c,a,g,e,f,l,n,h,m,r){return function(d,r,u,y,z,x,A){var B=h.create({done:n([]),login:n(["username","email"]),initialLogin:n(["username","email"]),logout:n([]),help:n([]),feedback:n([]),analytics:n(["message","username","email"])}),E=h.create({preferences:n(["preferences"]),user:n(["loggedIn","username"])}),C=g(r),D=l(A),F=e.local(d,A,r),G=c.make(y,z.uiContainer(),A);G.events.ok.bind(function(){B.trigger.done();
D.sessions().get(function(a){B.trigger.initialLogin(a.username,a.email);J(a)},M)});var H=function(a){B.trigger.analytics("login",a.username,a.email);D.user().login(a.username);F.fromService(function(a){C.updatePreferences(a);E.trigger.preferences(a)});C.updateLogin(a.username);E.trigger.user(!0,a.username);B.trigger.login(a.username,a.email)},J=function(a){!1!==a.authenticated&&H(a)},M=function(a){m.log("session failure:");m.log(a)},K=function(){G.open();B.trigger.done()},P=function(a){var b=function(a,
b){a.bind(function(){b()})};b(a.events.done,B.trigger.done);b(a.events.help,B.trigger.help);b(a.events.feedback,B.trigger.feedback);a.events.login.bind(K);a.events.logout.bind(function(){D.sessions().logout(function(){B.trigger.analytics("logout","","");D.user().logout();E.trigger.user(!1,"");B.trigger.done();B.trigger.logout()},function(){m.log("logout failed.")},d.headers())});E.registry.preferences.bind(function(b){a.updateToggles(b.preferences())});E.registry.user.bind(function(b){a.updateItems(b.loggedIn(),
b.username())});C.getUsername().each(function(b){a.updateItems(b.loggedIn(),b.name())});a.updateToggles(C.getPreferences());F.menu(a.events,E)};r=a.ui({"cog.menu":function(){var a=f(x,A);P(a);return a}},b.identity);u=a.actions({showLogin:K});return{init:function(){F.fromLocal(function(a){E.trigger.preferences(a)});!0===A.login&&D.sessions().get(J,M,d.headers())},ui:r,actions:u,destroy:function(){G.destroy()},events:B.registry,get:D.get}}})})(f,h,m);(function(e,f,h){e("38","8 g 55 56 57 58 59 5a 5b 5c 5d 5e 5f 5g 5h 5i 5j 5k 5l 5m 5n 28 29 global!console".split(" "),
function(b,d,c,a,g,e,f,l,n,h,m,r,t,w,u,y,z,x,A,B,E,C,D,F){var G=function(){var a=D.create({login:C([]),logout:C([])});return{init:function(){a.trigger.login()},authorised:function(a,b){return b()},destroy:d.noop,events:a.registry}};return function(C,D){var M=c(C),K=w(D.profile),P=f(),L=a(P,C.content,D.content),N=z(L),O=x(L),V=l(L,N,C.fullscreen),S=t(L,C.platform),I=A(L,N,O,S,V,C.ui),X=n(L,I),Z=B(P,L,X,N,D.undo),Y=u(L,X,Z),ja=m(P,L),ca=e(L,Z,C.editorcontext),$=E(M,K,L,X,O,{spellcheck:C.spelling.bundled,
autocorrect:C.spelling.bundled,capitalisation:!0},C.usersettings),aa=!0===C.usersettings.login?h(I,$):G(),W=y(I,C.registration),T=g(L,X,N,O,C.contextmenu),v=r(L);return{communication:d.constant(M),profile:d.constant(K),filter:d.constant(P),content:d.constant(L),keyboard:d.constant(X),shortcuts:d.constant(N),smartview:d.constant(O),undo:d.constant(Z),proximity:d.constant(Y),operations:d.constant(ja),context:d.constant(ca),fullscreen:d.constant(V),platform:d.constant(S),users:d.constant($),locker:d.constant(aa),
registration:d.constant(W),contextmenu:d.constant(T),ui:d.constant(I),state:function(){return{undo:Z.state(),content:L.state(),profile:K.state()}},destroy:function(){b.each([v,T,W,I,aa,$,S,V,ca,ja,Y,Z,O,N,X,L,P,K,M],function(a){a.destroy?a.destroy():F.log("Feature missing destroy method: ",a)})}}}})})(f,h,m);(function(e,f,h){e("eq",["4c"],function(b){return{resolve:b.create("ephox-blab").resolve}})})(f,h,m);(function(e,f,h){e("1v",["1a"],function(b){return{set:function(d,c){var a=d.dom();b(a).val(c)},
get:function(d){d=d.dom();return b(d).val()}}})})(f,h,m);(function(e,f,h){e("9t","eq 28 29 1f 40 1p 1q j 7n 1g 2e 1s 1v".split(" "),function(b,d,c,a,g,e,f,l,n,h,m,r,t){return function(){var w=l.fromTag("div");g.add(w,b.resolve("feedback-container"));var u=l.fromHtml("<p>Let us know if something is broken or tell us what you think.</p>");g.add(u,b.resolve("feedback-label"));var y=l.fromTag("input");g.add(y,b.resolve("feedback-input"));a.set(y,"placeholder","Email");var z=l.fromTag("textarea");g.add(z,
b.resolve("feedback-area"));var x=l.fromHtml("<button>Send</button>");g.add(x,b.resolve("feedback-submit"));var A=function(){a.set(x,"disabled","disabled");e.set(E,"display","block");e.set(C,"display","none");F.trigger.submit(D())},B=f.bind(x,"click",A),E=l.fromHtml("<p>sending feedback...</p>");g.add(E,b.resolve("feedback-spinner"));var C=l.fromHtml("<p/>");g.add(C,b.resolve("feedback-error"));m.append(w,[u,y,z]);var D=function(){return{email:t.get(y),blob:t.get(z)}},F=c.create({submit:d(["feedback"]),
close:d([])}),G=l.fromTag("span");m.append(G,[x,E,C,l.fromHtml('<div style="clear: both;" />')]);return{defaultAction:function(){n.hasFocus(z)||A()},element:function(){return w},controls:function(){return G},destroy:function(){r.remove(w);B.unbind()},focus:function(){z.dom().focus()},reset:function(){t.set(z,"");a.remove(x,"disabled");e.set(E,"display","none");e.set(C,"display","none")},error:function(b){a.remove(x,"disabled");e.set(E,"display","none");e.set(C,"display","block");r.empty(C);h.append(C,
l.fromText(b))},getContent:D,events:F.registry,setContent:function(a){t.set(y,a.email)}}}})})(f,h,m);(function(e,f,h){e("9v",["3y","global!window"],function(b,d){return{submit:function(c,a,g,e,f){b.json().ajaxData(g,{product:"textbox.io/polish",url:d.location.href,email:e.email,blob:e.blob},"POST",function(){a.reset();f()},function(){a.error("There was an error submitting your feedback. Please try again.")},c.headers())}}})})(f,h,m);f("global!confirm",[],function(){return confirm});(function(e,f,
h){e("5o","9t 7j 9u 9v 3u 28 29 40 1q j global!confirm global!document global!window".split(" "),function(b,d,c,a,g,e,f,l,n,h,m,r,t){return function(r,t,y,z,x){var A=h.fromHtml("<div>feedback</div>");l.add(A,"ephox-polish-feedback-tab");n.bind(A,"click",function(){C()});var B=c(z);B.events.close.bind(function(a){D()});var E=b();E.events.submit.bind(function(b){a.submit(r,E,y,b.feedback(),D)});var C=function(){B.show();H.on();E.focus();F.trigger.analytics("feedback_opened");var a=x().get();E.setContent({email:a.email()})},
D=function(){""===E.getContent().blob||m("Discard your feedback?")?(H.off(),E.reset(),B.hide(),F.trigger.close(),F.trigger.analytics("feedback_closed"),E.destroy(),B.destroy(),H.off(),H.yieldKeys([d.ESCAPE()]),H.events.escape.unbind(G),H.events.enter.unbind(E.defaultAction),H.destroy()):E.focus()},F=f.create({close:e([]),analytics:e(["message"]),escaped:e([])}),G=function(){D();F.trigger.escaped()},H=t.all();H.swallowKeys([d.ESCAPE()]);H.events.escape.bind(G);H.events.enter.bind(E.defaultAction);
B.setTitle("Feedback");B.setContent(E.element());B.setControls(E.controls());l.add(B.element(),g.resolve("feedback-dialog"));return{show:C,element:function(){return A},events:F.registry}}})})(f,h,m);(function(e,f,h){e("39",["g","5o","28","29","global!window"],function(b,d,c,a,g){return function(d,e,l){d.communication();d.content();d.smartview();d.keyboard();e=a.create({analytics:c(["message"])});d.users().events.feedback.bind(function(){g.location="mailto:"+l.mailto+"?Subject=Editor Feedback"});return{events:e.registry,
destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("2p",["t","3r","3s"],function(b,d,c){return function(a){var g=b.none(),e=function(c){f();c=d(c);c.events.close.bind(function(){g=b.none()});g=b.some(c);a().displayBanner(c)},f=function(){g.each(a().hideBanner);g=b.none()};return{show:e,showKey:function(a){a=c.get(a);e(a)},hide:f}}})})(f,h,m);(function(e,f,h){e("2o",["3","3q"],function(b,d){var c=d.generate([{blob:"id mimeType size blob objurl data".split(" ")},{url:["id","url","raw"]}]);return b.merge(c,
{cata:function(a,b,c){return a.fold(b,c)}})})})(f,h,m);(function(e,f,h){e("a0","1n 3u 2a 1f 1p aq 7r 1h 7t global!Math global!parseInt".split(" "),function(b,d,c,a,g,e,f,l,n,h,m){var r=c.immutable("width","height");return{insert:function(c,g){var e=b.generate(d.resolve("image-id"));c.execCommand("InsertHtml",!1,'<img id="'+e+'" src="'+g+'"></img>');var k=c.body().bind(function(a){return l.descendant(a,"#"+e)});k.each(function(b){a.remove(b,"id")});return k},fitToScreen:function(a,b){var c=n.getOuter(a.element()),
d=a.body().map(function(a){var b=g.get(a,"padding-left");a=g.get(a,"padding-right");return m(b,10)+m(a,10)}).getOr(0),l=e.bind(b,"load",function(){var a=n.getOuter(b),g=f.getOuter(b),e=a/(g+0);a>c?(a=c-d,e=r(a,h.floor(a/e))):e=r(a,g);n.set(b,e.width());f.set(b,e.height());l.unbind()})}}})})(f,h,m);(function(e,f,h){e("5p","8 2o 6u a0 1f j".split(" "),function(b,d,c,a,g,e){var f=function(c,f){return b.map(f,function(b){var f=e.fromTag("img");a.fitToScreen(c,f);b=d.cata(b,function(a,b,c,d,g,e){return g},
function(a,b,c){return b});g.set(f,"src",b);return f})};return{insertMobileAssets:function(a,b,d,g){var e=f(a,g);a=c.insertAt(a,b,e);d.uploadAssets(g);return a},insertAssets:function(a,b,d){var g=f(a,d);a.focus();c.insertAtCursor(a,g);b.uploadAssets(d)}}})})(f,h,m);(function(e,f,h){e("k6",["4c"],function(b){return{resolve:b.create("ephox-hermes").resolve}})})(f,h,m);(function(e,f,h){e("1o",["1"],function(b){var d=function(c,a){for(var d=a||b,e=0;e<c.length&&void 0!==d&&null!==d;++e)d=d[c[e]];return d};
return{path:d,resolve:function(b,a){var g=b.split(".");return d(g,a)}}})})(f,h,m);(function(e,f,h){e("1b",["1o"],function(b){return{getOrDie:function(d){var c=b.resolve(d);if(void 0===c)throw d+" not available on this browser";return c}}})})(f,h,m);(function(e,f,h){e("k7",["1b"],function(b){return function(){return new (b.getOrDie("FileReader"))}})})(f,h,m);(function(e,f,h){e("3t",["1b"],function(b){return{createObjectURL:function(d){return b.getOrDie("URL").createObjectURL(d)},revokeObjectURL:function(d){b.getOrDie("URL").revokeObjectURL(d)}}})})(f,
h,m);(function(e,f,h){e("eu","8 1n k 2o k7 3t 2a".split(" "),function(b,d,c,a,g,e,f){var l=f.immutable("id","obj","objurl");c=c.detect();var n=function(c,d){0===c.length&&d([]);var e=[],k=function(a,b){var c=g();c.onload=function(c){b(a,c.target)};c.readAsDataURL(a)};b.each(c,function(b){var g=b.id(),l=b.obj(),f=b.objurl(),p=l.type,n=l.size;k(l,function(b,k){var l=a.blob(g,p,n,b,f,k);e.push(l);e.length===c.length&&d(e)})})};f=function(a){return 1===a.length&&b.contains(a,"Files")};var h=function(a){return!b.contains(a,
"text/_moz_htmlcontext")},m=function(a){return b.contains(a,"Files")},r=function(a){return!0};c=c.browser.isChrome()||c.browser.isSafari()||c.browser.isOpera()?m:c.browser.isFirefox()?h:c.browser.isIE()?f:r;return{blob:l,toAssets:function(a,c){var g=b.map(a,function(a){return l(d.generate("image"),a,e.createObjectURL(a))});n(g,c)},toFiles:function(a){return a.raw().target.files||a.raw().dataTransfer.files},isFiles:c,fromImages:function(c){return b.map(c,function(b){var c=d.generate("image");return a.url(c,
b.src,b)})},fromBlobs:n}})})(f,h,m);(function(e,f,h){e("et","k6 eu g 28 29 1f 40 1q j 1v".split(" "),function(b,d,c,a,g,e,f,l,n,h){var m=function(){var r=g.create({upload:a(["files"])}),m=n.fromTag("input");f.add(m,b.resolve("hidden"));f.add(m,b.resolve("file-selector-input"));e.setAll(m,{type:"file",accept:"image/*"});var s=l.bind(m,"change",function(a){a=d.toFiles(a);r.trigger.upload(a)});return{element:c.constant(m),open:function(){h.set(m,"");m.dom().click()},destroy:function(){s.unbind()},events:r.registry}};
return{single:m,multiple:function(){var a=m();e.set(a.element(),"multiple","multiple");return{element:a.element,open:a.open,destroy:a.destroy,events:a.events}}}})})(f,h,m);(function(e,f,h){e("a1",["et","eu","28","29"],function(b,d,c,a){return function(){var g=b.single(),e=a.create({upload:c(["assets"])});g.events.upload.bind(function(a){d.toAssets(a.files(),function(a){e.trigger.upload(a)})});return{element:g.element,open:g.open,destroy:g.destroy,events:e.registry}}})})(f,h,m);f("global!prompt",[],
function(){return prompt});(function(e,f,h){e("5q","1n 80 a1 2o g t 4b 49 28 29 j 2e global!document global!prompt".split(" "),function(b,d,c,a,g,e,f,l,n,h,m,r,t,w){return function(){var u=h.create({insertAsset:n(["asset"]),open:n([]),done:n([])}),y=m.fromDom(t),z=d.mainmenu(y,"file-upload-menu",[]),x=function(a,b){var c=d.item(y,a,l.get(b));f.menuItem(c,l.get(b));return c},A=x("from-url",l.key("image.from-url")),x=x("from-camera",l.key("image.from-camera")),A=[A,x],B=c();B.events.upload.bind(function(a){e.from(a.assets()[0]).each(function(a){u.trigger.insertAsset(a)})});
r.append(z,A);return{element:g.constant(z),destroy:g.noop,structure:g.constant({}),init:g.noop,name:g.constant("image"),icon:e.none,textkey:g.constant(l.key("image.menu")),submenus:g.constant([]),handlers:g.constant({"from-url":function(){u.trigger.open();var c=w("Insert image URL:");void 0!==c&&null!==c&&0<c.length&&(c=a.url(b.generate("image"),c,null),u.trigger.insertAsset(c))},"from-camera":function(){u.trigger.open();B.open()}}),updateMenu:g.noop,events:u.registry,contentFocus:g.constant(!1),
label:g.constant(!1)}}})})(f,h,m);(function(e,f,h){e("k9",[],function(){var b={"fileupload.title":"Insert Images","fileupload.tablocal":"Local Files","fileupload.tabweburl":"Web URL","fileupload.dropimages":"Drop Images Here","fileupload.or":"or","fileupload.chooseimage":"Choose Image to Upload","fileupload.weburlhelp":"If your URL is correct, you'll see an image preview here. Large images may take a while to appear.","fileupload.invalid1":"We can't find an image at the URL you're using","fileupload.invalid2":"Check your url for typing errors",
"fileupload.invalid3":"Make sure the image that you are accessing is public and not password protected or on a private network"};return{get:function(d){var c=b[d];return void 0!==c?c:d},has:function(d){return void 0!==b[d]}}})})(f,h,m);(function(e,f,h){e("f2","k6 eu 28 29 40 1q".split(" "),function(b,d,c,a,g,e){return{register:function(f){var l=a.create({dragover:c(["original"]),dragleave:c(["original"]),drop:c(["original"]),dragndrop:c(["original","files"])}),h=function(a,c){return function(d){d.kill();
a(f,b.resolve("drop-active"));c(d)}},q=e.bind(f,"dragover",h(g.add,l.trigger.dragover)),m=e.bind(f,"dragleave",h(g.remove,l.trigger.dragleave)),r=e.bind(f,"drop",function(a){h(g.remove,l.trigger.drop)(a);var b=d.toFiles(a);l.trigger.dragndrop(a,b)});return{destroy:function(){q.unbind();m.unbind();r.unbind()},events:l.registry}}}})})(f,h,m);(function(e,f,h){e("k8","k9 f2 et k6 b3 b4 g 40 j 1g 2e".split(" "),function(b,d,c,a,g,e,f,l,h,q,m){return function(){var r=c.multiple(),t=h.fromTag("div");l.add(t,
a.resolve("drop-container"));var w=d.register(t),u=g();u.content(e(b.get("fileupload.chooseimage")));l.add(u.element(),a.resolve("default-action"));l.add(u.element(),a.resolve("file-selector-trigger"));var y=h.fromTag("p");l.add(y,a.resolve("help-text-drop-icon"));var z=h.fromTag("p");l.add(z,a.resolve("help-text-drop"));q.append(z,h.fromText(b.get("fileupload.dropimages")));var x=h.fromTag("p");l.add(x,a.resolve("help-text-or"));q.append(x,h.fromText(b.get("fileupload.or")));m.append(t,[y,z,x,u.element(),
r.element()]);return{container:f.constant(t),dropper:f.constant(w),picker:f.constant(r),button:f.constant(u)}}})})(f,h,m);(function(e,f,h){e("ev","k8 eu g 28 29 3n".split(" "),function(b,d,c,a,g,e){return function(){var f=b(),l=f.picker(),h=f.container(),q=f.dropper(),m=f.button(),r=g.create({upload:a(["assets"]),dragndrop:a(["assets"]),dragover:e([],q.events.dragover),dragleave:e([],q.events.dragleave),drop:e([],q.events.drop)}),t=function(a){return function(b){d.toAssets(b.files(),function(b){a(b)})}};
l.events.upload.bind(t(r.trigger.upload));q.events.dragndrop.bind(t(r.trigger.dragndrop));m.events.click.bind(l.open);return{element:c.constant(h),events:r.registry,destroy:function(){f.destroy()}}}})})(f,h,m);(function(e,f,h){e("ka","2o k6 g 1f 40 global!Math".split(" "),function(b,d,c,a,g,e){return{previewAsset:function(e,k){b.cata(e,c.die("asset should not be a file type"),function(b,c,e){g.add(k,d.resolve("fluid-image"));a.set(k,"src",c)})}}})})(f,h,m);f("global!Image",[],function(){return Image});
(function(e,f,h){e("o6","k6 g 28 29 40 j global!Image".split(" "),function(b,d,c,a,g,e,f){return function(){var l=a.create({fail:c(["url","image"]),success:c(["url","image"]),start:c(["url"])}),h=e.fromTag("div"),q=g.toggler(h,b.resolve("url-indicator-loading"));return{spinner:d.constant(h),go:function(a){l.trigger.start(a);q.on();var b=new f;b.onload=function(){q.off();(!0===b.complete?l.trigger.success:l.trigger.fail)(a,b)};b.onerror=function(c){q.off();l.trigger.fail(a,b)};b.src=a},destroy:d.noop,
events:l.registry,reset:function(){q.off()}}}})})(f,h,m);(function(e,f,h){e("kb","k6 eu o6 g n6 t 28 29 1f 40 1q j 1g 2e 1v global!Image".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t,w,u,y){return function(){var y=l.create({success:f(["assets"]),invalidUrl:f(["url"]),lookup:f([])}),x=[],A=c();A.events.fail.bind(function(a){y.trigger.invalidUrl(a.url());x=[]});A.events.success.bind(function(a){var b=u.get(D);a.url()===b?(x=d.fromImages([a.image()]),y.trigger.success(x)):A.go(b)});var B=r.fromTag("div");
q.add(B,b.resolve("url-selector"));var E=r.fromTag("label"),C=r.fromText("Web Image URL:");q.add(E,b.resolve("url-input-label"));t.append(E,C);var D=r.fromTag("input");h.set(D,"placeholder","http://...");q.add(D,b.resolve("url-input"));h.set(D,"type","url");w.append(B,[E,D,A.spinner()]);var F=g(A.go,1E3),G=m.bind(D,"input",function(){var a=u.get(D);y.trigger.lookup();F.throttle(a)});return{element:a.constant(B),events:y.registry,reset:function(){A.reset();u.set(D,"")},selected:function(){return e.from(x[0])},
destroy:function(){G.unbind();A.destroy()}}}})})(f,h,m);(function(e,f,h){e("ew","1a 8 k9 k6 ka kb g 28 29 40 j 1g 2e 1s global!Image".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t,w,u){return function(){var b=h.create({lookup:l([]),success:l([])}),u=m.fromHtml("<div>"+c.get("fileupload.weburlhelp")+"</div>");q.add(u,a.resolve("fileupload-weburl-help"));var x=m.fromHtml("<div>"+c.get("fileupload.invalid1")+"<ul><li>"+c.get("fileupload.invalid2")+"</li><li>"+c.get("fileupload.invalid3")+"</li></ul></div>");
q.add(x,a.resolve("fileupload-weburl-help"));q.add(x,a.resolve("fileupload-weburl-help-invalid"));var A=function(a){w.empty(D);r.append(D,a)},B=function(a){var b=m.fromTag("img");r.append(D,b);g.previewAsset(a,b)},E=m.fromTag("div");q.add(E,a.resolve("web-url-container"));var C=e(),D=m.fromTag("div");q.add(D,a.resolve("image-preview-container"));var F=m.fromTag("div");q.add(F,a.resolve("hbox"));t.append(F,[C.element(),D]);r.append(E,F);C.events.lookup.bind(function(a){b.trigger.lookup();w.empty(D)});
C.events.success.bind(function(a){w.empty(D);d.each(a.assets(),B);b.trigger.success()});C.events.invalidUrl.bind(function(a){w.empty(D);A(x)});A(u);return{element:f.constant(E),selected:C.selected,events:b.registry,reset:function(){A(u);C.reset()},destroy:function(){C.destroy()}}}})})(f,h,m);(function(e,f,h){e("ex","8 c3 b4 81 g 28 29 2a 1f 40 j 1g 2e".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t){return function(h,n,y){var z=[],x=l.immutable("view","item","container"),A=f.create({setActive:e(["item"])}),
B=m.fromTag("div");q.add(B,a.resolve("tablayout-wrapper"));q.add(B,a.resolve("tablayout-wrapper-"+h));void 0!==y&&q.add(B,y);var E=m.fromTag("div");q.add(E,a.resolve("tablayout-body"));var C=m.fromTag("div");q.add(C,a.resolve("tablayout-menu"));t.append(B,[C,E]);var D=function(b){var g=d(b);g.content(c(b));q.add(g.element(),b);q.add(g.element(),a.resolve("tablayout-item"));return g};b.each(n,function(b){var c=D(b.heading());r.append(C,c.element());var d=m.fromTag("div");q.add(d,a.resolve("tablayout-content"));
r.append(E,d);var g=x(b,c,d);z.push(g);c.events.click.bind(function(){F(g)})});var F=function(c){b.each(z,function(b){var d=b.view(),g=b.item(),e=b.container();b===c?(q.add(e,a.resolve("tablayout-active")),g.select(),d.renderer().render(e),A.trigger.setActive(g)):(q.remove(e,a.resolve("tablayout-active")),g.deselect())})};h=g.noop;F(z[0]);return{element:function(){return B},destroy:h,events:A.registry}}})})(f,h,m);(function(e,f,h){e("ey",["1g","1s"],function(b,d){return function(c){return{render:function(a){d.empty(a);
b.append(a,c)}}}})})(f,h,m);(function(e,f,h){e("ez",["2a"],function(b){return b.immutable("heading","renderer")})})(f,h,m);(function(e,f,h){e("f0",["g"],function(b){return{left:b.constant("left"),top:b.constant("top")}})})(f,h,m);(function(e,f,h){e("a2","ev ew ex ey ez f0 g 49 29 3n j 1g".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r){return function(){var t=m.fromTag("div"),w=b(),u=d(),y=function(b,c){var d=l.translate(b),e=a(c);return g(d,e)},y=[y("fileupload.tablocal",w.element()),y("fileupload.tabweburl",
u.element())],z=c(e.top(),y,"file-upload"),w=h.create({upload:q(["assets"],w.events.upload),dragndrop:q(["assets"],w.events.dragndrop),dragover:q([],w.events.dragover),dragleave:q([],w.events.dragleave),drop:q([],w.events.drop),lookup:q([],u.events.lookup),success:q([],u.events.success),setActive:q(["item"],z.events.setActive)});r.append(t,z.element());return{element:f.constant(t),events:w.registry,reset:function(){u.reset()},selected:u.selected,destroy:function(){z.destroy()}}}})})(f,h,m);(function(e,
f,h){e("5r","9u a2 49 a3 3u 28 29 40 global!confirm global!document global!window".split(" "),function(b,d,c,a,g,e,f,l,h,q,m){return function(h,n,q){var m=a.okCancel("file-upload"),s=d(m),z=n.all(),x=f.create({close:e([]),analytics:e(["message"]),escaped:e([]),insertAssets:e(["assets"])}),A=function(){z.off();C.hide();x.trigger.close();x.trigger.analytics("insert_image_closed");E()},B=function(){s.selected().each(function(a){x.trigger.insertAssets([a]);A()})},E=function(){s.reset();m.ok().disable()};
z.events.escape.bind(function(){A();x.trigger.escaped()});var C=b(q);C.setTitle(c.translate("fileupload.title"));C.setContent(s.element());C.setControls(m.element());C.events.close.bind(A);l.add(C.element(),g.resolve("imageupload-dialog"));s.events.upload.bind(function(a){x.trigger.insertAssets(a.assets());A()});s.events.dragndrop.bind(function(a){x.trigger.insertAssets(a.assets());A()});s.events.success.bind(function(a){m.ok().enable();z.events.enter.bind(B)});s.events.lookup.bind(function(a){z.events.enter.unbind(B);
m.ok().disable()});s.events.setActive.bind(function(a){E()});m.events.ok.bind(B);m.events.cancel.bind(A);E();return{show:function(){C.show();z.on();x.trigger.analytics("insert_image_opened")},element:C.element,events:x.registry,destroy:function(){z.off();C.hide();C.destroy();s.destroy();m.destroy();z.destroy()}}}})})(f,h,m);(function(e,f,h){e("a4",["f2","eu","28","29"],function(b,d,c,a){return{forImages:function(g){g=b.register(g);var e=a.create({dragover:c([]),dragleave:c([]),drop:c([]),dragndrop:c(["assets"])}),
f=function(a,b){a.bind(function(a){d.isFiles(a.original().raw().dataTransfer.types)&&b()})};g.events.dragndrop.bind(function(a){d.toAssets(a.files(),function(a){e.trigger.dragndrop(a)})});f(g.events.dragover,e.trigger.dragover);f(g.events.dragleave,e.trigger.dragleave);f(g.events.drop,e.trigger.drop);return{destroy:g.destroy,events:e.registry}}}})})(f,h,m);(function(e,f,h){e("a5",["g","3u","40","j","1g"],function(b,d,c,a,g){return function(){var e=a.fromTag("div"),f=a.fromTag("div"),l=c.toggler(e,
d.resolve("socket-hide"));c.add(e,d.resolve("socket-drop-wrapper"));c.add(f,d.resolve("socket-drop-container"));g.append(e,f);return{element:b.constant(e),on:l.off,off:l.on,destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("5s","k a4 a5 3u 28 29 1g 1h".split(" "),function(b,d,c,a,g,e,f,l){return function(h){var q=e.create({insertAssets:g(["assets"])}),m=h.content().doc().getOrDie("content must be ready before constructing socket drop");h=l.child(h.ui().element(),"."+a.resolve("socket")).getOrDie();var r=
c();f.prepend(h,r.element());var t=d.forImages(r.element());t.events.dragleave.bind(r.off);t.events.dragndrop.bind(function(a){q.trigger.insertAssets(a.assets());r.off()});var w=d.forImages(m);w.events.dragover.bind(r.on);b.detect().browser.isFirefox()&&(t.events.dragover.bind(r.on),w.events.dragleave.bind(r.off),w.events.drop.bind(r.off));r.off();return{events:q.registry,destroy:function(a){t.destroy();w.destroy();r.destroy()}}}})})(f,h,m);(function(e,f,h){e("5t",["8","2o","g"],function(b,d,c){var a=
["image"],g=function(c,d,g,e,f,h){return b.exists(a,function(a){return-1<d.indexOf(a)})};return{validate:function(a){a=b.foldl(a,function(a,b){return!1===d.cata(b,g,c.constant(!0))?{assets:a.assets,failure:!0}:{assets:a.assets.concat([b]),failure:a.failure}},{assets:[],failure:!1});return{assets:c.constant(a.assets),failure:c.constant(a.failure)}}}})})(f,h,m);(function(e,f,h){e("3a","g t 2p 5p 5q 5r 5s 5t 49 4l 28 29".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r){return function(t,w,u){var y=t.content(),
z=t.smartview(),x=d.none(),A=c(t.ui),B=function(c){c=c.assets();c=l.validate(c);(c.failure()?b.curry(A.showKey,"fileupload.invalidimages"):A.hide)();a.insertAssets(y,w,c.assets())};y.events.loaded.bind(function(){var a=f(t);a.events.insertAssets.bind(B);x=d.some(a)});var E=y.cursor();u=r.create({analytics:m(["message"])});return{ui:q.ui({"fileupload.general":b.constant({value:"image",textkey:h.key("insert.image"),icon:!0,updateGeneral:b.identity,action:function(){var a=e(y,t.keyboard(),z.uiContainer());
a.events.insertAssets.bind(B);a.events.close.bind(function(){t.ui().tabstrip.focused()||y.focus();a.destroy()});a.events.escaped.bind(function(){t.ui().refocus();a.destroy()});a.show()}}),"fileupload.menu":function(){var b=g();b.events.insertAsset.bind(function(b){E.get().bind(function(c){a.insertMobileAssets(y,c,w,[b.asset()])})});b.events.open.bind(function(a){y.getSelection().each(E.save)});return b}},b.identity),events:u.registry,destroy:function(){x.each(function(a){a.destroy()})}}}})})(f,h,
m);(function(e,f,h){e("5u",["g","4v","8a"],function(b,d,c){var a=function(a,b,c,e){c.save();b.on(function(b){a(b,e,d.isAnnotation)});c.save();b.focus()};return{face:b.curry(a,c.face),background:b.curry(a,c.background),foreground:b.curry(a,c.foreground),size:b.curry(a,c.size)}})})(f,h,m);(function(e,f,h){e("5v",["2a"],function(b){return b.immutable("value","textkey","icon")})})(f,h,m);(function(e,f,h){e("5w",["g","t","49","2a"],function(b,d,c,a){var g=a.immutable("hex","classes","name"),e=a.immutable("textkey",
"value","icon");a=a.immutable("name","size");g=[g("#FFF",["color-highlight-dark","color-option-white"],"white"),g("#000",["color-highlight-light"],"black"),g("#444",["color-highlight-light"],"gray"),g("#777",["color-highlight-light"],"metal"),g("#CCC",["color-highlight-light"],"smoke"),g("#FC1D00",["color-highlight-light"],"red"),g("#C81500",["color-highlight-light"],"darkred"),g("#FF8C00",["color-highlight-dark"],"darkorange"),g("#FEBE00",["color-highlight-dark"],"orange"),g("#FFFC00",["color-highlight-dark"],
"yellow"),g("#22AE50",["color-highlight-dark"],"green"),g("#006400",["color-highlight-dark"],"darkgreen"),g("#3CB371",["color-highlight-dark"],"mediumseagreen"),g("#8FCD4E",["color-highlight-dark"],"lightgreen"),g("#00FF00 ",["color-highlight-dark"],"lime"),g("#0000CD",["color-highlight-dark"],"mediumblue"),g("#002360",["color-highlight-light"]," navy"),g("#0173C1",["color-highlight-light"],"blue"),g("#14B2F2",["color-highlight-dark"],"lightblue"),g("#ee82ee",["color-highlight-light"],"violet")];
d=[e(c.key("font.arial"),"Arial",d.none()),e(c.key("font.comicsans"),"Comic Sans MS",d.none()),e(c.key("font.consolas"),"Consolas",d.none()),e(c.key("font.courier"),"Courier",d.none()),e(c.key("font.georgia"),"Georgia",d.none()),e(c.key("font.impact"),"Impact",d.none()),e(c.key("font.tahoma"),"Tahoma",d.none()),e(c.key("font.timesnr"),"Times New Roman",d.none()),e(c.key("font.trebuchet"),"Trebuchet MS",d.none()),e(c.key("font.verdana"),"Verdana",d.none())];c=[a("font.small","10px"),a("font.medium",
"13px"),a("font.large","18px"),a("font.huge","32px")];return{colours:b.constant(g),faces:b.constant(d),sizes:b.constant(c)}})})(f,h,m);(function(e,f,h){e("f3","b4 kc g 49 3u 40 j 1g 1s".split(" "),function(b,d,c,a,g,e,f,l,h){return function(){var q=f.fromTag("div");e.add(q,g.resolve("color-widget"));var m=f.fromTag("div");e.add(m,g.resolve("color-widget-controls"));var r=f.fromTag("div");e.add(r,g.resolve("color-widget-palettes"));var t=d("text-color");t.content(b(a.translate("font.color")));var w=
d("highlight-color");w.content(b(a.translate("font.highlight")));l.append(m,t.element());l.append(m,w.element());l.append(q,m);l.append(q,r);return{element:c.constant(q),colorToggle:c.constant(t),highlightToggle:c.constant(w),content:c.constant(r),controls:c.constant(m),destroy:function(){t.destroy();w.destroy();h.remove(r);h.remove(m)}}}})})(f,h,m);(function(e,f,h){e("a6","8 g 5w f3 dk dl 3u 29 3n 40 4h 1p 1g".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t){return function(){var w=function(a){var c=
g(a.hex());m.add(c.element(),b.map(a.classes(),f.resolve));q.add(c.element(),f.resolve("palette-color-option"));r.set(c.element(),"background-color",a.hex());return c},u=function(a){var c=e();q.add(c.element(),f.resolve("palette-color-options"));a=b.map(a,w);b.each(a,c.add);return c},y=u(c.colours()),z=u(c.colours()),u=l.create({color:h(["value"],y.events.selected),highlight:h(["value"],z.events.selected)}),x=a(),A=x.colorToggle(),B=x.highlightToggle();A.events.click.bind(function(){z.hide();B.deselect();
y.show()});B.events.click.bind(function(){y.hide();A.deselect();z.show()});A.click();t.append(x.content(),y.element());t.append(x.content(),z.element());return{element:x.element,destroy:function(){y.destroy();z.destroy();x.destroy()},open:d.noop,close:d.noop,events:u.registry}}})})(f,h,m);(function(e,f,h){e("5x","g 5u a6 49 28 29 3n".split(" "),function(b,d,c,a,g,e,f){return{widget:function(l){var h=l.content(),q=l.undo();l=c();var m=e.create({color:f(["value"],l.events.color),highlight:f(["value"],
l.events.highlight),done:g([])});l.events.color.bind(function(a){d.foreground(h,q,a.value());m.trigger.done()});l.events.highlight.bind(function(a){d.background(h,q,a.value());m.trigger.done()});return{element:l.element,name:b.constant("color"),textkey:b.constant(a.key("font.coloroption")),open:l.open,close:l.close,updateWidget:b.noop,ability:b.noop,destroy:l.destroy,events:m.registry,label:b.constant(!1)}}}})})(f,h,m);(function(e,f,h){e("f4","8 7j b3 g 4b 49 3u 28 29 40 1q j 1g 2e 1s global!Math".split(" "),
function(b,d,c,a,g,e,f,l,h,q,m,r,t,w,u,y){return function(y){var x=h.create({plus:l([]),minus:l([]),validate:l([])}),A=c(),B=c(),E=r.fromTag("div"),C=r.fromTag("div"),D=r.fromTag("input");g.input(D,e.translate("font.size"));q.add(C,f.resolve("font-stepper-input"));q.add(E,f.resolve("font-stepper-options"));q.add(A.element(),f.resolve("font-stepper-increase"));q.add(B.element(),f.resolve("font-stepper-decrease"));t.append(C,D);w.append(E,[A.element(),B.element()]);w.append(y,[C,E]);A.events.click.bind(function(){x.trigger.plus()});
B.events.click.bind(function(){x.trigger.minus()});var F=m.bind(D,"keydown",function(a){b.contains(d.ENTER(),a.raw().which)&&x.trigger.validate()});y=q.toggler(D,f.resolve("invalid-font-size"));return{destroy:function(){A.destroy();B.destroy();F.unbind();u.remove(D)},highlight:y.on,dehighlight:y.off,input:a.constant(D),events:x.registry}}})})(f,h,m);f("global!Number",[],function(){return Number});(function(e,f,h){e("f6","t 3x 3v 3q 1p j 1z global!Math global!Number".split(" "),function(b,d,c,a,g,
e,f,l,h){var q=a.generate([{special:["size"]},{regular:["value","size","unit"]}]),m=function(a){a=a.match(/(\d*\.?\d*)(.*)/);return""!==a[1]?q.regular(a[0],h(a[1]),a[2]):q.special(a[0])},r=function(a){var b=f.pNum(a)?"px":"";return a+b},t=function(a){return(g.isValidValue("span","font-size",a)?b.some(a):b.none()).fold(function(){return d.error("Invalid value: "+a)},function(b){return b===a?d.value(a):d.error("Invalid value: "+a)})},w=function(a){return m(a).fold(function(a){return a},function(a,b,
c){return l.round(10*b)/10+c})};return{identify:m,validate:function(a){return(c.isEmpty(a)?d.error("can not use empty value for font size."):d.value(a)).map(r).map(w).bind(t)},sanitise:function(a){return w(a)}}})})(f,h,m);(function(e,f,h){e("f5","7 8 g t f6 global!Math global!Number".split(" "),function(b,d,c,a,g,e,f){var l="xx-small x-small small medium large x-large xx-large".split(" "),h={px:1,em:0.1,"%":10,pt:1,rem:"0.1"};f=function(c,f,p){return g.identify(p).fold(function(b){var g=d.indexOf(l,
b);return(-1<=g?a.some(l[c(g)]):a.none()).getOr(b)},function(a,c,d){a=void 0!==h[d]?h[d]:1;var g=f*(void 0!==h[d]?h[d]:1);return(b.isNumber(c)&&0<=c?e.max(a,c+g):a)+d})};return{decrease:c.curry(f,function(a){return e.max(0,a-1)},-1),increase:c.curry(f,function(a){return e.min(l.length-1,a+1)},1)}})})(f,h,m);(function(e,f,h){e("a7","g f4 f5 f6 3u 28 29 40 j 1s 1v".split(" "),function(b,d,c,a,g,e,f,l,h,q,m){return function(){var r=h.fromTag("div"),t=d(r);l.add(r,g.resolve("font-size-widget"));l.add(r,
g.resolve("menu-widget"));var w=function(b){var c=m.get(t.input());b=b(c);b=a.sanitise(b);m.set(t.input(),b);u.trigger.action(b);t.dehighlight()};t.events.validate.bind(function(b){b=m.get(t.input());a.validate(b).fold(function(){t.highlight()},function(a){m.set(t.input(),a);u.trigger.action(a);t.dehighlight()})});t.events.plus.bind(function(a){w(c.increase)});t.events.minus.bind(function(a){w(c.decrease)});var u=f.create({close:e([]),action:e(["value"])});return{element:b.constant(r),destroy:function(){t.destroy();
q.remove(r)},updateInlineWidget:function(c,d){var e=function(b){a.validate(b).each(function(a){m.set(t.input(),a);t.dehighlight()})};c.size().fold(function(){e(d);l.add(r,g.resolve("default-font-size"))},b.noop,function(a){e(a);l.remove(r,g.resolve("default-font-size"))})},open:b.noop,close:b.noop,events:u.registry}}})})(f,h,m);(function(e,f,h){e("a8","t 3v 4m 2a 1p 14 51 1r global!Number".split(" "),function(b,d,c,a,g,e,f,l,h){var q=a.immutable("size"),m=function(a){var b=a.dom();if(!b.style)return!1;
b=b.style.fontSize;return"body"!==e.name(a)&&!d.isEmpty(b)},r=function(a){var c=e.isText(a)?l.parent(a).getOrDie():a;return(m(c)?b.some(c):f.ancestor(c,m)).fold(function(){return g.get(c,"font-size")},function(a){return a.dom().style.fontSize})};return{size:function(a){a=a.getSelection().fold(c.off,function(a){a=r(a.startContainer());return c.on(a)});return q(a)},defaultSize:function(a){return a.body().bind(function(a){a=g.get(a,"font-size");return b.from(a)})}}})})(f,h,m);(function(e,f,h){e("5y",
"g 5u a7 49 a8 28 29".split(" "),function(b,d,c,a,g,e,f){return{widget:function(l){var h=l.content(),q=l.undo(),m=c(),r=f.create({done:e([])});m.events.close.bind(function(a){r.trigger.done()});m.events.action.bind(function(a){h.focus();d.size(h,q,a.value())});return{element:m.element,item:m.item,name:b.constant("size"),textkey:b.constant(a.key("font.size")),open:m.open,close:m.close,updateInlineWidget:function(){var a=g.size(h),b=g.defaultSize(h).getOr("12px");m.updateInlineWidget(a,b)},ability:b.noop,
destroy:m.destroy,events:r.registry}}}})})(f,h,m);(function(e,f,h){e("5z",["7","3v","4m","1d"],function(b,d,c,a){var g=function(a,b){var g=a.queryCommandValue(b);return d.isEmpty(g)?c.off():c.on(g)};return{face:function(c){return g(c,"FontName").map(function(c){return b.isString(c)&&a.contains(c,"Arial")?"Arial":c})}}})})(f,h,m);(function(e,f,h){e("3b","8 g t 5u 5v 4j 4t 5w 5x 5y 49 5z 4l 4m 28 29 global!document".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t,w,u,y,z){return function(z){var x=z.content(),
B=z.undo(),A=l.faces(),C=y.create({analytics:u(["message","properties"])}),D=c.some(f.face),F=function(a){var d=a.charAt(0)===a.charAt(a.length-1)&&"'"==a.charAt(0)?a.slice(1,a.length-1):a;a=b.find(A,function(a){return a.value()===d});var e=g(d,m.raw(d),c.none());return void 0!==a&&null!==a?a:e};return{ui:t.ui({"fontface.dropdown":d.constant({name:"fontface",textkey:m.key("font.face"),updateDropdown:function(a){var b=r.face(x).map(F);e.updateDropdown(a,b,w.on(),A,D);a.populate([{label:c.none,items:d.constant(A)}])},
action:function(b){a.face(x,B,b)},values:A,render:D}),"fontcolor.widget":d.curry(h.widget,z),"fontsize.widget":d.curry(q.widget,z)},d.identity),events:C.registry,destroy:d.noop}}})})(f,h,m);(function(e,f,h){e("o7",["8j","3","7g"],function(b,d,c){return{get:function(a,c,e,f){b.ajax(a,c,e,d.merge({dataType:"text",type:"GET"},f))},post:function(a,g,e,f,l){b.ajax(a,e,f,d.merge({dataType:"text",data:c.stringify(g),type:"POST"},l))}}})})(f,h,m);(function(e,f,h){e("kd","o7 g t 3u 40 j 1g 1s".split(" "),
function(b,d,c,a,g,e,f,l){return function(h){var q=c.none(),m=function(a,b){var d=b.replace("@@FULL_VERSION@@","1.0.0.1443");q=c.some(d);r(a,d)},r=function(b,c){var d=e.fromHtml(c);l.empty(b);g.remove(b,a.resolve("tablayout-loading"));f.append(b,d)};return{render:function(c){q.fold(function(){g.add(c,a.resolve("tablayout-loading"));var e=d.curry(m,c);b.get(h,e,d.noop,{contentType:"text/html"})},function(a){r(c,a)})}}}})})(f,h,m);(function(e,f,h){e("f8",["k","ez","kd"],function(b,d,c){return function(a){var g=
b.detect(),e=a.baseUrl+"/help/"+a.locale+"/";a=[d("Formatting",c(e+"formatting.html")),d("Images, Links, & Media",c(e+"insert.html")),d("Tables",c(e+"tables.html")),d("Spelling & Autocorrect",c(e+"spelling.html")),d("Markdown Formatting",c(e+"markdown.html")),d("About",c(e+"about.html"))];e=d("Keyboard Shortcuts",c(e+"shortcuts.html"));g.deviceType.isTouch()||a.unshift(e);return a}})})(f,h,m);(function(e,f,h){e("a9","8 ex f0 9u f7 f8 3u 40 1r".split(" "),function(b,d,c,a,g,e,f,l,h){return function(q,
m){var r=a(q),t=e(m),w=d(c.left(),t,"help");l.add(r.element(),f.resolve("help-modal"));t=h.children(w.element());b.each(t,g.register);r.setTitle("Help");r.setContent(w.element());return{element:r.element,events:r.events,open:function(){r.show()},destroy:function(){w.destroy();r.destroy()},hide:function(){r.hide()}}}})})(f,h,m);(function(e,f,h){e("60",["7j","a9","28","29","global!document"],function(b,d,c,a,g){return function(g,e,l){var f=d(e,l),h=g.all();h.swallowKeys([b.ESCAPE()]);var m=function(){r.trigger.analytics("help_screen_hide");
r.trigger.close();f.events.close.unbind(m);f.destroy();h.yieldKeys([b.ESCAPE()]);h.off();h.events.escape.unbind(t);h.destroy()},r=a.create({close:c([]),analytics:c(["message"]),escaped:c([])}),t=function(){m();r.trigger.escaped()};h.events.escape.bind(t);f.events.close.bind(m);return{show:function(){r.trigger.analytics("help_screen_show");h.on();f.open()},events:r.registry}}})})(f,h,m);(function(e,f,h){e("3c","k g 60 49 4l 28 29 global!setTimeout".split(" "),function(b,d,c,a,g,e,f,l){var h=!1===b.detect().deviceType.isTouch()?
d.noop:function(a){l(function(){a.blur()},0)};return function(b,l){var m=b.content(),t=b.keyboard(),w=b.smartview(),u=b.shortcuts(),y=f.create({analytics:e(["message"])}),z=function(){var a=c(t,w.uiContainer(),l);a.events.close.bind(function(){b.ui().tabstrip.focused()||m.focus()});a.events.analytics.bind(function(a){y.trigger.analytics(a.message())});a.events.escaped.bind(function(){b.ui().refocus()});a.show();h(m)};u.events.help.bind(z);u=g.ui({"help.general":{toggle:!1,value:"help",textkey:a.key("cog.help"),
action:z,updateGeneral:d.noop,icon:!0,hasPopup:!1}});b.users().events.help.bind(z);return{ui:u,events:y.registry,destroy:d.noop}}})})(f,h,m);(function(e,f,h){e("61",["g","3u","8n"],function(b,d,c){var a=d.resolve("highlight-common"),g=d.resolve("highlight-placeholder");return{configure:function(b){b.add(b.output(),a,c.unwrap);b.add(b.history(),g,c.unwrap);b.add(b.output(),g,c.unwrap)},highlightClass:b.constant(a),placeholderClass:b.constant(g)}})})(f,h,m);(function(e,f,h){e("62",["2a"],function(b){return b.immutable("prefix",
"suffix","style")})})(f,h,m);(function(e,f,h){e("63","8 t 61 4h 1p j 1g 2e 14 1s aa 1r 1d".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t){return{rehighlight:function(w,u,y){var z=r.children(y),x=b.bind(z,function(a){return h.isText(a)?m.get(a):""}).join("");d.from(b.find(u,function(a){return t.startsWith(x,a.prefix())&&t.endsWith(x,a.suffix())})).fold(function(){w.preserve(function(){q.unwrap(y)})},function(b){var d=e.fromTag("span");a.add(d,[c.highlightClass()]);g.setAll(d,b.style());w.preserve(function(){f.before(y,
d);l.append(d,z);q.remove(y)})})},unhighlight:function(b,d){var g=r.children(d),h=e.fromTag("span");a.add(h,[c.placeholderClass()]);b.preserve(function(){f.before(d,h);q.unwrap(d);l.append(h,g)})}}})})(f,h,m);(function(e,f,h){e("64","8 g ab ac 2z ad ae 61 af 96 8n 4h 1p j 14 ag aa".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t,w,u,y,z){var x=function(a,c){var e=b.bind(c,function(a){var b=g.sanitise(a.prefix()),c=g.sanitise(a.suffix()),b=g.unsafetoken(b+"[^"+c+"]*"+c);return{pattern:d.constant(b),
style:a.style}});return f.findmany(a,e)},A=q("."+l.highlightClass(),m.unwrap);return{run:function(d,g){d.body().each(function(d){h.filterDom(d,[A]);d=y.descendants(d,u.isText);b.each(d,function(d){var f=z.get(d),f=x(f,g),h=b.bind(f,function(a){return[a.start(),a.finish()]}),p=c.subdivide(d,h);b.each(f,function(c){var d=e.sublist(p,c.start(),c.finish()),d=b.map(d,function(a){return a.element()});a.wrapper(d,function(){var b=w.fromTag("span");r.add(b,[l.highlightClass()]);t.setAll(b,c.style());return a.nu(b)})})})})}}})})(f,
h,m);(function(e,f,h){e("2g",["g","2z","global!RegExp"],function(b,d,c){return function(a,g,e){var f=d.sanitise(a),l=d.sanitise(g);return{patterns:function(){return[new c(f+"(.*?)"+l,"gi")]},useCursor:b.constant(!0),generate:function(a,b){return e.generate(a,b.key(),b.value())},derive:function(a){var c=a[1];return e.get(c).map(function(d){return{startIndex:b.constant(a.index),finishIndex:b.constant(a.index+a[0].length),key:b.constant(c),value:b.constant(d)}})}}}})})(f,h,m);(function(e,f,h){e("1y",
["2g","g","t","2h"],function(b,d,c,a){return function(g,e,f){return b(g,e,{get:function(a){a=f(a);return c.some(a)},generate:function(b,g,e){b=a.fromHtml(e,b.dom());return{elements:d.constant(b),cursor:c.none}}})}})})(f,h,m);(function(e,f,h){e("3d","8 61 62 63 64 1y 4h 1p j 1m 1g 1h".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r){return function(t,w,u){var y=t.filter(),z=t.content(),x=t.operations();d.configure(y);var A=void 0===u.external?[]:b.map(u.external,function(a){return c(a.prefix,a.suffix,
a.style)});b.each(A,function(a){var b=e(a.prefix(),a.suffix(),function(b){var c=h.fromTag("span");f.add(c,[d.highlightClass()]);l.setAll(c,a.style());var g=h.fromTag("div");m.append(c,h.fromText(a.prefix()+b+a.suffix()));m.append(g,c);return q.get(g)});w.customMacros().add(b)});z.events.nodeChanged.bind(function(b){z.getSelection().each(function(c){b.prev().each(function(b){r.ancestor(b,"."+d.placeholderClass()).each(function(b){a.rehighlight(x,A,b)})});r.ancestor(c.startContainer(),"."+d.highlightClass()).each(function(b){a.unhighlight(x,
b)})})});return{run:function(){g.run(z,A)},destroy:function(){}}}})})(f,h,m);(function(e,f,h){e("6g","6t 8h g 3u 1s 1h".split(" "),function(b,d,c,a,g,e){var f="."+a.resolve("element-resize-container"),l=function(a){return e.closest(a,f)};return{detect:function(a){return a.getSelection().bind(function(a){return l(a.startContainer()).bind(function(b){return l(a.endContainer()).bind(function(b){return e.closest(a.startContainer(),f).bind(function(a){return e.descendant(a,"img").map(function(b){return{image:c.constant(b),
container:c.constant(a)}})})})})})},findContainer:l,remove:function(a,c,d){c.close();a.setRelativeSelection(b.before(d),b.before(d));g.remove(d)},select:function(a,b){l(b).each(function(b){a.setSelection(b,0,b,d.getEnd(b))})}}})})(f,h,m);(function(e,f,h){e("ah","6t g 6u 6g 1f j 1g 1h global!console".split(" "),function(b,d,c,a,g,e,f,l,h){var q=function(a,c){a.setRelativeSelection(b.after(c),b.after(c))},m=function(b,c,d,g){a.detect(b).fold(function(){b.focus();b.getSelection().each(function(a){(a.collapsed()?
d:g)(a)})},function(a){c(a.container())})},r=function(a,b){var c=e.fromTag("a");g.set(c,"href",a);f.wrap(b,c)};return{hyperlink:function(a,b){m(a,d.curry(r,b),function(d){d=e.fromTag("a");f.append(d,e.fromText(b));g.set(d,"href",b);c.insertAtCursor(a,[d]);q(a,d)},function(c){a.execCommand("CreateLink",!1,b);a.getSelection().bind(function(a){return l.closest(a.endContainer(),"a")}).each(function(b){q(a,b)})})},preview:function(a,b,d){m(a,function(a){},function(g){g=d().actions().previewer(b);c.insertAtCursor(a,
g).each(function(b){q(a,b.element())})},function(a){h.log("Inserting a preview is not currently supported for a ranged selection.")})}}})})(f,h,m);(function(e,f,h){e("6b",["t","6g","14","1h"],function(b,d,c,a){var g=function(b){return a.closest(b,"a")};return{inLink:function(a){return a.getSelection().fold(function(){return!1},function(e){return d.detect(a).fold(function(){return b.some(e.startContainer()).filter(function(a){return e.collapsed()||"a"===c.name(a)})},function(a){return b.some(a.image())}).bind(g).isSome()})},
link:g}})})(f,h,m);(function(e,f,h){e("66","6t ah 4x ai 6b 1f 1m 2e 1s 1r".split(" "),function(b,d,c,a,g,e,f,l,h,q){var m=function(a,b){a.getSelection().each(function(a){g.link(a.startContainer()).each(function(a){b(a)})})};return{insert:d.hyperlink,insertPreview:d.preview,context:function(b,c){b.focus();m(b,function(d){b.focus();a.insertAtCursor(b,function(a){c.context(a,d)})})},update:function(a,b){m(a,function(c){e.set(c,"href",b);a.focus()})},preview:function(a,c,d,g){m(a,function(e){g.transaction(function(){a.focus();
var g=d().actions().previewer(c);l.after(e,g);a.setRelativeSelection(b.before(e),b.before(e));h.remove(e);a.focus()})})},open:function(b,c){b.focus();a.insertAtCursor(b,function(a){c.insert(a)})},unlink:function(a){m(a,function(b){a.setSelection(b,0,b,q.children(b).length);var d=q.lastChild(b);h.unwrap(b);d.each(function(b){c.selectEnd(a,b)});a.focus()})}}})})(f,h,m);(function(e,f,h){e("67",["global!setTimeout"],function(b){var d=function(c,a){b(function(){c()},a)};return{runLater:d,runIfStill:function(b,
a,g){d(function(){!0===b()&&a()},g)}}})})(f,h,m);(function(e,f,h){e("68",["g","28","29","1f","global!prompt"],function(b,d,c,a,g){return function(){var e=c.create({insert:d(["url"]),insertPreview:d(["url"]),update:d(["url"]),preview:d(["url"]),remove:d([]),escaped:d([]),close:d([])});return{insert:function(a){a=g("Set link URL:","");void 0!==a&&null!==a&&0<a.length&&e.trigger.insert(a)},context:function(b,c){var d=g("Set link URL:",a.get(c,"href"));void 0!==d&&null!==d&&0<d.length&&e.trigger.update(d)},
hide:b.noop,hideContext:b.noop,destroy:b.noop,events:e.registry}}})})(f,h,m);(function(e,f,h){e("69",["g","3u","8n"],function(b,d,c){var a=d.resolve("link-eph-cursor");return{configure:function(b){b.add(b.internal(),a,c.remove);b.add(b.output(),a,c.remove)},insertCursor:b.constant(a)}})})(f,h,m);(function(e,f,h){e("ke","3u 40 j 1g 1s 7p".split(" "),function(b,d,c,a,g,e){return function(f,l){var h=c.fromTag("div");d.add(h,b.resolve("palette-row"));d.add(h,b.resolve("palette-row-"+f));var q=c.fromTag("span");
d.add(q,b.resolve("palette-detail"));a.append(q,l.element());a.append(h,q);q=e.displayToggler(h,"block");return{element:function(){return h},destroy:function(){g.remove(h)},show:q.off,hide:q.on}}})})(f,h,m);(function(e,f,h){e("fm",["ke"],function(b){return function(d,c){var a=b(c,d);return{element:a.element,destroy:a.destroy,show:a.show,hide:a.hide,execute:d.execute}}})})(f,h,m);(function(e,f,h){e("fk",["fm","28","29"],function(b,d,c){return function(a,g){var e=b(a,g),f=c.create({show:d([]),hide:d([]),
execute:d([])});return{element:e.element,destroy:e.destroy,show:function(){e.show();f.trigger.show()},hide:function(){e.hide();f.trigger.hide()},execute:function(){a.execute();f.trigger.execute()},events:f.registry}}})})(f,h,m);(function(e,f,h){e("fl","3 b3 b4 3u 28 29 40 4h 1q j 7n 2e 1s".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t){return function(l){l=b.merge({commandLabel:"Insert"},l);var h=q.fromTag("span");f.add(h,a.resolve("link-dialog"));f.add(h,a.resolve("link-dialog-insert"));var n=q.fromHtml('<input type="text" placeholder="Hyperlink"></input>');
f.add(n,a.resolve("link-insert-input"));var z=d();f.add(z.element(),a.resolve("default-action"));f.add(z.element(),a.resolve("link-dialog-insert"));z.content(c(l.commandLabel));z.events.click.bind(function(){B.trigger.insert(n.dom().value)});var x=d();f.add(x.element(),a.resolve("link-preview-button"));x.content(c("Preview"));x.events.click.bind(function(){B.trigger.insertPreview(n.dom().value)});var A=d();f.add(A.element(),a.resolve("link-dialog-close"));A.events.click.bind(function(){B.trigger.close()});
r.append(h,[n,z.element(),x.element(),A.element()]);var B=e.create({insert:g(["url"]),insertPreview:g(["url"]),close:g([])});return{element:function(){return h},setUrl:function(a){n.dom().value=a},execute:function(){z.click()},focus:function(){m.focus(n)},destroy:function(){z.destroy();x.destroy();A.destroy();t.remove(h)},events:B.registry}}})})(f,h,m);(function(e,f,h){e("fn","b3 b4 g 3u 28 29 1f 40 j 1g 2e 1s".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r){return function(){var t=h.fromTag("span");
l.add(t,a.resolve("link-dialog"));l.add(t,a.resolve("link-dialog-edit"));var w=h.fromHtml("<span></span>");l.add(w,a.resolve("link-quick-url"));var u=h.fromTag("a");f.set(u,"target","_blank");var y=b();y.content(d("Edit"));l.add(y.element(),a.resolve("link-quick-url-edit"));y.events.click.bind(function(){B.trigger.change(f.get(u,"href"))});q.append(w,u);var z=b();z.content(d("Remove"));l.add(z.element(),a.resolve("link-quick-url-remove"));z.events.click.bind(function(){B.trigger.remove(f.get(u,"href"))});
var x=b();x.content(d("Preview"));l.add(x.element(),a.resolve("link-preview-button"));x.events.click.bind(function(){B.trigger.preview(f.get(u,"href"))});var A=b();l.add(A.element(),a.resolve("link-dialog-close"));A.events.click.bind(function(){B.trigger.close()});m.append(t,[w,y.element(),z.element(),x.element(),A.element()]);var B=e.create({change:g(["url"]),remove:g(["url"]),preview:g(["url"]),close:g([])});return{element:function(){return t},destroy:function(){A.destroy();x.destroy();z.destroy();
y.destroy();r.remove(t)},focus:c.noop,execute:function(){},setUrl:function(a){r.empty(u);q.append(u,h.fromText(a));f.set(u,"href",a)},events:B.registry}}})})(f,h,m);(function(e,f,h){e("aj","8 fk fl fm fn dm 3u 28 29 40 7p".split(" "),function(b,d,c,a,g,e,f,l,h,q,m){return function(){var r=e();q.add(r.element(),f.resolve("inline-palette"));var t=c(),w=a(t,"insert");t.events.insert.bind(function(a){C.trigger.insert(a.url())});t.events.insertPreview.bind(function(a){C.trigger.insertPreview(a.url())});
var u=g(),y=d(u,"quick");y.hide();u.events.change.bind(function(a){E(x);z.setUrl(a.url());z.focus()});u.events.remove.bind(function(a){C.trigger.remove()});u.events.preview.bind(function(a){C.trigger.preview(a.url())});var z=c({commandLabel:"Update"}),x=a(z,"update");z.events.insert.bind(function(a){C.trigger.update(a.url())});r.add(w);r.add(y);r.add(x);b.each([t,u,z],function(a){a.events.close.bind(function(){C.trigger.close()})});var A=[y,w,x],B=w,E=function(a){B=a;b.each(A,function(a){a.hide()});
a.show()},C=h.create({insert:l(["url"]),insertPreview:l(["url"]),update:l(["url"]),preview:l(["url"]),remove:l([]),close:l([])});return{element:r.element,insert:function(){E(w);t.focus();t.setUrl("")},context:function(a){E(y);u.setUrl(a)},execute:function(){B.execute()},showingContext:function(){return m.isVisible(y.element())},destroy:function(){t.destroy();w.destroy();u.destroy();y.destroy();r.destroy()},events:C.registry}}})})(f,h,m);(function(e,f,h){e("fo",["g","41"],function(b,d){return{generate:function(c,
a,g,e){var f=d(e,c);c=d(g,c);e=d(e,a);a=d(g,a);return{northwest:b.constant(f),northeast:b.constant(c),southwest:b.constant(e),southeast:b.constant(a)}}}})})(f,h,m);(function(e,f,h){e("ak",["fo"],function(b){return function(d){return b.generate(0,d,0,0)}})})(f,h,m);(function(e,f,h){e("al","8 g 3u 1f 40 14 ag aa".split(" "),function(b,d,c,a,g,e,f,l){var h=function(a,b){(b?g.remove:g.add)(a,c.resolve("preview-unavailable"))};return{insert:function(a,b){var c=b.getSelection().fold(d.constant(!1),function(a){return a.collapsed()});
h(a,c)},context:function(c,d,g){d=f.descendants(g,e.isText);d=b.map(d,l.get).join("");g=a.get(g,"href");h(c,d===g)}}})})(f,h,m);(function(e,f,h){e("6a","aj ak al am 91 3u 28 29 3n 1f 4h".split(" "),function(b,d,c,a,g,e,f,l,h,q,m){return function(r,t,w,u){var y=a.view(t,w,u.uiContainer()),z=b();r=r.linkpreviews().get()?[e.resolve("no-previews")]:[];m.add(z.element(),r);z.events.close.bind(function(a){x();A.trigger.close()});var x=function(){y.close();A.trigger.close()},A=l.create({insert:h(["url"],
z.events.insert),insertPreview:h(["url"],z.events.insertPreview),update:h(["url"],z.events.update),preview:h(["url"],z.events.preview),remove:h([],z.events.remove),escaped:h([],y.events.escaped),close:f([])});y.events.enter.bind(function(){z.execute()});y.events.close.bind(function(){A.trigger.close()});y.setContent(z.element());return{insert:function(a){c.insert(z.element(),t);y.open();a=g.makeshift(t,a.left(),a.top(),d(a.height()));u.show(y,a);z.insert();y.setComponents([z.element()])},context:function(a,
b){c.context(z.element(),t,b);y.open();var e=g.anchored(t,b,d(0));u.show(y,e);z.context(q.get(b,"href"));y.setComponents([b,z.element()])},hide:x,hideContext:function(){z.showingContext()&&x()},destroy:function(){x();y.destroy();z.destroy()},events:A.registry}}})})(f,h,m);(function(e,f,h){e("3e","k g 65 66 67 68 49 69 6a 6b 4l 28 29".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t){return function(w,u){var y=w.filter(),z=w.content(),x=w.keyboard(),A=w.undo(),B=w.smartview(),E=w.shortcuts(),C=b.detect();
l.configure(y);var y=function(){z.getSelection().each(function(a){z.setSelection(a.startContainer(),a.startOffset(),a.endContainer(),a.endOffset())})},D=C.browser.isIE()?y:d.noop,F=c.tap(function(){var a=d.curry(q.inLink,z);a()?g.runIfStill(a,V,1E3):G.hideContext()}),G=C.deviceType.isTouch()?e():h(w.profile(),z,x,B);C.deviceType.isTouch()||z.events.nodeChanged.bind(function(a){F.instance()});var H=t.create({analytics:r(["message"])}),J=function(a){F.control.block();a();F.control.unblock()},M=function(b){J(function(){A.save();
a.insert(z,b)});H.trigger.analytics("link_inserted")},K=function(b){J(function(){A.save();a.insertPreview(z,b,u)});H.trigger.analytics("link_preview_inserted")},P=function(b){J(function(){A.save();a.update(z,b)})},L=function(b){J(function(){A.save();a.preview(z,b,u,A)})},N=function(){J(function(){A.save();a.unlink(z)})},O=function(){J(function(){a.open(z,G)})},V=function(){J(function(){a.context(z,G)});D()};G.events.close.bind(function(){z.focus();D()});G.events.insert.bind(function(a){M(a.url());
G.hide()});G.events.insertPreview.bind(function(a){K(a.url());G.hide()});G.events.update.bind(function(a){P(a.url());G.hide()});G.events.preview.bind(function(a){L(a.url());G.hide()});G.events.remove.bind(function(a){N();G.hide()});G.events.escaped.bind(function(a){w.ui().refocus()});var S=function(){z.selectWord();O()},x=function(){(q.inLink(z)?V:S)()},B=m.ui({"link.general":{toggle:!1,value:"link",textkey:f.key("insert.link"),action:x,updateGeneral:d.noop,icon:!0,shortcut:!0,hasPopup:!1}});E.events.link.bind(x);
return{ui:B,events:H.registry,destroy:function(){G.destroy()}}}})})(f,h,m);(function(e,f,h){e("6c",["r","1n"],function(b,d){return function(){var c={};return{get:function(){return b.values(c)},add:function(a){var b=d.generate("macro");c[b]=a;return b},remove:function(a){delete c[a]}}}})})(f,h,m);(function(e,f,h){e("o8",["t"],function(b){return function(d){var c=function(a){return d.property().isEmptyTag(a)||d.property().isBoundary(a)};return{left:function(a){return c(a)?b.some([]):b.none()},right:function(){return b.some([])},
stop:c}}})})(f,h,m);(function(e,f,h){e("o9",["pe","q8"],function(b,d){return function(c){return{ignoreChildren:function(a,c,d){return d.stop(c)?b([],!0):b([c],!1)},inspectChildren:function(a,b,e){return d(c).traverse(a,b,e,function(a){return[a]})}}}})})(f,h,m);(function(e,f,h){e("kf",["jz","o8","o9"],function(b,d,c){return{top:function(a,g){var e=c(a),f=d(a);return b.gather(a,g,f,e.ignoreChildren).left().concat([g])},all:function(a,g){var e=c(a),f=d(a);return b.gather(a,g,f,e.inspectChildren).left().concat([g])}}})})(f,
h,m);(function(e,f,h){e("fq",["8b","kf"],function(b,d){var c=b();return{top:function(a){return d.top(c,a)},all:function(a){return d.all(c,a)}}})})(f,h,m);(function(e,f,h){e("kg",["8","g","t","7u","ad"],function(b,d,c,a,g){var e=function(e,k){var f=g.generate(k,function(b,d){return e.property().isText(b)?c.some(a.range(b,d,d+e.property().getText(b).length)):c.none()}),h=b.foldr(f,function(a,b){return e.property().getText(b.element())+a},"");return{list:d.constant(f),text:d.constant(h)}},f=function(a,
b,c,e){var k=g.find(b.list(),function(b){return a.eq(b.element(),c)}).map(function(a){return a.start()+e});return{list:b.list,text:b.text,cursor:d.constant(k)}};return{from:function(a,b,c,d){b=e(a,b);return f(a,b,c,d)}}})})(f,h,m);(function(e,f,h){e("fr",["8b","kg"],function(b,d){var c=b();return{from:function(a,b,e){return d.from(c,a,b,e)}}})})(f,h,m);(function(e,f,h){e("an",["fq","fr"],function(b,d){return{get:function(c,a){var g=b.all(c);return d.from(g,c,a)}}})})(f,h,m);(function(e,f,h){e("fs",
["g","t","j","global!RegExp"],function(b,d,c,a){return function(g,e){return{patterns:function(){return[new a("(\\W)(\\w+)(\\W*)$","gi"),new a("(^)(\\w+)(\\W*)$","gi")]},useCursor:b.constant(!0),generate:function(a,g){var e=c.fromText(g.text());return{elements:b.constant([e]),cursor:d.none}},derive:function(a){var c=a.index+a[1].length,d=c+a[2].length;return e(a[2]).map(function(a){return{startIndex:b.constant(c),finishIndex:b.constant(d),text:b.constant(a)}})},label:g}}})})(f,h,m);(function(e,f,h){e("ft",
["g","t","2z","j","global!RegExp"],function(b,d,c,a,g){return function(e,f){var l=c.sanitise(e);return{patterns:function(){return[new g("("+l+")","gi")]},useCursor:b.constant(!0),generate:function(c,g){var e=a.fromTag("span",c.dom());e.dom().innerHTML=f;return{elements:b.constant([e]),cursor:d.none}},derive:function(a){var c=a.index;a=c+a[0].length;return d.some({startIndex:b.constant(c),finishIndex:b.constant(a)})}}}})})(f,h,m);(function(e,f,h){e("fu","g t 7u 2z 1p j 1g 2e global!RegExp".split(" "),
function(b,d,c,a,g,e,f,l,h){return function(q,m,r){var t=a.sanitise(m);return{patterns:function(){return[new h("^("+t+"\\s)(.+)","gi")]},useCursor:b.constant(!1),generate:function(a,h){var n=e.fromTag(q,a.dom());g.set(n,"list-style-type",r);var m=e.fromTag("li",a.dom()),s=e.fromTag("li",a.dom());f.append(s,e.fromTag("br",a.dom()));l.append(n,[m,s]);l.append(m,h.clones());return{elements:b.constant([n]),cursor:b.constant(d.some(c.point(s,0)))}},derive:function(a){var c=a[1];return d.some({startIndex:b.constant(a.index),
finishIndex:b.constant(a.index+c.length)})}}}})})(f,h,m);(function(e,f,h){e("fv","g t 2z j 2e global!RegExp".split(" "),function(b,d,c,a,g,e){return function(f,l){var h=c.sanitise(f);return{patterns:function(){return[new e("^("+h+")(.+)","gi")]},useCursor:b.constant(!1),generate:function(c,e){var k=a.fromTag(l,c.dom());g.append(k,e.clones());return{elements:b.constant([k]),cursor:d.none}},derive:function(a){var c=a[1];return d.some({startIndex:b.constant(a.index),finishIndex:b.constant(a.index+c.length)})}}}})})(f,
h,m);(function(e,f,h){e("fw","g t 2z j 1g global!RegExp".split(" "),function(b,d,c,a,g,e){return function(f,l,h,q){var m=c.sanitise(l),r=c.sanitise(h);return{patterns:function(){return[new e(m+"([^\\s].*?[^\\s])"+r,"gi"),new e(m+"([^\\s])"+r,"gi")]},useCursor:b.constant(!0),generate:function(c,e){var k=a.fromTag(q,c.dom()),l=a.fromText(e.text());g.append(k,l);return{elements:b.constant([k]),cursor:d.none}},derive:function(a){return d.some({startIndex:b.constant(a.index),finishIndex:b.constant(a.index+
a[0].length),text:b.constant(a[1])})}}}})})(f,h,m);(function(e,f,h){e("fx",["g","t","2z","j","global!RegExp"],function(b,d,c,a,g){return function(e,f){var l=c.sanitise(e);return{patterns:function(){return[new g("("+l+")","gi")]},useCursor:b.constant(!0),generate:function(c,g){return{elements:b.constant([a.fromTag(f,c.dom())]),cursor:d.none}},derive:function(a){return d.some({startIndex:b.constant(a.index),finishIndex:b.constant(a.index+a[0].length)})}}}})})(f,h,m);(function(e,f,h){e("fy",["g","t",
"j","1d","global!RegExp"],function(b,d,c,a,g){var e=function(a,g){return{elements:b.constant([c.fromText(g.text())]),cursor:d.none}},f=function(){return{patterns:function(){return[/([^.?!][.?!]\s+)([a-z][^\s]*)/g,/^()([a-z][^\s]*)/g]},useCursor:b.constant(!0),generate:e,derive:function(c){var g=c.index,e=g+c[0].length;c=c[1]+a.capitalize(c[2]);return d.some({startIndex:b.constant(g),finishIndex:b.constant(e),text:b.constant(c)})}}}(),l=function(){return{patterns:function(){return[new g("([A-Z][A-Z]+)([a-z]+)",
"g")]},useCursor:b.constant(!1),generate:e,derive:function(c){var g=c[2],g=a.capitalize(c[1].toLowerCase())+g.toLowerCase(),e=c.index;c=e+c[0].length;return d.some({startIndex:b.constant(e),finishIndex:b.constant(c),text:b.constant(g)})}}}();return{capitalise:b.constant(f),normalise:b.constant(l)}})})(f,h,m);(function(e,f,h){e("fz",["8","g","t","2z","global!RegExp"],function(b,d,c,a,g){return function(e){var f=["http","https"];return{patterns:function(){return b.map(f,function(b){b=a.sanitise(b);
return new g("^("+b+")([^\\s]+)\\s?$","g")})},useCursor:d.constant(!0),generate:function(a,b){var g=b.trigger()+b.content(),g=e.actions().previewer(g);return{elements:d.constant(g),cursor:c.none}},derive:function(a){var b=a[1],g=a[2],e=a.index;a=e+a[0].length;return c.some({startIndex:d.constant(e),finishIndex:d.constant(a),trigger:d.constant(b),content:d.constant(g)})}}}})})(f,h,m);(function(e,f,h){e("g0",["2g","g","t"],function(b,d,c){return function(a){var g=a.actions().inventory();return b(":",
":",{get:function(a){return void 0!==g[a]?c.some(g[a]):c.none()},generate:function(a,b,g){a=g.sprite();return{elements:d.constant([a]),cursor:c.none}}})}})})(f,h,m);(function(e,f,h){e("g1","g t 1f j 1g 1d".split(" "),function(b,d,c,a,g,e){return{patterns:function(){return[/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)(:[0-9]+)?((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/g]},useCursor:b.constant(!0),generate:function(e,
k){var f=a.fromTag("a");c.set(f,"href",k.href());g.append(f,a.fromText(k.text()));return{elements:b.constant([f]),cursor:d.none}},derive:function(a){var c=a[0],g=e.startsWith(c,"www.")?"http://"+c:c;return d.some({startIndex:b.constant(a.index),finishIndex:b.constant(a.index+a[0].length),text:b.constant(c),href:b.constant(g)})}}})})(f,h,m);(function(e,f,h){e("g2","8 2g 8h g t 7u 88 2h".split(" "),function(b,d,c,a,g,e,f,l){return function(h){return d("{{","}}",{get:function(a){var b=h.getSnippets();
return void 0!==b[a]?g.some(b[a]):g.none()},generate:function(d,h,n){d=l.fromHtml(n,d.dom());h=b.exists(d,f.isBlock)?g.from(d[d.length-1]).map(function(a){return e.point(a,c.getEnd(a))}):g.none();return{elements:a.constant(d),cursor:a.constant(h)}}})}})})(f,h,m);(function(e,f,h){e("ao","8 fs ft fu fv fw fx g fy fz g0 g1 g2 7o".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t,w){return function(u,y,z,x,A){var B=function(a){return{derive:a.derive,generate:a.generate,patterns:a.patterns,useCursor:a.useCursor,
allowed:l.constant(!0)}},E=[B(g("###### ","h6")),B(g("##### ","h5")),B(g("#### ","h4")),B(g("### ","h3")),B(g("## ","h2")),B(g("# ","h1"))],C=[B(a("ul","*","disc")),B(a("ol","1.","decimal")),B(a("ol","a.","lower-alpha")),B(a("ol","i.","lower-roman")),B(a("ol","1)","decimal")),B(a("ol","a)","lower-alpha")),B(a("ol","i)","lower-roman"))],D=[B(e("bold","**","**","strong")),B(e("bold","__","__","strong")),B(e("italic","*","*","em")),B(e("italic","_","_","em"))],F=[B(c("(c)","&copy;")),B(c("-","&mdash;"))],
G=[B(h.normalise()),B(h.capitalise())];z=[B(d("autocorrect",z.lookup))];var H=B(f("---","hr")),J=function(a,b){return{derive:a.derive,generate:a.generate,patterns:a.patterns,useCursor:a.useCursor,allowed:function(a){return!1===w.closest(a,b)}}}(r,"a");x=B(t(x));u=B(q(u));y=B(m(y));return{headings:l.constant(E),semantics:l.constant(D),entities:l.constant(F),cases:l.constant(G),lists:l.constant(C),dynSnippet:l.constant(x),dynEmbedly:l.constant(u),dynCustoms:function(){var a=A.get();return b.map(a,B)},
link:l.constant(J),hr:l.constant(H),emoticon:l.constant(y),corrections:l.constant(z)}}})})(f,h,m);(function(e,f,h){e("kh",["2a"],function(b){return b.immutable("startContainer","startOffset","endContainer","endOffset")})})(f,h,m);(function(e,f,h){e("ki","8 q 14 aw aa global!Math".split(" "),function(b,d,c,a,g,e){return{cloneAfter:function(f,l,h){var q=l;return b.map(f,function(b){var l=a.deep(b);c.isText(b)&&d.eq(h.endContainer(),b)&&g.get(b).length>h.endOffset()&&g.set(l,g.get(l).substring(0,h.endOffset()));
if(c.isText(l)&&0<q){var f=g.get(l);b=e.min(f.length,q);f=f.substring(b);g.set(l,f);q-=b}return l})}}})})(f,h,m);(function(e,f,h){e("kj",["8","t"],function(b,d){var c=function(a,b,c){if(!b.global)throw"Macro matching only works with global regexes: "+b;for(var e=b.exec(a);e;){if(c(e))return d.some(e);e=b.exec(a)}return d.none()};return{matcher:function(a,g,e){var f=function(a){return e.fold(function(){return a&&1<a.length},function(b){return a&&0<a.length&&a.index+a[0].length===b})};a=b.bind(a,function(a){return c(g,
a,f).fold(function(){return[]},function(a){return[a]})});return 0<a.length?d.some(a[0]):d.none()}}})})(f,h,m);(function(e,f,h){e("g3","kh ki kj 3 g t fq".split(" "),function(b,d,c,a,g,e,f){var l=function(b,c,e,k){c=d.cloneAfter(c,k.finishIndex(),e);var l=a.merge(k,{clones:g.constant(c)});return{build:function(a){a=b.generate(a,l);return{elements:a.elements,cursor:a.cursor,range:g.constant(e)}}}};return{detect:function(a,d,g,h){var m=d.patterns(),w=a.cursor().filter(d.useCursor);return c.matcher(m,
a.text(),w).bind(d.derive).bind(function(a){var c=f.top(g);if(0<c.length){var n=b(c[0],0,g,h);return e.some(l(d,c,n,a))}return e.none()})}}})})(f,h,m);(function(e,f,h){e("g4",["kh","kj","g","ad"],function(b,d,c,a){var g=function(b,d,g){d=a.get(b,d);var e=a.get(b,g);return d.bind(function(a){return e.map(function(b){return{start:c.constant(a),finish:c.constant(b)}})})};return{detect:function(a,e,l,f){l=e.patterns();f=a.cursor().filter(e.useCursor);return d.matcher(l,a.text(),f).bind(e.derive).bind(function(d){return g(a.list(),
d.startIndex(),d.finishIndex()).map(function(a){var g=d.startIndex()-a.start().start(),k=d.finishIndex()-a.finish().start(),l=b(a.start().element(),g,a.finish().element(),k);return{build:function(a){a=e.generate(a,d);return{elements:a.elements,cursor:a.cursor,range:c.constant(l)}}}})})}}})})(f,h,m);(function(e,f,h){e("ap","9w 8 g3 g4 bv g 6u".split(" "),function(b,d,c,a,g,e,f){var l=function(a){return g(a.startContainer(),a.startOffset(),a.endContainer(),a.endOffset())},h=function(a,c){return c.doc().bind(function(g){g=
a.build(g);var e=g.elements();d.map(e,b.doNotMerge);f.insertAt(c,l(g.range()),e);d.map(e,b.clear);return g.cursor()})},q=function(a,b,c,d,g){return a.detect(b,c,d,g).map(function(a){return{execute:e.curry(h,a)}})};return{block:e.curry(q,c),inline:e.curry(q,a)}})})(f,h,m);(function(e,f,h){e("6d","8 an g t h 7v ao ap".split(" "),function(b,d,c,a,g,e,f,l){return function(h,q,m,r,t,w,u,y,z){var x=a.none(),A=a.none(),B=f(t,w,u,y,z),E=function(){return b.flatten([[B.link(),B.dynSnippet(),B.hr(),B.emoticon()],
B.semantics(),B.entities(),h.autocorrect().get()?B.corrections():[],h.capitalisation().get()?B.cases():[],B.dynCustoms()])},C=B.headings().concat(B.lists()),D=function(a,c,l,f){f=b.filter(f,function(a){return a.allowed(c)});var h=e.descend(c,l),p=d.get(h.element(),h.offset());return g.find_map(f,function(b){return a(p,b,h.element(),h.offset())})},F=function(a,b){m.save();a(function(){return b.execute(q)}).each(function(a){q.setSelection(a.element(),a.offset(),a.element(),a.offset())});m.save()};return{spaceDown:function(){q.getSelection().map(function(a){a.collapsed()&&
(x=D(l.inline,a.startContainer(),a.startOffset(),E()))})},spaceUp:function(){var b=c.curry(F,r.run);x.each(b);x=a.none()},enterDown:function(){q.getSelection().map(function(a){var b=B.dynEmbedly();a.collapsed()&&(A=D(l.block,a.startContainer(),a.startOffset(),C.concat([b])));A=A.orThunk(function(){return D(l.inline,a.startContainer(),a.startOffset(),E())})})},enterUp:function(){var b=c.curry(F,c.apply);A.each(b);A=a.none()}}}})})(f,h,m);(function(e,f,h){e("3f","g 6c 6d 6e 28 29".split(" "),function(b,
d,c,a,g,e){return function(f,l,h,q,m){var r=f.profile(),t=f.content(),w=f.undo(),u=f.context();f=f.operations();var y=e.create({analytics:g(["message"])}),z=d(),x=c(r,t,w,f,q,m,l,h,z);t.events.keydown.bind(function(b){a.isSpace(b)&&x.spaceDown()});t.events.keyup.bind(function(b){a.isSpace(b)&&x.spaceUp()});u.events.preLinebreak.bind(function(a){x.enterDown()});u.events.postLinebreak.bind(function(a){x.enterUp()});return{destroy:b.noop,events:y.registry,customMacros:b.constant(z)}}})})(f,h,m);(function(e,
f,h){e("6i",["8","g","3u","8n","4h"],function(b,d,c,a,g){var e=c.resolve("resize-eph-block"),f=c.resolve("resize-eph-container"),l=c.resolve("resize-eph-resizer"),h=c.resolve("resize-eph-target");return{configure:function(c){var d=[c.internal(),c.history(),c.output(),c.paste()];b.each(d,function(b){c.add(b,e,a.remove);c.add(b,f,a.unwrap);c.add(b,l,a.remove)});c.add(c.output(),h,a.clearClasses);c.add(c.history(),h,a.clearClasses)},clean:function(a){g.remove(a,[e,f,l,h])},resizeBlock:d.constant(e),
resizeContainer:d.constant(f),resizer:d.constant(l),resizeTarget:d.constant(h)}})})(f,h,m);(function(e,f,h){e("kk",["4c"],function(b){return{resolve:b.create("ephox-dragster").resolve}})})(f,h,m);(function(e,f,h){e("g5","kk 3 40 1p j 1s".split(" "),function(b,d,c,a,g,e){return function(f){f=d.merge({layerClass:b.resolve("blocker")},f);var l=g.fromTag("div");a.setAll(l,{position:"fixed",left:0,top:0,width:"100%",height:"100%"});c.add(l,b.resolve("blocker"));c.add(l,f.layerClass);return{element:function(){return l},
destroy:function(){e.remove(l)}}}})})(f,h,m);(function(e,f,h){e("oa",["t","41"],function(b,d){return function(){var c=b.none();return{update:function(a,g){var e=c.map(function(b){return d(a-b.left(),g-b.top())});c=b.some(d(a,g));return e},reset:function(){c=b.none()}}}})})(f,h,m);(function(e,f,h){e("kl",["oa","28","29"],function(b,d,c){return function(){var a=b(),g=c.create({move:d(["x","y"])});return{onEvent:function(b){a.update(b.x(),b.y()).each(function(a){g.trigger.move(a.left(),a.top())})},reset:a.reset,
events:g.registry}}})})(f,h,m);(function(e,f,h){e("km",["g"],function(b){return function(d){return{onEvent:function(b){b.target()},reset:b.noop}}})})(f,h,m);(function(e,f,h){e("g6",["kl","km"],function(b,d){return function(){var c=d(),a=b(),g=c;return{on:function(){g.reset();g=a},off:function(){g.reset();g=c},isOn:function(){return g===a},onEvent:function(a){g.onEvent(a)},events:a.events}}})})(f,h,m);(function(e,f,h){e("as","g5 g6 28 29 1q 1g 1s global!Array".split(" "),function(b,d,c,a,g,e,f,l){return{transform:function(h,
q){var m=void 0!==q?q:{},r=!1,t=a.create({start:c([]),stop:c([])}),w=b(m),u=d(),y=function(){f.remove(w.element());u.isOn()&&(u.off(),t.trigger.stop())};u.events.move.bind(function(a){h.mutate(a.x(),a.y())});var m=function(a){return function(){var b=l.prototype.slice.call(arguments,0);if(r)return a.apply(null,b)}},z=g.bind(w.element(),"mousedown",y),x=g.bind(w.element(),"mouseup",m(function(a,b){y()})),A=g.bind(w.element(),"mousemove",m(function(a,b){u.onEvent(a)})),B=g.bind(w.element(),"mouseout",
m(y));return{element:w.element,go:function(a){e.append(a,w.element());u.on();t.trigger.start()},on:function(){r=!0},off:function(){r=!1},destroy:function(){w.destroy();x.unbind();A.unbind();B.unbind();z.unbind()},events:t.registry}}}})})(f,h,m);(function(e,f,h){e("at","t 28 29 7r 7t global!Math".split(" "),function(b,d,c,a,g,e){return function(){var f=c.create({grow:d(["x","y"])}),l=1,h=1,q=b.none();return{setTarget:function(c){q=b.some(c);h=g.get(c)/(a.get(c)+0)},setMultiplier:function(a){l=a},clearTarget:function(){q=
b.none()},mutate:function(b,c){q.each(function(d){var q=g.get(d)+l*b,m=1===q?1:e.floor(q/h);5<=q&&5<=m&&(g.set(d,q),a.set(d,m));f.trigger.grow(b,c)})},events:f.registry}}})})(f,h,m);(function(e,f,h){e("g7",["t","1p"],function(b,d){var c=function(a){var b=a.dom().style.marginRight;a=a.dom().style.marginLeft;return"auto"===b&&"auto"===a};return{isCentered:c,divine:function(a){if(c(a))return b.some("center");a=d.get(a,"float");return void 0!==a&&null!==a&&0<a.length?b.some(a):b.none()},getRaw:function(a){a=
a.dom().style.getPropertyValue("float");return""===a?null:a},setCentered:function(a){d.setAll(a,{"margin-left":"auto","margin-right":"auto"})}}})})(f,h,m);(function(e,f,h){e("au","8 6i 3u 28 29 1f 40 4h 1p 1q j g7 7r 1g 2e 1s 1r 7t global!document global!parseInt".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t,w,u,y,z,x,A,B){return function(E){var C=E.doc().getOr(m.fromDom(A)),D=m.fromTag("div",C.dom());e.set(D,"contenteditable","false");h.set(D,"position","relative");l.add(D,[c.resolve("element-resize-container"),
d.resizeContainer()]);var F="data-"+c.resolve("resize-direction"),G=function(a,b){var g=m.fromTag("div",C.dom());l.add(g,[c.resolve(a),d.resizer()]);e.set(g,F,b);return g};E=G("element-se-resize","1");var H=G("element-ne-resize","1"),J=G("element-sw-resize","-1"),G=G("element-nw-resize","-1"),M=[E,H,J,G],K=m.fromTag("div",C.dom());u.append(D,[K].concat(M));l.add(K,[c.resolve("element-resize-border"),d.resizeContainer()]);var P=function(){z.firstChild(K).each(function(a){w.before(D,a);y.remove(D);
f.remove(a,c.resolve("element-resize-selected"));d.clean(a)})},L=g.create({click:a(["multiplier"])}),N=q.bind(D,"mousedown",function(a){f.has(a.target(),d.resizer())&&(a.prevent(),a=e.get(a.target(),F),a=void 0!==a?B(a,10):1,L.trigger.click(a))});return{connect:function(){},destroy:function(){N.unbind();P()},components:function(){return[D]},show:function(a){b.each([D,K].concat(M),y.empty);u.append(D,[K].concat(M));var g=r.getRaw(a);P();var e=x.getOuter(a),k=t.getOuter(a);w.before(a,D);w.append(K,
a);h.setAll(K,{width:e-2,height:k-2});f.add(a,c.resolve("element-resize-selected"));f.add(a,d.resizeTarget());h.set(D,"float",g)},hide:P,isOver:function(a){return f.has(a,c.resolve("element-resize-selected"))},cleanup:function(){P()},events:L.registry}}})})(f,h,m);(function(e,f,h){e("6j","as t 6i at au 3u 28 29 40 global!document global!window".split(" "),function(b,d,c,a,g,e,f,l,h,q,m){return function(q){var m=g(q),s=d.none(),u=a();u.events.grow.bind(function(){m.hide()});var y=b.transform(u,{layerClass:e.resolve("layer-below-dialog")});
y.events.stop.bind(function(){s.each(function(a){m.show(a);x.trigger.stop(a)})});h.add(y.element(),c.resizeBlock());h.add(y.element(),e.resolve("transparent-container"));var z=function(){y.off();u.clearTarget();s=d.none();m.hide()},x=l.create({stop:f(["target"])});return{connect:function(){m.connect();m.events.click.bind(function(a){q.body().each(function(b){u.setMultiplier(a.multiplier());y.go(b)})})},components:function(){return s.fold(function(){return m.components()},function(a){return[a].concat(m.components())})},
open:function(a){z();u.setTarget(a);s=d.some(a);y.on();m.show(a)},close:z,isOver:m.isOver,events:x.registry,cleanup:function(){m.cleanup()},destroy:function(){m.destroy();y.destroy()}}}})})(f,h,m);(function(e,f,h){e("3g","6f g 6e 6g 6h 6i 6j 40 14 1r".split(" "),function(b,d,c,a,g,e,f,l,h,q){return function(m){var r=m.filter(),t=m.content(),w=m.undo();e.configure(r);var u=f(t),y=b(u.close,u.components),z=function(b){a.detect(t).each(function(c){w.save();a.remove(t,u,c.image());w.save();b.original().kill()})};
t.events.nodeChanged.bind(function(){a.detect(t).fold(function(){u.close()},d.noop)});t.events.keydown.bind(function(a){(c.isDel(a)||c.isBackspace(a))&&z(a)});var x=function(a){return("img"===h.name(a)||l.has(a,g.style()))&&!l.has(a,g.noStyle())},A=function(a){a=a.original().target();return l.has(a,g.maskStyle())?q.nextSibling(a).getOr(a):a};t.events.mouseup.bind(function(b){b=A(b);x(b)&&(u.open(b),a.select(t,b))});t.events.mousedown.bind(function(a){var b=A(a);x(b)&&u.isOver(b)&&a.original().raw().preventDefault();
y.mousedown(a.original())});t.events.loaded.bind(function(){try{t.execCommand("enableObjectResizing",!1,!1)}catch(a){}u.connect()});u.events.stop.bind(function(b){a.select(t,b.target())});return{cleanup:function(){u.cleanup()},destroy:function(){u.destroy()}}}})})(f,h,m);(function(e,f,h){e("kn",["1b"],function(b){return function(d,c){return new (b.getOrDie("Blob"))(d,c)}})})(f,h,m);(function(e,f,h){e("ko",["1b"],function(b){return function(d){return new (b.getOrDie("Uint8Array"))(d)}})})(f,h,m);(function(e,
f,h){e("g8","kn ko global!Array global!Math global!String global!parseInt".split(" "),function(b,d,c,a,g,e){return{convert:function(g,f){if(0===g.length)throw"Zero length content passed to Hex conversion";for(var h=new c(g.length/2),q=0;q<g.length;q+=2){var m=g.substr(q,2),r=a.floor(q/2);h[r]=e(m,16)}h=d(h);return b([h],{type:f})}}})})(f,h,m);(function(e,f,h){e("av",["g8","g","t"],function(b,d,c){var a=function(a,b){var g=a.indexOf("{\\pict",b);if(-1===g)return c.none();var e;a:{e=g;var k=0;do{"{"===
a[e]?++k:"}"===a[e]&&--k;if(e>=a.length){e=-1;break a}++e}while(0<k)}if(-1===e)return c.none();k=a.substring(g,e);return c.some({pict:d.constant(k),start:d.constant(g),end:d.constant(e)})},g=function(a){return 0<=a.indexOf("\\pngblip")?c.some("image/png"):0<=a.indexOf("\\jpegblip")?c.some("image/jpeg"):c.none()},e=function(a){return 0===a.length%2},f=function(a,b){var d=a.match(b);return null!==d?c.some(d[1]):c.none()},l=function(a){return f(a,/([a-hA-H0-9]+)\}$/).filter(e)},h=function(a){return f(a,
/\\shplid(\d+)/)},q=function(a){return h(a).bind(function(c){return g(a).bind(function(d){return l(a).map(function(a){return{id:c,contentType:d,blob:b.convert(a,d)}})})})},m=function(b){for(var c=[],d=function(){return b.length},g=function(a){q(a.pict()).each(function(a){c.push(a)});return a.end()+1},e=0;e<b.length;)e=a(b,e).fold(d,g);return c};return{nextPict:a,extractId:h,extractContentType:g,extractHex:l,images:function(a){return m(a.replace(/\r/g,"").replace(/\n/g,""))}}})})(f,h,m);(function(e,
f,h){e("6k",["av"],function(b){return{images:function(d){return b.images(d)}}})})(f,h,m);(function(e,f,h){e("6l","t 1f 40 1p j 14 51 aw 1t 1d".split(" "),function(b,d,c,a,g,e,f,l,h,q){var m=function(a,b){var c=e.value(a),d=g.fromTag("div"),l=c.indexOf("]>");d.dom().innerHTML=c.substr(l+2);return f.descendant(d,function(a){return e.name(a)===b})},r=function(a){return e.isComment(a)?m(a,"v:shape"):b.none()};return{local:function(a){a=l.shallow(a);var g=d.get(a,"src");return"img"===e.name(a)&&void 0!==
g&&null!==g&&q.startsWith(g,"file://")?(g=g.split(/[\/\\]/),d.set(a,"data-image-id",g[g.length-1]),d.remove(a,"src"),d.set(a,"data-image-type","local"),c.add(a,"rtf-data-image"),b.some(a)):b.none()},vshape:function(b){return r(b).map(function(b){var e=d.get(b,"o:spid"),e=void 0===e?d.get(b,"id"):e,k=g.fromTag("img");c.add(k,"rtf-data-image");d.set(k,"data-image-id",e.substr(7));d.set(k,"data-image-type","code");a.setAll(k,{width:a.get(b,"width"),height:a.get(b,"height")});return k})},find:function(a){return a.body().map(function(a){return h.descendants(a,
".rtf-data-image")}).getOr([])},scour:r}})})(f,h,m);(function(e,f,h){e("az",["k","g","global!setTimeout"],function(b,d,c){var a=b.detect();b=function(a,b,c){b.control.block();a.dom().execCommand("paste");c();b.control.unblock()};var g=function(a,b,d){c(d,1)},e=(a=a.browser.isIE()&&10>=a.browser.version.major)?b:g;return{blocking:d.constant(a),run:function(a,b,c){return e(a,b,c)}}})})(f,h,m);(function(e,f,h){e("6m","6t t ax 6u ay az global!window".split(" "),function(b,d,c,a,g,e,f){return function(f){var h=
d.none(),p=g(f),m=f.doc().getOrDie(),r=f.win().getOrDie();return{backup:function(){h.isSome()&&e.blocking()||(h=f.getSelection(),p.begin())},insert:function(g){h.each(function(a){f.setSelection(a.startContainer(),a.startOffset(),a.endContainer(),a.endOffset())});a.insertAtCursor(f,g).each(function(a){f.setRelativeSelection(b.after(a.element()),b.after(a.element()))});p.end();f.getSelection().each(function(a){c.putInView(m,r,a.startContainer())});h=d.none()}}}})})(f,h,m);(function(e,f,h){e("b0",["eu"],
function(b){return{toAssets:function(d,c){return b.toAssets(d,c)},fromBlobs:function(d,c){return b.fromBlobs(d,c)},blob:b.blob}})})(f,h,m);(function(e,f,h){e("6n","8 2o b0 3t g t 2a 1f 40".split(" "),function(b,d,c,a,g,e,f,l,h){var q=f.immutable("id","url"),m={local:function(a,b,c){return e.from(b[c])},code:function(a,c,d){c=b.find(c,function(b){return l.get(a,"data-image-id").substring(1)===b.id()});return e.from(c)}};return{convert:function(f,p,w){p=b.map(p,function(b){return c.blob(b.id,b.blob,
a.createObjectURL(b.blob))});c.fromBlobs(p,function(a){var c=[];b.each(a,function(a){d.cata(a,function(a,b,d,g,e,k){b=q(a,e);0<c.length?c[c.length-1].id!==a&&c.push(b):c.push(b)},g.noop)});b.each(f,function(a,b){var d=l.get(a,"data-image-type");(void 0!==m[d]?m[d]:e.none)(a,c,b).each(function(b){l.set(a,"src",b.url())});h.remove(a,"rtf-data-image");l.remove(a,"data-image-type");l.remove(a,"data-image-id")});w(a)})}}})})(f,h,m);(function(e,f,h){e("6o",["g","3u","8n"],function(b,d,c){var a=d.resolve("smartpaste-eph-bin");
return{configure:function(b){b.add(b.history(),a,c.remove)},bin:b.constant(a)}})})(f,h,m);(function(e,f,h){e("g9","k 49 3u 40 j 2e".split(" "),function(b,d,c,a,g,e){var f=g.fromHtml('<p>Press <span class="ephox-polish-help-kbd">ESC</span> to ignore local images and continue editing.</p>');return{paste:function(){var d=g.fromTag("div");a.add(d,c.resolve("flashbin-helpcopy"));var h;h=b.detect().os.isOSX()?["\u2318"]:["Ctrl"];var q=g.fromHtml("<p>Trigger paste again from the keyboard to paste content with images.</p>");
h=g.fromHtml('<div><span class="ephox-polish-help-kbd">'+h+'</span> + <span class="ephox-polish-help-kbd">V</span></div>');a.add(h,c.resolve("flashbin-helpcopy-kbd"));e.append(d,[q,h,f]);return d},noflash:function(){var b=g.fromTag("div");a.add(b,c.resolve("flashbin-helpcopy"));var d=g.fromHtml('<p>Adobe Flash is required to import images from Microsoft Office. Install the <a href="http://get.adobe.com/flashplayer/" target="_blank">Adobe Flash Player</a>.</p>');e.append(b,[d,f]);return b},indicator:function(){var b=
g.fromTag("div");a.add(b,c.resolve("flashbin-loading"));var f=g.fromTag("div");a.add(f,c.resolve("flashbin-loading-spinner"));var h=g.fromTag("p");h.dom().innerHTML=d.translate("loading.wait");e.append(b,[f,h]);return b}}})})(f,h,m);f("global!navigator",[],function(){return navigator});(function(e,f,h){e("b1","7 k g g9 3u 40 1p j 1g 2e global!navigator".split(" "),function(b,d,c,a,g,e,f,l,h,q,m){var r=d.detect(),t=function(b){var d=a.noflash();h.append(b,d);return{reset:c.noop}},w=function(b,c){var d=
a.paste(),g=a.indicator();q.append(b,[g,d,c.element()]);var e=function(){f.set(d,"display","block");f.set(g,"display","none")};c.events.spin.bind(function(){f.set(d,"display","none");f.set(g,"display","block")});c.events.reset.bind(e);return{reset:e}};return function(a){var b=l.fromTag("div"),d="flashbin-wrapper-"+(r.os.isOSX()?"cmd":"ctrl");e.add(b,g.resolve(d));var f;try{f=void 0!==(r.browser.isIE()?new ActiveXObject("ShockwaveFlash.ShockwaveFlash"):m.plugins["Shockwave Flash"])}catch(h){f=!1}a=
(f?w:t)(b,a);return{element:c.constant(b),reset:a.reset}}})})(f,h,m);(function(e,f,h){e("ga",["83"],function(b){return{install:function(d){var c=b.namespace(d);c.callbacks={};var a=0,g=function(){var b="callback_"+a;a++;return b},e=function(a,b){var e=g();c.callbacks[e]=function(){b||f(e);a.apply(null,arguments)};return d+".callbacks."+e},f=function(a){a=a.substring(a.lastIndexOf(".")+1);void 0!==c.callbacks[a]&&delete c.callbacks[a]};c.ephemeral=function(a){return e(a,!1)};c.permanent=function(a){return e(a,
!0)};c.unregister=f;return c}}})})(f,h,m);f("global!unescape",[],function(){return unescape});(function(e,f,h){e("b2","8 1n k ga t 3u 28 29 40 1p 1q j 7n 1g 1t global!console global!setTimeout global!unescape".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t,w,u,y,z,x){var A=a.install("b2"),B=c.detect(),E=g.none();return function(a,c){var F=l.create({response:f(["rtf"]),spin:f([]),cancel:f([]),error:f(["message"]),reset:f([])}),G=r.fromTag("div");h.add(G,e.resolve("flashbin-target"));var H=A.permanent(F.trigger.spin),
J=A.permanent(function(a){z(function(){F.trigger.response(x(a))},0)}),M=A.permanent(F.trigger.cancel),K=A.permanent(F.trigger.error),P=A.permanent(function(){try{L.dom().setSpinCallback(H),L.dom().setPasteCallback(J),L.dom().setEscapeCallback(M),L.dom().setErrorCallback(K),F.trigger.reset(),O()}catch(a){y.log("Flash dialog - Error during onLoad ",a)}}),L=function(){var a=c.swf.replace(/^https?:\/\//,"//"),b='    <param name="allowscriptaccess" value="always">    <param name="wmode" value="opaque">    <param name="FlashVars" value="onLoad='+
P+'">';if(B.browser.isIE()&&10===B.browser.version.major){var g=d.generate("flash-bin");return r.fromHtml('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="'+g+'"><param name="movie" value="'+a+'">'+b+"</object>")}return r.fromHtml('<object type="application/x-shockwave-flash" data="'+a+'">'+b+"</object>")}();w.append(G,L);var N=function(){if(B.browser.isFirefox()){var c=u.all(".ephox-polish-layer-below-dialog, .ephox-gel-centered-dialog");E=g.some(b.map(c,function(b){return m.bind(b,
"click",function(){t.focus(a)})}))}},O=function(){t.focus(L)},V=function(){q.set(G,"display","none");E.each(function(a){b.each(a,function(a){a.unbind()})})};return{focus:O,element:function(){return G},activate:function(){F.trigger.spin();q.set(G,"display","block");N();O()},deactivate:V,destroy:function(){V();A.unregister(H);A.unregister(J);A.unregister(M);A.unregister(P)},events:F.registry}}})})(f,h,m);(function(e,f,h){e("6p","7j 9u b1 b2 28 29 1q j global!window".split(" "),function(b,d,c,a,g,e,
f,l,h){return function(q,m,r,t){var w=e.create({response:g(["rtf"]),cancel:g([]),error:g(["message"])});return{open:function(){var g=m.all();g.swallowKeys([b.ESCAPE()]);g.on();var e=function(){g.off();E();w.trigger.cancel()},k=a(q.element(),t);k.deactivate();var x=f.bind(l.fromDom(h),"click",k.focus);k.events.cancel.bind(e);k.events.response.bind(function(a){w.trigger.response(a.rtf());g.off();E()});k.events.error.bind(function(a){g.off();E();w.trigger.error(a.message())});k.activate();var A=d(r);
A.setTitle("Local Image Import");var B=c(k);A.setContent(B.element());B.reset();A.events.close.bind(e);A.show();g.events.escape.bind(e);var E=function(){x.unbind();A.destroy();k.destroy();g.destroy()}},events:w.registry}}})})(f,h,m);(function(e,f,h){e("6q","3 7j b3 b4 g 9u 49 3u 28 29 1f 40 j 7n 1g 2e 1s".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t,w,u,y,z){return function(x,A,B){var E=function(a,c,d){d(b.merge(c,{mergeOfficeStyles:a,mergeHtmlStyles:a}))},C=q.create({open:h([]),close:h([])}),D=
function(b,g){var h=x.all();h.swallowKeys([d.ESCAPE(),d.TAB(),d.ENTER(),d.SPACE()]);var n=function(){S();E(!1,b,g)},q=function(){S();E(!0,b,g)};h.on();var B=t.fromTag("div");r.add(B,l.resolve("dialog-content-narrow"));var D=t.fromTag("p"),L=t.fromText(f.translate("paste.instructions"));u.append(D,L);u.append(B,D);var N=c();N.content(a(f.translate("paste.clean")));m.set(N.element(),"tabindex",0);r.add(N.element(),l.resolve("clean-styles"));N.events.click.bind(n);var O=c();O.content(a(f.translate("paste.merge")));
m.set(O.element(),"tabindex",1);r.add(O.element(),l.resolve("merge-styles"));O.events.click.bind(q);y.append(B,[N.element(),O.element()]);var V=e(A);V.setTitle(f.translate("paste.title"));V.setContent(B);V.show();w.focus(N.element());D=function(){var a=w.hasFocus(N.element())?O:N;w.focus(a.element())};h.events.tab.bind(D);h.events.up.bind(D);h.events.down.bind(D);D=function(){(w.hasFocus(N.element())?n:q)()};h.events.enter.bind(D);h.events.space.bind(D);var S=function(){h.yieldKeys([d.ESCAPE(),d.TAB(),
d.ENTER(),d.SPACE()]);h.off();h.destroy();C.trigger.close();V.destroy();O.destroy();N.destroy();z.remove(B)};V.events.close.bind(S);h.events.escape.bind(S);C.trigger.open()};return{events:C.registry,get:function(a,b){var c=B[a?"officeStyles":"htmlStyles"];"clean"===c?E(!1,B,b):"merge"===c?E(!0,B,b):D(B,b)},destroy:g.noop}}})})(f,h,m);(function(e,f,h){e("oc",["1a","global!document"],function(b,d){return{execute:function(c){b(d).ready(c)}}})})(f,h,m);f("text!gwt/com.ephox.keurig.Keurig.nocache.js",
[],function(){return"function com_ephox_keurig_Keurig(){var Pb='',Qb='\" for \"gwt:onLoadErrorFn\"',Rb='\" for \"gwt:onPropertyErrorFn\"',Sb='\"><\\/script>',Tb='#',Ub='&',Vb='/',Wb='8B67BB26D47395DA83495BFC629BE441',Xb=':',Yb=':1',Zb=':2',$b=':3',_b=':4',ac=':5',bc=':6',cc=':7',dc=':8',ec=':9',fc='<script id=\"',gc='=',hc='?',ic='Bad handler \"',jc='DOMContentLoaded',kc='SCRIPT',lc='Single-script hosted mode not yet implemented. See issue ',mc='Unexpected exception in locale detection, using default: ',nc='_',oc='__gwt_Locale',pc='__gwt_marker_com.ephox.keurig.Keurig',qc='base',rc='clear.cache.gif',sc='com.ephox.keurig.Keurig',tc='content',uc='default',vc='en',wc='gecko',xc='gecko1_8',yc='gwt.codesvr=',zc='gwt.hosted=',Ac='gwt.hybrid',Bc='gwt:onLoadErrorFn',Cc='gwt:onPropertyErrorFn',Dc='gwt:property',Ec='http://code.google.com/p/google-web-toolkit/issues/detail?id=2079',Fc='ie10',Gc='ie8',Hc='ie9',Ic='img',Jc='locale',Kc='locale=',Lc='meta',Mc='msie',Nc='name',Oc='safari',Pc='unknown',Qc='user.agent',Rc='webkit';var k=Pb,l=Qb,m=Rb,n=Sb,o=Tb,p=Ub,q=Vb,r=Wb,s=Xb,t=Yb,u=Zb,v=$b,w=_b,A=ac,B=bc,C=cc,D=dc,F=ec,G=fc,H=gc,I=hc,J=ic,K=jc,L=kc,M=lc,N=mc,O=nc,P=oc,Q=pc,R=qc,S=rc,T=sc,U=tc,V=uc,W=vc,X=wc,Y=xc,Z=yc,$=zc,_=Ac,ab=Bc,bb=Cc,cb=Dc,db=Ec,eb=Fc,fb=Gc,gb=Hc,hb=Ic,ib=Jc,jb=Kc,kb=Lc,lb=Mc,mb=Nc,nb=Oc,ob=Pc,pb=Qc,qb=Rc;var rb=window,sb=document,tb,ub,vb=k,wb={},xb=[],yb=[],zb=[],Ab=0,Bb,Cb;if(!rb.__gwt_stylesLoaded){rb.__gwt_stylesLoaded={}}if(!rb.__gwt_scriptsLoaded){rb.__gwt_scriptsLoaded={}}function Db(){var b=false;try{var c=rb.location.search;return (c.indexOf(Z)!=-1||(c.indexOf($)!=-1||rb.external&&rb.external.gwtOnLoad))&&c.indexOf(_)==-1}catch(a){}Db=function(){return b};return b}\nfunction Eb(){if(tb&&ub){tb(Bb,T,vb,Ab)}}\nfunction Fb(){var e,f=Q,g;sb.write(G+f+n);g=sb.getElementById(f);e=g&&g.previousSibling;while(e&&e.tagName!=L){e=e.previousSibling}function h(a){var b=a.lastIndexOf(o);if(b==-1){b=a.length}var c=a.indexOf(I);if(c==-1){c=a.length}var d=a.lastIndexOf(q,Math.min(c,b));return d>=0?a.substring(0,d+1):k}\n;if(e&&e.src){vb=h(e.src)}if(vb==k){var i=sb.getElementsByTagName(R);if(i.length>0){vb=i[i.length-1].href}else{vb=h(sb.location.href)}}else if(vb.match(/^\\w+:\\/\\//)){}else{var j=sb.createElement(hb);j.src=vb+S;vb=h(j.src)}if(g){g.parentNode.removeChild(g)}}\nfunction Gb(){var b=document.getElementsByTagName(kb);for(var c=0,d=b.length;c<d;++c){var e=b[c],f=e.getAttribute(mb),g;if(f){if(f==cb){g=e.getAttribute(U);if(g){var h,i=g.indexOf(H);if(i>=0){f=g.substring(0,i);h=g.substring(i+1)}else{f=g;h=k}wb[f]=h}}else if(f==bb){g=e.getAttribute(U);if(g){try{Cb=eval(g)}catch(a){alert(J+g+m)}}}else if(f==ab){g=e.getAttribute(U);if(g){try{Bb=eval(g)}catch(a){alert(J+g+l)}}}}}}\nfunction Hb(a,b){return b in xb[a]}\nfunction Ib(a){var b=wb[a];return b==null?null:b}\nfunction Jb(a,b){var c=zb;for(var d=0,e=a.length-1;d<e;++d){c=c[a[d]]||(c[a[d]]=[])}c[a[e]]=b}\nfunction Kb(a){var b=yb[a](),c=xb[a];if(b in c){return b}var d=[];for(var e in c){d[c[e]]=e}if(Cb){Cb(a,d,b)}throw null}\nyb[ib]=function(){var b=null;var c=V;try{if(!b){var d=location.search;var e=d.indexOf(jb);if(e>=0){var f=d.substring(e+7);var g=d.indexOf(p,e);if(g<0){g=d.length}b=d.substring(e+7,g)}}if(!b){b=Ib(ib)}if(!b){b=rb[P]}if(b){c=b}while(b&&!Hb(ib,b)){var h=b.lastIndexOf(O);if(h<0){b=null;break}b=b.substring(0,h)}}catch(a){alert(N+a)}rb[P]=c;return b||V};xb[ib]={'default':0,en:1};yb[pb]=function(){var b=navigator.userAgent.toLowerCase();var c=function(a){return parseInt(a[1])*1000+parseInt(a[2])};if(function(){return b.indexOf(qb)!=-1}())return nb;if(function(){return b.indexOf(lb)!=-1&&sb.documentMode>=10}())return eb;if(function(){return b.indexOf(lb)!=-1&&sb.documentMode>=9}())return gb;if(function(){return b.indexOf(lb)!=-1&&sb.documentMode>=8}())return fb;if(function(){return b.indexOf(X)!=-1}())return Y;return ob};xb[pb]={gecko1_8:0,ie10:1,ie8:2,ie9:3,safari:4};com_ephox_keurig_Keurig.onScriptLoad=function(a){com_ephox_keurig_Keurig=null;tb=a;Eb()};if(Db()){alert(M+db);return}Fb();Gb();try{var Lb;Jb([V,Y],r);Jb([V,eb],r+t);Jb([V,fb],r+u);Jb([V,gb],r+v);Jb([V,nb],r+w);Jb([W,Y],r+A);Jb([W,eb],r+B);Jb([W,fb],r+C);Jb([W,gb],r+D);Jb([W,nb],r+F);Lb=zb[Kb(ib)][Kb(pb)];var Mb=Lb.indexOf(s);if(Mb!=-1){Ab=Number(Lb.substring(Mb+1))}}catch(a){return}var Nb;function Ob(){if(!ub){ub=true;Eb();if(sb.removeEventListener){sb.removeEventListener(K,Ob,false)}if(Nb){clearInterval(Nb)}}}\nif(sb.addEventListener){sb.addEventListener(K,function(){Ob()},false)}var Nb=setInterval(function(){if(/loaded|complete/.test(sb.readyState)){Ob()}},50)}\ncom_ephox_keurig_Keurig();(function () {var $gwt_version = \"2.6.1\";var $wnd = window;var $doc = $wnd.document;var $moduleName, $moduleBase;var $stats = $wnd.__gwtStatsEvent ? function(a) {$wnd.__gwtStatsEvent(a)} : null;var $strongName = '8B67BB26D47395DA83495BFC629BE441';function u(){}\nfunction zo(){}\nfunction zh(){}\nfunction dh(){}\nfunction Bh(){}\nfunction ab(){}\nfunction ob(){}\nfunction Yb(){}\nfunction Hc(){}\nfunction Kc(){}\nfunction Lg(){}\nfunction Vg(){}\nfunction Vn(){}\nfunction bk(){}\nfunction fk(){}\nfunction jk(){}\nfunction nk(){}\nfunction rk(){}\nfunction Hk(){}\nfunction vg(a){}\nfunction mc(){ac()}\nfunction md(){kd()}\nfunction pd(){kd()}\nfunction wd(){td()}\nfunction gf(){ff()}\nfunction nf(){mf()}\nfunction tf(){sf()}\nfunction Cf(){Bf()}\nfunction Mf(){Lf()}\nfunction sh(){hh()}\nfunction fb(){db(this)}\nfunction Ql(){Ol(this)}\nfunction bm(){Ul(this)}\nfunction cm(){Ul(this)}\nfunction Nm(a){this.b=a}\nfunction $m(a){this.b=a}\nfunction Y(a){this.b=a}\nfunction wb(a){this.b=a}\nfunction Mn(a){this.b=a}\nfunction un(a){this.c=a}\nfunction Xb(a,b){a.b=b}\nfunction Vd(a,b){a.i=b}\nfunction wh(a,b){a.b+=b}\nfunction xh(a,b){a.b+=b}\nfunction Wd(a,b){a.h=a.i=b}\nfunction Ol(a){a.b=new zh}\nfunction Ul(a){a.b=new zh}\nfunction Bg(){return xg}\nfunction qb(){qb=zo;Nb()}\nfunction dg(){dg=zo;cg=new u}\nfunction Ig(){Ig=zo;Hg=new Lg}\nfunction Tn(){Tn=zo;Sn=new Vn}\nfunction yo(){yo=zo;xo=new vo}\nfunction yk(){ag.call(this)}\nfunction Rk(){ag.call(this)}\nfunction Tk(){ag.call(this)}\nfunction Wk(){ag.call(this)}\nfunction al(){ag.call(this)}\nfunction ho(){ag.call(this)}\nfunction zk(a){bg.call(this,a)}\nfunction Uk(a){bg.call(this,a)}\nfunction Xk(a){bg.call(this,a)}\nfunction jm(a){bg.call(this,a)}\nfunction el(a){Uk.call(this,a)}\nfunction ag(){Mj().C(this)}\nfunction _d(a){this.b=vl(a+rp)}\nfunction Qf(a,b){a.b[a.c++]=b}\nfunction Td(a,b){return a.i+=b}\nfunction Pd(a,b){return a.f[b]}\nfunction $k(a,b){return a<b?a:b}\nfunction vb(a,b){return rb(b,a.b)}\nfunction Yj(b,a){return b.exec(a)}\nfunction Bm(b,a){return b.f[Ep+a]}\nfunction Vj(a){return new Tj[a]}\nfunction Wj(){return !!$stats}\nfunction sn(a){return a.b<a.c.M()}\nfunction Pg(a){return Tg((Mj(),a))}\nfunction Gd(a,b){return Hd(a,b,a.k)}\nfunction Kd(a,b){return Ld(a,b,a.k)}\nfunction to(a,b,c){Em(a.b,b,c)}\nfunction po(a){qo.call(this,a,0)}\nfunction dn(a,b){this.c=a;this.b=b}\nfunction bo(a,b){this.b=a;this.c=b}\nfunction Pl(a,b){wh(a.b,b);return a}\nfunction Vl(a,b){wh(a.b,b);return a}\nfunction Ib(a,b){Vl(a.d,Fb(b));++a.b}\nfunction Db(a){Vl(a.d,Xo);--a.b}\nfunction Hb(a){_l(a.d);a.c=true}\nfunction Jl(){Jl=zo;Gl={};Il={}}\nfunction fe(){fe=zo;ee=vl('class=')}\nfunction Ch(a){return Dh(a,a.length)}\nfunction Dg(a,b){return Ah(a,b,null)}\nfunction Xl(a,b){return jl(a.b.b,b)}\nfunction Dm(b,a){return Ep+a in b.f}\nfunction nl(b,a){return b.indexOf(a)}\nfunction Nc(a,b){return b<256&&a.b[b]}\nfunction Ph(a,b){return a.cM&&a.cM[b]}\nfunction Vh(a){return a==null?null:a}\nfunction Qg(a){return parseInt(a)||-1}\nfunction Ek(a){return Fk(a)==a&&Ck(a)}\nfunction yl(a){return Gh(Hj,Do,1,a,0)}\nfunction Bn(){this.b=Gh(Fj,Do,0,0,0)}\nfunction bg(a){this.f=a;Mj().C(this)}\nfunction Eg(a){$wnd.clearTimeout(a)}\nfunction Rl(a){Ol(this);wh(this.b,a)}\nfunction dm(a){Ul(this);wh(this.b,a)}\nfunction V(a,b){N();this.c=a;this.b=b}\nfunction mn(a,b){(a<0||a>=b)&&pn(a,b)}\nfunction $j(a,b){return new RegExp(a,b)}\nfunction _c(a,b){return a.b[b>=128?0:b]}\nfunction Oh(a,b){return a.cM&&!!a.cM[b]}\nfunction Uh(a){return a.tM==zo||Oh(a,1)}\nfunction Ag(a){return a.$H||(a.$H=++rg)}\nfunction jl(b,a){return b.charCodeAt(a)}\nfunction Zj(c,a,b){return a.replace(c,b)}\nfunction ol(c,a,b){return c.indexOf(a,b)}\nfunction pl(b,a){return b.lastIndexOf(a)}\nfunction Sh(a,b){return a!=null&&Oh(a,b)}\nfunction Sc(a,b){return Rd(a,b)&&Ed(a,62)}\nfunction am(a,b,c){return ul(a.b.b,b,c)}\nfunction lc(a,b,c,d){return d==b&&a.b==c}\nfunction ul(c,a,b){return c.substr(a,b-a)}\nfunction wo(a,b){return a!=null?a[b]:null}\nfunction hg(a){return a==null?null:a.name}\nfunction yc(a,b){return b==41||b==46?a+1:a}\nfunction Yl(a,b,c){return yh(a.b,b,c,To),a}\nfunction $l(a,b,c,d){yh(a.b,b,c,d);return a}\nfunction Hn(a,b,c,d){a.splice(b,c,d)}\nfunction Ud(a,b,c){a.f=b;a.k=c;a.h=a.i=0}\nfunction ic(a){a.f=false;a.d=null;a.b=0}\nfunction lo(a){a.e=Yj(a.c,a.b);return !!a.e}\nfunction se(){se=zo;re=vl(mp);qe=vl(np)}\nfunction Te(){Te=zo;Se=vl(pp);Re=vl(qp)}\nfunction Pe(){Pe=zo;Oe=vl('/*');Ne=vl('*/')}\nfunction kd(){kd=zo;ed();jd=vl('style=')}\nfunction Qc(){Qc=zo;Pc=vl('<v:imagedata ')}\nfunction N(){N=zo;L=(Tn(),Tn(),Sn);M=new Y(L)}\nfunction vo(){this.b=new _n;new _n;new _n}\nfunction Be(a){ze();this.b=ve;this.b=a?we:ve}\nfunction gg(a){return a==null?null:a.message}\nfunction Cl(a){return String.fromCharCode(a)}\nfunction ec(a,b){return a.b==0?cc(b):dc(a,b)}\nfunction ql(c,a,b){return c.lastIndexOf(a,b)}\nfunction ug(a,b,c){return a.apply(b,c);var d}\nfunction Rf(a,b,c,d){hm(b,c,a.b,a.c,d);a.c+=d}\nfunction yn(a,b){Ih(a.b,a.c++,b);return true}\nfunction Mk(a){var b=Tj[a.d];a=null;return b}\nfunction Ug(){try{null.a()}catch(a){return a}}\nfunction mg(a){var b;return b=a,Uh(b)?b.cZ:Ci}\nfunction Nk(a){return typeof a=='number'&&a>0}\nfunction tl(b,a){return b.substr(a,b.length-a)}\nfunction Zl(a,b){return ol(a.b.b,'mso-list:',b)}\nfunction mo(a){return rl(Zj(a.c,a.b,'$1'),Uo,Vo)}\nfunction sb(a,b,c){return O(jb(a,b,c),new wb(a))}\nfunction yh(a,b,c,d){a.b=ul(a.b,0,b)+d+tl(a.b,c)}\nfunction Fl(a,b){xl(a.length,b);return Al(a,0,b)}\nfunction Mg(a,b){!a&&(a=[]);a[a.length]=b;return a}\nfunction Wl(a,b){xh(a.b,Al(b,0,b.length));return a}\nfunction Tf(a){this.b=Gh(Dj,Fo,-1,a,1);this.c=0}\nfunction Jb(){this.d=new bm;this.b=1;this.c=true}\nfunction hh(){hh=zo;Error.stackTraceLimit=128}\nfunction Lh(){Lh=zo;Jh=[];Kh=[];Mh(new Bh,Jh,Kh)}\nfunction Le(){Le=zo;Ke=vl('xmlns');Je=vl('<html')}\nfunction td(){td=zo;ed();rd=vl('\\n\\r{');sd=vl(' \\t,')}\nfunction ff(){ff=zo;ne();se();af();ef=new Oc('<\\n\\r')}\nfunction R(a,b){N();return new V(new Y(a),new Y(b))}\nfunction ng(a){var b;return b=a,Uh(b)?b.hC():Ag(b)}\nfunction lg(a,b){var c;return c=a,Uh(c)?c.eQ(b):c===b}\nfunction Zc(a,b){var c;c=a.f;Ud(a,b.b,b.c);b.b=c;b.c=0}\nfunction Ob(a,b,c){var d;d=new Hc;return Sb(a,b,c,d)}\nfunction Rb(a,b,c){var d;d=new Kc;return Sb(a,b,c,d)}\nfunction Em(a,b,c){return !b?Gm(a,c):Fm(a,b,c,~~Ag(b))}\nfunction yb(a,b){if(a.c){a.c=false;Vl(a.d,Fb(b))}}\nfunction db(a){if(!cb){cb=true;yo();to(xo,ai,a);eb(a)}}\nfunction Cb(a,b,c){while(a.b>1){yh(b.b,c,c,Xo);--a.b}}\nfunction gl(a,b,c){this.b=Gp;this.e=a;this.c=b;this.d=c}\nfunction Rg(a,b){a.length>=b&&a.splice(0,b);return a}\nfunction Th(a){return a!=null&&a.tM!=zo&&!Oh(a,1)}\nfunction $n(a,b){return Vh(a)===Vh(b)||a!=null&&lg(a,b)}\nfunction io(a,b){return Vh(a)===Vh(b)||a!=null&&lg(a,b)}\nfunction Fg(){return Dg(function(){qg!=0&&(qg=0);tg=-1},10)}\nfunction Cg(a){$wnd.setTimeout(function(){throw a},0)}\nfunction af(){af=zo;$e=new Oc(' >\\r\\n\\t');_e=new Oc(sp)}\nfunction ce(){ce=zo;ae=new Oc(sp);be=new Oc(' \\t\\r\\n')}\nfunction sf(){sf=zo;ne();se();af();fe();rf=new Oc('<c\\n\\r')}\nfunction Ad(){Ad=zo;yd=vl(pp);xd=vl(qp);Pe();zd=new wd}\nfunction Ml(){if(Hl==256){Gl=Il;Il={};Hl=0}++Hl}\nfunction Ab(a,b,c){yb(a,c);Vl(a.d,Yo);Vl(a.d,b);Vl(a.d,Zo)}\nfunction Gh(a,b,c,d,e){var f;f=Fh(e,d);Hh(a,b,c,f);return f}\nfunction Qh(a,b){if(a!=null&&!Ph(a,b)){throw new Rk}return a}\nfunction kl(a,b){if(!Sh(b,1)){return false}return String(a)==b}\nfunction rl(c,a,b){b=zl(b);return c.replace(RegExp(a,Tp),b)}\nfunction pn(a,b){throw new Xk('Index: '+a+', Size: '+b)}\nfunction gm(a){Xk.call(this,'String index out of range: '+a)}\nfunction Bk(a){return null!=String.fromCharCode(a).match(/\\d/)}\nfunction tn(a){if(a.b>=a.c.M()){throw new ho}return a.c.W(a.b++)}\nfunction xl(a,b){if(b<0){throw new gm(b)}if(b>a){throw new gm(b)}}\nfunction tb(a,b){qb();this.b=lb(new ob,a);this.c=b;this.d=true}\nfunction tc(a,b){var c;c=b;while(Xl(a.c,c)!=62){++c}return c+1}\nfunction sc(a,b){var c;c=b;while(Xl(a.c,c)!=59){++c}return c+1}\nfunction Wb(a,b){var c;c=a.b;while(jl(b.b.b,c)!=60){--c}return c}\nfunction Gb(a,b){var c;c=a.d+Xo;_l(a.d);a.c=true;b.e=0;return c}\nfunction Gm(a,b){var c;c=a.c;a.c=b;if(!a.d){a.d=true;++a.e}return c}\nfunction Jk(a,b,c){var d;d=new Hk;d.e=a+b;Nk(c)&&Ok(c,d);return d}\nfunction Hh(a,b,c,d){Lh();Nh(d,Jh,Kh);d.cZ=a;d.cM=b;d.qI=c;return d}\nfunction bc(a,b,c,d){a.c=d;a.b=jl(b.b.b,c);a.e=a.b-d.charCodeAt(0)+1}\nfunction ml(a,b,c,d){var e;for(e=0;e<b;++e){c[d++]=a.charCodeAt(e)}}\nfunction yg(a,b,c){var d;d=wg();try{return ug(a,b,c)}finally{zg(d)}}\nfunction In(a,b,c,d){Array.prototype.splice.apply(a,[b,c].concat(d))}\nfunction Sf(a){for(;a.c>0;a.c--){if(a.b[a.c-1]>32){break}}}\nfunction og(a){return a.toString?a.toString():'[JavaScriptObject]'}\nfunction Ck(a){return null!=String.fromCharCode(a).match(/[A-Z]/i)}\nfunction Ye(){Ye=zo;Xe=vl('<![if');We=vl(tp);Ve=vl('<![endif]>')}\nfunction ke(){ke=zo;je=vl('\x3c!--[if');ie=vl(tp);he=vl('<![endif]--\x3e')}\nfunction mf(){mf=zo;ke();Ye();He();Le();Qc();lf=new Oc('<x\\n\\r')}\nfunction zg(a){a&&Kg((Ig(),Hg));--qg;if(a){if(tg!=-1){Eg(tg);tg=-1}}}\nfunction wc(a,b){var c;c=Xl(a.c,b);return c==10||c==32||c==13||c==160}\nfunction Eh(a,b){var c,d;c=a;d=Fh(0,b);Hh(c.cZ,c.cM,c.qI,d);return d}\nfunction Kk(a,b){var c;c=new Hk;c.e=a+b;Nk(0)&&Ok(0,c);c.c=2;return c}\nfunction Lk(a,b){var c;c=new Hk;c.e=To+a;Nk(b)&&Ok(b,c);c.c=1;return c}\nfunction Dh(a,b){var c,d;c=a;d=c.slice(0,b);Hh(c.cZ,c.cM,c.qI,d);return d}\nfunction vl(a){var b,c;c=a.length;b=Gh(Dj,Fo,-1,c,1);ml(a,c,b,0);return b}\nfunction jc(a,b,c,d){var e;e=ul(b.b.b,c,c+d);a.e=H(e);a.b=0;return c+d}\nfunction C(a,b,c){var d;d=D(a,b,c);if(d>3*c){throw new Tk}else{return d}}\nfunction Rh(a){if(a!=null&&(a.tM==zo||Oh(a,1))){throw new Rk}return a}\nfunction An(a,b,c){for(;c<a.c;++c){if(io(b,a.b[c])){return c}}return -1}\nfunction Hm(e,a,b){var c,d=e.f;a=Ep+a;a in d?(c=d[a]):++e.e;d[a]=b;return c}\nfunction Mh(a,b,c){var d=0,e;for(var f in a){if(e=a[f]){b[d]=f;c[d]=e;++d}}}\nfunction Nh(a,b,c){Lh();for(var d=0,e=b.length;d<e;++d){a[b[d]]=c[d]}}\nfunction _n(){this.b=[];this.f={};this.d=false;this.c=null;this.e=0}\nfunction fg(a){dg();ag.call(this);this.b=To;this.c=a;this.b=To;Mj().A(this)}\nfunction Rj(a){if(Sh(a,17)){return a}return a==null?new fg(null):Pj(a)}\nfunction Fk(a){return String.fromCharCode(a).toUpperCase().charCodeAt(0)}\nfunction Dk(a){return String.fromCharCode(a).toLowerCase().charCodeAt(0)==a&&Ck(a)}\nfunction T(a,b){return W(a.c.b,b.c.b)&&(N(),W(Qh(a.b.b,18),Qh(b.b.b,18)))}\nfunction zm(a,b){return b==null?a.c:Sh(b,1)?Bm(a,Qh(b,1)):Am(a,b,~~ng(b))}\nfunction ym(a,b){return b==null?a.d:Sh(b,1)?Dm(a,Qh(b,1)):Cm(a,b,~~ng(b))}\nfunction Sm(a){var b;b=new Bn;a.d&&yn(b,new $m(a));xm(a,b);wm(a,b);this.b=new un(b)}\nfunction I(a,b){var c,d;d=new cm(a.length*b);for(c=0;c<b;c++){wh(d.b,a)}return d.b.b}\nfunction vc(a,b,c){var d,e;d=$k(b+c.length,a.c.b.b.length);e=am(a.c,b,d);return ll(e,c)}\nfunction uc(a,b){var c;c=b;while(Xl(a.c,c)==46||Bk(Xl(a.c,c))){++c}return am(a.c,b,c)}\nfunction Ed(a,b){var c;for(c=a.i;c<a.k;c++){if(a.f[c]==b){a.i=c;return true}}return false}\nfunction Fd(a,b,c){var d;for(d=a.i;d<c;d++){if(a.f[d]==b){a.i=d;return true}}return false}\nfunction Ah(a,b,c){var d=$wnd.setTimeout(function(){a();c!=null&&vg(c)},b);return d}\nfunction Jg(a){var b,c;if(a.b){c=null;do{b=a.b;a.b=null;c=Ng(b,c)}while(a.b);a.b=c}}\nfunction Kg(a){var b,c;if(a.c){c=null;do{b=a.c;a.c=null;c=Ng(b,c)}while(a.c);a.c=c}}\nfunction lm(a,b){var c;while(a.Q()){c=a.R();if(b==null?c==null:lg(b,c)){return a}}return null}\nfunction Jd(a,b){var c;for(c=a.i;c<a.k;c++){if(Nc(b,a.f[c])){a.i=c;return true}}return false}\nfunction pe(a){if(!Xd(a)){return false}if(a.i==a.h){return false}a.h=a.i;return true}\nfunction ll(b,a){if(a==null)return false;return b==a||b.toLowerCase()==a.toLowerCase()}\nfunction W(a,b){if(a==null||b==null){throw new Uk('No nulls permitted')}return lg(a,b)}\nfunction Eb(a,b){if(a.c){a.c=false;Vl(a.d,Fb(b));Vl(a.d,\"<li style='list-style: none;'>\")}}\nfunction ko(a,b,c){Pl(b,rl(ul(a.b,a.d,a.e.index),Uo,Vo));wh(b.b,c);a.d=a.c.lastIndex;return a}\nfunction Ik(a,b,c,d){var e;e=new Hk;e.e=a+b;Nk(c!=0?-c:0)&&Ok(c!=0?-c:0,e);e.c=4;e.b=d;return e}\nfunction Z(a){var b,c,d;d=new Bn;for(c=new un(a);c.b<c.c.M();){b=Qh(tn(c),18);zn(d,b)}return d}\nfunction lb(a,b){var c,d;d=rl(b,'&#39;',Wo);a.b=new dm(d);c=true;while(c){c=nb(a)}return a.b.b.b}\nfunction no(a,b){var c;this.b=rl(b,'\\\\u00A0','\\uE000');this.c=$j((c=a.b,c.source),Tp)}\nfunction _l(a){var b;b=a.b.b.length;0<b?(yh(a.b,0,b,To),a):0>b&&Wl(a,Gh(Dj,Fo,-1,-b,1))}\nfunction Dc(a){var b,c;c=pc(a);b=Xl(a.c,c);if(b==40){return kc(a.k,c+1,a.c)}return kc(a.k,c,a.c)}\nfunction zn(a,b){var c,d;c=b.N();d=c.length;if(d==0){return false}In(a.b,a.c,0,c);a.c+=d;return true}\nfunction Ue(a){if(!Rd(a,Se)){return false}if(!Gd(a,Re)){return false}Wd(a,a.i+Re.length);return true}\nfunction Qe(a){if(!Rd(a,Oe)){return false}a.i+=2;if(!Gd(a,Ne)){return false}Wd(a,a.i+2);return true}\nfunction Qj(a){var b;if(Sh(a,7)){b=Qh(a,7);if(b.c!==(dg(),cg)){return b.c===cg?null:b.c}}return a}\nfunction Pj(b){var c=b.__gwt$exception;if(!c){c=new fg(b);try{b.__gwt$exception=c}catch(a){}}return c}\nfunction xg(c){return function(){try{return yg(c,this,arguments);var b}catch(a){throw a}}}\nfunction Mj(){switch(Lj){case 0:case 5:return new dh;case 4:case 9:return new sh;}return new Vg}\nfunction Sd(a,b,c){var d,e,f;for(e=0,f=c.length;e<f;++e){d=c[e];if(Qd(a,b,d)){return true}}return false}\nfunction F(a,b,c){if(a.b.b.length>0&&a.b.b.charCodeAt(0)==b){yh(a.b,0,1,To);return c}else{return 0}}\nfunction D(a,b,c){var d;d=0;while(a.b.b.length>0&&a.b.b.charCodeAt(0)==b){yh(a.b,0,1,To);d+=c}return d}\nfunction kc(a,b,c){var d;a.f=false;a.c=null;d=fc(a,c,b);a.d!=null&&!kl(a.d,a.c)&&(a.f=true);a.d=a.c;return d}\nfunction zb(a,b,c){if(b>a.b){Eb(a,c);Vl(a.d,Fb(c));++a.b}else if(b<a.b){while(b!=a.b){Vl(a.d,Xo);--a.b}}}\nfunction Bb(a,b,c,d){var e,f,g;f=ol(c.b.b,'level',b);g=ul(c.b.b,f+5,f+6);e=Yk(g);if(e!=a.b){d.f=false;zb(a,e,d)}}\nfunction Zf(a){var b,c,d;c=Gh(Gj,Do,16,a.length,0);for(d=0,b=a.length;d<b;++d){if(!a[d]){throw new al}c[d]=a[d]}}\nfunction Wc(){Wc=zo;Uc=Hh(Ej,Do,6,[new nf,new Cf,new tf,new gf]);Vc=Hh(Ej,Do,6,[new nf,new Mf,new gf])}\nfunction Bf(){Bf=zo;af();Ad();Af=new Be(false);ce();yf=new md;zf=new _d(zp);xf=new Oc('<lsovwxp')}\nfunction He(){He=zo;De=vl('<meta');Ee=vl('name=');Ge=vl('ProgId');Ce=vl('Generator');Fe=vl('Originator')}\nfunction vk(a,b,c){c&&(a=a.replace(new RegExp('\\\\.\\\\*',Tp),'[\\\\s\\\\S]*'));return new RegExp(a,b)}\nfunction Xd(a){var b,c;for(c=a.i;c<a.k;c++){b=a.f[c];if(b!=32&&b!=9&&b!=13&&b!=10){a.i=c;return true}}return false}\nfunction Od(a,b){var c;c=b;for(;c>=0;c--){if(a.f[c]==62){return false}if(a.f[c]==60){a.i=c;return true}}return false}\nfunction Ak(a){if(a>=48&&a<58){return a-48}if(a>=97&&a<97){return a-97+10}if(a>=65&&a<65){return a-65+10}return -1}\nfunction Ll(a){Jl();var b=Ep+a;var c=Il[b];if(c!=null){return c}c=Gl[b];c==null&&(c=Kl(a));Ml();return Il[b]=c}\nfunction xm(e,a){var b=e.f;for(var c in b){if(c.charCodeAt(0)==58){var d=new dn(e,c.substring(1));a.J(d)}}}\nfunction O(a,b){var c;c=vb(b,Qh(a.c.b,1));return R(c.c.b,Z(new Mn(Hh(Fj,Do,0,[Qh(a.b.b,18),Qh(c.b.b,18)]))))}\nfunction Bc(a){var b,c;if(a.l){b=Gb(a.h,a.k);c=a.d+4;$l(a.c,a.o,c,b);a.m=b.length;a.n=a.o+a.m}else{a.n=a.d}a.o=-1}\nfunction Ec(a){Cc(a,a.n);while(a.i.b>-1){oc(a);Cc(a,a.d);a.i.b>-1?zc(a):Bc(a);Cc(a,a.n)}Cb(a.h,a.c,a.n);return a.c.b.b}\nfunction Oc(a){var b;this.b=Gh(Ij,Go,-1,256,2);for(b=0;b<a.length;b++){a.charCodeAt(b)<256&&(this.b[a.charCodeAt(b)]=true)}}\nfunction Yd(a){this.j=Hh(Jj,Ho,2,[]);this.f=Gh(Dj,Fo,-1,a.length,1);ml(a,a.length,this.f,0);this.k=a.length;this.h=this.i=0}\nfunction Fc(){this.b=new po('^\\\\s*<\\/p>\\\\s*<p([^>])*>(<[^>]*>)*&nbsp;(<[^>]*>)*<\\/p>\\\\s*$');this.e=new po('^<\\/p>\\\\s*$')}\nfunction Lf(){Lf=zo;af();Te();Kf=new Be(true);ce();Hf=new pd;If=new _d('class');Jf=new _d(zp);Gf=new Oc('<lscovwxp')}\nfunction gwtOnLoad(b,c,d,e){$moduleName=c;$moduleBase=d;Lj=e;if(b)try{Ro(Oj)()}catch(a){b(c)}else{Ro(Oj)()}}\nfunction Fb(a){var b,c,d,e;b=(d=a.c,d.length==0?To:\" type='\"+d+Wo);c=(e=a.e,e==1?To:\" start='\"+e+Wo);return $o+b+c+_o}\nfunction qo(a,b){var c,d;this.b=(c=false,d=To,(b&1)!=0&&(d+='m'),(b&2)!=0&&(d+=hp),(b&32)!=0&&(c=true),vk(a,d,c))}\nfunction ih(a,b){var c;c=bh(a,b);if(c.length==0){return (new Vg).D(b)}else{c[0].indexOf('anonymous@@')==0&&(c=Rg(c,1));return c}}\nfunction Rd(a,b){var c,d;c=b.length-1;if((d=a.i+c)>=a.k){return false}do{if(b[c--]!=a.f[d--]){return false}}while(c>=0);return true}\nfunction Qd(a,b,c){var d,e;e=b;d=c.length-1;if((e+=d)>=a.k){return false}do{if(c[d--]!=a.f[e--]){return false}}while(d>=0);return true}\nfunction Ld(a,b,c){var d,e,f;e=b.length;for(f=a.i;f<c;f++){for(d=0;d<e;d++){if(b[d]==a.f[f]){a.i=f;return true}}}return false}\nfunction Cm(h,a,b){var c=h.b[b];if(c){for(var d=0,e=c.length;d<e;++d){var f=c[d];var g=f.S();if(h.P(a,g)){return true}}}return false}\nfunction Am(h,a,b){var c=h.b[b];if(c){for(var d=0,e=c.length;d<e;++d){var f=c[d];var g=f.S();if(h.P(a,g)){return f.T()}}}return null}\nfunction wm(h,a){var b=h.b;for(var c in b){var d=parseInt(c,10);if(c==d){var e=b[d];for(var f=0,g=e.length;f<g;++f){a.J(e[f])}}}}\nfunction bh(a,b){var c,d,e,f;e=Th(b)?Rh(b):null;f=e&&e.stack?e.stack.split('\\n'):[];for(c=0,d=f.length;c<d;c++){f[c]=a.B(f[c])}return f}\nfunction cc(a){var b,c,d,e;e=Hh(Dj,Fo,-1,[99,100,108,109]);for(c=0,d=e.length;c<d;++c){b=e[c];if(b==a||Fk(b)==Fk(a)){return true}}return false}\nfunction Id(a,b,c,d){var e,f,g;g=a.k-d+1;for(f=a.i;f<g;f++){for(e=0;e<d;e++){if(b[c+e]!=a.f[f+e]){break}}if(e==d){a.i=f;return true}}return false}\nfunction wg(){var a;if(qg!=0){a=(new Date).getTime();if(a-sg>2000){sg=a;tg=Fg()}}if(qg++==0){Jg((Ig(),Hg));return true}return false}\nfunction G(a,b,c,d){if(a.b.b.length>1&&a.b.b.charCodeAt(0)==b&&a.b.b.charCodeAt(1)==c){yh(a.b,0,2,To);return d}else{return 0}}\nfunction zl(a){var b;b=0;while(0<=(b=a.indexOf('\\\\',b))){a.charCodeAt(b+1)==36?(a=ul(a,0,b)+'$'+tl(a,++b)):(a=ul(a,0,b)+tl(a,++b))}return a}\nfunction pc(a){var b;b=a.j;while(true){if(Xl(a.c,b)==60){b=tc(a,b)}else if(vc(a,b,kp)||vc(a,b,lp)){b=sc(a,b)}else if(wc(a,b)){++b}else{break}}return b}\nfunction ld(a,b,c){var d;if(!Rd(b,jd)){return false}d=b.h;if(!Od(b,d)){return false}b.i=d;return Md(b)&&fd(a,b,c,d,b.e,b.d,b.b)}\nfunction $d(a,b,c){if(!Rd(b,a.b)){return false}if(!Od(b,b.h)){return false}b.i=b.h+a.b.length-1;if(!Md(b)){return false}Sf(c);b.h=b.i=b.b;return true}\nfunction Me(a,b){if(!Rd(a,Ke)){return false}if(!Nd(a)){return false}if(!Qd(a,a.m,Je)){return false}if(!Md(a)){return false}Wd(a,a.b);Sf(b);return true}\nfunction nb(a){var b,c,d,e;c=a.b.b.b.indexOf('mso-number-format:');if(c<0){return false}d=c+18;b=mb(a,d);e=d-18;e>-1&&Yl(a.b,e,b);return true}\nfunction Ac(a){var b;while(a.i.b>-1){b=a.i.b-1;while(b>-1&&Xl(a.c,b)!=60){--b}if(b>-1){if(Xl(a.c,b+1)==112){break}Cc(a,a.i.b+8)}}}\nfunction Al(a,b,c){var d=To;for(var e=b;e<c;){var f=Math.min(e+10000,c);d+=String.fromCharCode.apply(null,a.slice(e,f));e=f}return d}\nfunction gc(a,b,c){var d,e,f;d=new po('\\\\d+');e=new no(d,c);e.e=Yj(e.c,e.b);if(e.e){f=rl(e.e[0],Uo,Vo);a.e=Yk(f);return b+f.length-1}a.e=1;return b}\nfunction jn(a,b){var c,d;for(c=0,d=a.b.length;c<d;++c){if(b==null?(mn(c,a.b.length),a.b[c])==null:lg(b,(mn(c,a.b.length),a.b[c]))){return c}}return -1}\nfunction xc(a,b,c){var d,e,f,g,h;for(g=0,h=c.length;g<h;++g){f=c[g];e=f.length;if(b+e<a.c.b.b.length){d=am(a.c,b+1,b+e+1);if(ll(d,f)){return true}}}return false}\nfunction Hd(a,b,c){var d,e,f,g;d=b.length;g=c-b.length+1;for(f=a.i;f<g;f++){for(e=0;e<d;e++){if(b[e]!=a.f[f+e]){break}}if(e==d){a.i=f;return true}}return false}\nfunction Nj(){switch(Lj){case 4:case 9:return new rk;case 1:case 6:return new fk;case 3:case 8:return new nk;case 2:case 7:return new jk;}return new bk}\nfunction wl(c){if(c.length==0||c[0]>Vp&&c[c.length-1]>Vp){return c}var a=c.replace(/^([\\u0000-\\u0020]*)/,To);var b=a.replace(/[\\u0000-\\u0020]*$/,To);return b}\nfunction rc(a,b){var c,d,e,f;d=b;c=false;e=b;while(!c){if(e<a.c.b.b.length&&(Xl(a.c,e)!=60||(f=Hh(Hj,Do,1,['/p>']),!xc(a,e,f)))){++e;d=e}else{c=true}}return d}\nfunction ac(){ac=zo;$b=new po('^m{0,4}(cm|cd|d?c{0,3})(xc|xl|l?x{0,3})(ix|iv|v?i{0,3})$');_b=new po('^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$')}\nfunction le(a){if(!Rd(a,je)){return false}Td(a,je.length);if(!Gd(a,ie)){return false}Td(a,ie.length);if(!Gd(a,he)){return false}Wd(a,a.i+he.length);return true}\nfunction Fh(a,b){var c=new Array(b);if(a==3){for(var d=0;d<b;++d){c[d]={l:0,m:0,h:0}}}else if(a>0&&a<3){var e=a==1?0:false;for(var d=0;d<b;++d){c[d]=e}}return c}\nfunction Ok(a,b){var c;b.d=a;if(a==2){c=String.prototype}else{if(a>0){var d=Mk(b);if(d){c=d.prototype}else{d=Tj[a]=function(){};d.cZ=b;return}}else{return}}c.cZ=b}\nfunction Dl(a){var b,c;if(a>=65536){b=55296+(~~(a-65536)>>10&1023)&65535;c=56320+(a-65536&1023)&65535;return Cl(b)+Cl(c)}else{return String.fromCharCode(a&65535)}}\nfunction uo(a){var b,c,d,e,f;f=sl(a,'\\\\.',0);e=$wnd;b=0;for(c=f.length-1;b<c;b++){if(!kl(f[b],'client')){e[f[b]]||(e[f[b]]={});e=wo(e,f[b])}}d=wo(e,f[b]);return d}\nfunction Nb(){Nb=zo;Lb=new qo('mso\\\\-list:.*?([;\"\\'])',32);Kb=new qo('style=[\"\\'].*?mso\\\\-list:.*?level([0-9]+).*?[\"\\']',32);Mb=new po('<ul([^>]*)><li><ul([^>]*)>')}\nfunction mb(a,b){var c,d,e,f,g,h;e=b;f=b-18>-1;d=false;g=0;while(f){c=Xl(a.b,e);c==34&&g!=92&&(d=!d);(h=c==59&&!d,e==a.b.b.b.length-1||h)&&(f=false);++e;g=c}return e}\nfunction ne(){ne=zo;me=new ad(Hh(Hj,Do,1,['font','span','b',hp,'u','sub','sup','em','strong','samp','acronym','cite','code','dfn','kbd','tt','s','ins','del','var']))}\nfunction cl(){cl=zo;bl=Hh(Dj,Fo,-1,[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122])}\nfunction ze(){ze=zo;xe=vl('<link');ye=vl('rel=');ve=Hh(Jj,Ho,2,[vl(up),vl(vp),vl(wp),vl(xp),vl(yp)]);we=Hh(Jj,Ho,2,[vl(up),vl(vp),vl(wp),vl(xp),vl(yp),vl('stylesheet')])}\nfunction Zk(a){var b,c,d;b=Gh(Dj,Fo,-1,8,1);c=(cl(),bl);d=7;if(a>=0){while(a>15){b[d--]=c[a&15];a>>=4}}else{while(d>0){b[d--]=c[a&15];a>>=4}}b[d]=c[a&15];return Al(b,d,8)}\nfunction Cc(a,b){var c;c=Zl(a.c,b);c>-1&&(vc(a,c,'mso-list:none')||vc(a,c,'mso-list:\\nnone')||vc(a,c,'mso-list:Ignore')||vc(a,c,'mso-list:skip'))?Cc(a,c+13):Xb(a.i,c);Ac(a)}\nfunction Ze(a,b){var c,d;if(!Rd(a,Xe)){return false}if(!Gd(a,We)){return false}c=a.i+We.length;if(!Gd(a,Ve)){return false}d=a.i;Rf(b,a.f,c,d-c);Wd(a,a.i+Ve.length);return true}\nfunction Yc(a,b){Wc();var c,d,e,f,g;c=new Yd(a);e=new Tf(a.length);g=b==1?Vc:Uc;d=g.length-1;for(f=0;f<d;f++){Xc(c,e,g[f]);Zc(c,e)}while(Xc(c,e,g[d])){Zc(c,e)}return Fl(e.b,e.c)}\nfunction eg(a){var b;if(a.d==null){b=a.c===cg?null:a.c;a.e=b==null?Bp:Th(b)?hg(Rh(b)):Sh(b,1)?Cp:mg(b).e;a.b=a.b+Ap+(Th(b)?gg(Rh(b)):b+To);a.d=ap+a.e+') '+(Th(b)?Pg(Rh(b)):To)+a.b}}\nfunction Tg(b){var c=To;try{for(var d in b){if(d!='name'&&d!='message'&&d!='toString'){try{var e=d!='__gwt$exception'?b[d]:'<skipped>';c+='\\n '+d+Ap+e}catch(a){}}}}catch(a){}return c}\nfunction Xj(a){return $stats({moduleName:$moduleName,sessionId:$sessionId,subSystem:'startup',evtGroup:'moduleStartup',millis:(new Date).getTime(),type:'onModuleLoadStart',className:a})}\nfunction Ub(a){var b,c,d;c=new no(Mb,a);c.e=Yj(c.c,c.b);if(c.e){b=rl(c.e[1],Uo,Vo);d=rl(c.e[2],Uo,Vo);return rl(Zj(c.c,c.b,fp+b+\"><li style='list-style: none;'><ul\"+d+_o),Uo,Vo)}return a}\nfunction dc(a,b){var c,d,e,f,g;f=Hh(Dj,Fo,-1,[105,118,120,99,100,108,109]);for(d=0,e=f.length;d<e;++d){c=f[d];if(g=c-1&65535,b==c&&a.b==g||lc(a,Fk(c),Fk(g),Fk(b))){return true}}return false}\nfunction Og(a){var b,c,d;d=To;a=wl(a);b=a.indexOf(ap);c=a.indexOf('function')==0?8:0;if(b==-1){b=nl(a,Dl(64));c=a.indexOf('function ')==0?9:0}b!=-1&&(d=wl(ul(a,c,b)));return d.length>0?d:Dp}\nfunction Ng(b,c){var d,e,f,g;for(e=0,f=b.length;e<f;e++){g=b[e];try{g[1]?g[0].X()&&(c=Mg(c,g)):g[0].X()}catch(a){a=Rj(a);if(Sh(a,17)){d=a;Cg(Sh(d,7)?Qh(d,7).v():d)}else throw Qj(a)}}return c}\nfunction Ae(a,b){if(!Rd(b,xe)){return false}Vd(b,b.h+xe.length);if(!Nd(b)){return false}if(!Hd(b,ye,b.l)){return false}if(!Md(b)){return false}if(!Sd(b,b.e,a.b)){return false}Wd(b,b.l+1);return true}\nfunction de(a,b){var c,d;c=a.f;d=a.h;if(c[d+1]!=58){return false}if(!Nc(ae,c[d])){return false}if(!Nc(be,c[d-1])){return false}if(!Nd(a)){return false}if(!Md(a)){return false}Wd(a,a.b);Sf(b);return true}\nfunction cf(a){var b,c;if((a.i>=a.k?0:a.f[a.i])!=64){return false}b=a.h;a.i+=1;c=a.f[b+1];if(!Ck(c)&&c!=95){return false}if(!Ed(a,123)){return false}if(!Ed(a,125)){return false}Wd(a,a.i+1);return true}\nfunction Kl(a){var b,c,d,e;b=0;d=a.length;e=d-4;c=0;while(c<e){b=a.charCodeAt(c+3)+31*(a.charCodeAt(c+2)+31*(a.charCodeAt(c+1)+31*(a.charCodeAt(c)+31*b)))|0;c+=4}while(c<d){b=b*31+jl(a,c++)}return b|0}\nfunction Fm(j,a,b,c){var d=j.b[c];if(d){for(var e=0,f=d.length;e<f;++e){var g=d[e];var h=g.S();if(j.P(a,h)){var i=g.T();g.U(b);return i}}}else{d=j.b[c]=[]}var g=new bo(a,b);d.push(g);++j.e;return null}\nfunction Ih(a,b,c){if(c!=null){if(a.qI>0&&!Ph(c,a.qI)){throw new yk}else if(a.qI==-1&&(c.tM==zo||Oh(c,1))){throw new yk}else if(a.qI<-1&&!(c.tM!=zo&&!Oh(c,1))&&!Ph(c,-a.qI)){throw new yk}}return a[b]=c}\nfunction Uj(a,b,c){var d=Tj[a];if(d&&!d.cZ){_=d.prototype}else{!d&&(d=Tj[a]=function(){});_=d.prototype=b<0?{}:Vj(b);_.cM=c}for(var e=3;e<arguments.length;++e){arguments[e].prototype=_}if(d.cZ){_.cZ=d.cZ;d.cZ=null}}\nfunction ib(a){var b,c,d,e;c=new po('(class=)([^>\\\\s]*)');b=new no(c,a);e=new Ql;while(b.e=Yj(b.c,b.b),!!b.e){d=rl(b.e[2],Uo,Vo);d=d.toLowerCase();ko(b,e,rl(b.e[1],Uo,Vo)+d)}Pl(e,rl(tl(b.b,b.d),Uo,Vo));return e.b.b}\nfunction Nd(a){for(a.m=a.i;a.m>=0;a.m--){if(a.f[a.m]==62){return false}if(a.f[a.m]==60){break}}if(a.m<0){return false}for(a.l=a.i;a.l<a.k;a.l++){if(a.f[a.l]==60){return false}if(a.f[a.l]==62){return true}}return false}\nfunction qc(a,b){var c,d;c=false;d=b;while(!c){if(vc(a,d,kp)||vc(a,d,lp)){d=sc(a,d);a.f=true}else !a.f&&ll(am(a.c,d,d+5),mp)||d+5<a.c.b.b.length&&ll(am(a.c,d,d+6),np)?(d=tc(a,d)):wc(a,d)?++d:(c=true)}a.f=false;return d}\nfunction Ie(a){var b,c;if(!Rd(a,De)){return false}if(!Ed(a,62)){return false}b=a.i;Vd(a,a.h+De.length);if(!Hd(a,Ee,b)){return false}c=a.i+Ee.length;a.f[c]==34&&++c;if(Qd(a,c,Ge)||Qd(a,c,Ce)||Qd(a,c,Fe)){a.h=a.i=b+1;return true}return false}\nfunction jb(b,c,d){var e,f,g;try{g=b?(Wc(),Tc):1;e=Yc(d,g);b&&!c&&(e=ib(e));return N(),N(),new V(new Y(e),M)}catch(a){a=Rj(a);if(Sh(a,13)){f=a;return N(),R(To,new Mn(Hh(Hj,Do,1,['Failed to clean MS Office HTML.\\n'+f.u()])))}else throw Qj(a)}}\nfunction vd(a,b,c){var d,e,f,g;e=c;a.i=b;if(!Fd(a,46,c)){return}do{a.i+=1}while(Fd(a,46,c));d=a.i;Ld(a,sd,c)&&(e=a.i);if(e==d){return}f=a.j;g=f.length;a.j=Gh(Jj,Ho,2,g+1,0);g!=0&&hm(f,0,a.j,0,g);a.j[g]=Gh(Dj,Fo,-1,e-d,1);hm(a.f,d,a.j[g],0,e-d)}\nfunction oc(a){var b,c,d,e;b=(a.j=Wb(a.i,a.c),a.o==-1&&(a.o=a.j),c=Dc(a),lo(new no(new po('[0-9]\\\\.[0-9]'),uc(a,c)))?(a.l=false):Bb(a.h,a.j,a.c,a.k),d=(e=yc(c+1,Xl(a.c,c+1)),qc(a,e)),a.d=rc(a,d),am(a.c,d,a.d));if(a.k.f){Db(a.h);Ib(a.h,a.k)}Ab(a.h,b,a.k)}\nfunction fc(a,b,c){var d,e;d=hc(a,c,b,$b);if(d>0){return a.c=hp,jc(a,b,c,d)}e=hc(a,c,b,_b);if(e>0){return a.c='I',jc(a,b,c,e)}if(Dk(jl(b.b.b,c))){bc(a,b,c,'a');return c}if(Ck(jl(b.b.b,c))){bc(a,b,c,'A');return c}else{return a.c=To,a.b=0,gc(a,c,tl(b.b.b,c))}}\nfunction Cd(a,b){var c,d,e,f,g;if(!Rd(a,yd)){return false}g=a.i;if(!Gd(a,xd)){return false}c=a.i+xd.length;d=b.c;Rf(b,yd,0,yd.length);e=a.k;Ud(a,a.f,a.i);Wd(a,g+yd.length);f=Bd(a,b);Ud(a,a.f,e);if(f){Rf(b,xd,0,xd.length);a.h=a.i=c}else{b.c=d;a.h=a.i=g}return f}\nfunction ad(a){var b,c,d,e,f,g,h;this.b=Gh(Kj,Do,3,128,0);for(c=0,d=a.length;c<d;++c){b=a[c];g=vl(b);e=g[0];e>=128&&(e=0);if(this.b[e]==null){this.b[e]=Hh(Jj,Ho,2,[g])}else{h=this.b[e];f=h.length;this.b[e]=Gh(Jj,Ho,2,f+1,0);hm(h,0,this.b[e],0,f);this.b[e][f]=g}}}\nfunction rb(a,b){var c,d,e,f,g,h;d='Content before importing MS-Word lists:\\r\\n'+a;f=Qb(a,b);c='Content after importing MS-Word lists:\\r\\n'+f;e=(g=new po('\\xB7'),h=new no(g,f),h.e=Yj(h.c,h.b),h.e?rl(Zj(h.c,h.b,'&#8226;'),Uo,Vo):f);return R(e,new Mn(Hh(Hj,Do,1,[d,c])))}\nfunction Rc(a,b){var c,d,e,f;if(!Sc(a,Pc)){return false}d=a.i;c=a.h+Pc.length;a.i=c;a.h=a.i=c;e=vl('<img ');Rf(b,e,0,e.length);f=vl('o:title=\"');if(!Hd(a,f,d)){return true}Rf(b,a.f,c,a.i-c);Vd(a,a.i+f.length);if(!Fd(a,34,d)){return true}Vd(a,a.i+1);Wd(a,a.i);return true}\nfunction ge(a,b){var c,d;if(a.j.length==0){return false}if(!Rd(a,ee)){return false}if(!Nd(a)){return false}if(!Md(a)){return false}c=a.d-a.e;for(d=0;d<a.j.length;d++){if(a.j[d].length==c){if(Qd(a,a.e,a.j[d])){break}}}if(d==a.j.length){return false}Wd(a,a.b);Sf(b);return true}\nfunction Pb(a){var b,c,d,e,f,g;d=new po('<span[^>]*font-family:Symbol[^>]*>\\xB7<span');e=new po('font-family:Symbol');b=new no(d,a);g=new Ql;while(b.e=Yj(b.c,b.b),!!b.e){c=new no(e,rl(b.e[0],Uo,Vo));f=rl(Zj(c.c,c.b,To),Uo,Vo);ko(b,g,f)}Pl(g,rl(tl(b.b,b.d),Uo,Vo));return g.b.b}\nfunction Bd(a,b){var c,d,e,f;d=false;f=32;c=a.i>=a.k?0:a.f[a.i];while(c!=0){e=false;switch(c){case 64:e=cf(a);break;case 47:e=Qe(a);}!e&&(f==10||f==13)&&(e=ud(zd,a,b));if(e){d=true;f=b.c==0?0:b.b[b.c-1];a.i=a.h;c=a.i>=a.k?0:a.f[a.i]}else{Qf(b,f=c);c=(a.i=++a.h)>=a.k?0:a.f[a.i]}}return d}\nfunction jh(a,b){var c,d,e,f,g,h,i,j,k,l;l=Gh(Gj,Do,16,b.length,0);for(f=0,g=l.length;f<g;f++){k=sl(b[f],Fp,0);i=-1;c=-1;e=Gp;if(k.length==2&&k[1]!=null){j=k[1];h=pl(j,Dl(58));d=ql(j,Dl(58),h-1);e=ul(j,0,d);if(h!=-1&&d!=-1){i=Qg(ul(j,d+1,h));c=Qg(tl(j,h+1))}}l[f]=new gl(k[0],e+So+c,a.G(i<0?-1:i))}Zf(l)}\nfunction zc(a){var b,c,d,e,f,g,h,i,j;c=Wb(a.i,a.c);d=am(a.c,a.d,c);e=new no(a.b,d);e.e=Yj(e.c,e.b);!!e.e&&(h=a.d+4,Yl(a.c,h,c),i=a.i.b,j=c-h,Xb(a.i,i-j),undefined);b=Wb(a.i,a.c);if(f=am(a.c,a.d,b),g=new no(a.e,f),g.e=Yj(g.c,g.b),!g.e){a.n=a.d+4;Bb(a.h,b,a.c,a.k);Bc(a);a.l=true;Hb(a.h);ic(a.k)}else{a.n=a.d+4}}\nfunction Yk(a){var b,c,d,e,f;if(a==null){throw new el(Bp)}d=a.length;e=d>0&&(a.charCodeAt(0)==45||a.charCodeAt(0)==43)?1:0;for(b=e;b<d;b++){if(Ak(a.charCodeAt(b))==-1){throw new el(Up+a+op)}}f=parseInt(a,10);c=f<-2147483648;if(isNaN(f)){throw new el(Up+a+op)}else if(c||f>2147483647){throw new el(Up+a+op)}return f}\nfunction ed(){ed=zo;dd=new ad(Hh(Hj,Do,1,['font-color','horiz-align','language','list-image-','mso-','page:','separator-image','tab-stops','tab-interval','text-underline','text-effect','text-line-through','table-border-color-dark','table-border-color-light','vert-align','vnd.ms-excel.']));cd=new ad(Hh(Hj,Do,1,[bp]))}\nfunction te(a,b){var c,d,e,f;if(!Rd(a,re)){return false}f=a.h+re.length;for(;f<a.k;f++){c=a.f[f];if(c==62){break}if(c!=32&&c!=10&&c!=9&&c!=13){return false}}e=a.i=f+1;if(!Gd(a,qe)){return false}d=a.i;a.i=e;if(Hd(a,re,d)){return false}Vd(a,d+qe.length);if(!Ed(a,62)){return false}Rf(b,a.f,e,d-e);Wd(a,a.i+1);return true}\nfunction Xc(a,b,c){var d,e,f,g,h,i,j;j=a.k;e=a.f;a.h=a.i=0;f=32;d=c.t();h=0;i=0;g=false;while(i<j){for(;h<j;h++){f=e[h];if(f<256&&d[f]){break}}if(h>=j){hm(e,i,b.b,b.c,j-i);b.c+=j-i;break}(f==10||f==13)&&++h;h!=i&&(hm(e,i,b.b,b.c,h-i),b.c+=h-i);if(h==j){break}a.i=a.h=h;if(c.s(a,b,f)){g=true;i=h=a.i=a.h}else{i=h;f!=10&&f!=13&&++h}}return g}\nfunction fd(a,b,c,d,e,f,g){var h,i,j,k,l,m;l=d;m=e;k=c.c;b.i=e;i=false;j=false;while(m<f){if(!Xd(b)||b.i>=f){break}h=a.r(b);if(h){i=true;m!=l&&Rf(c,b.f,l,m-l);if(Fd(b,59,f)){l=m=b.i+=1}else{l=f;break}}else{j=true;if(Fd(b,59,f)){m=b.i+=1}else{break}}}if(j&&!i){return false}if(j&&i){g!=l&&Rf(c,b.f,l,g-l)}else{c.c=k;Sf(c)}b.h=b.i=g;return true}\nfunction oe(a){var b,c,d,e,f;d=a.h+1;b=a.f[d];if(b>127){return false}f=me.b[b];if(f==null){return false}for(c=0;c<f.length;c++){if(Qd(a,d,f[c])){break}}if(c==f.length){return false}e=f[c];a.i=d+e.length;if(!Ed(a,62)){return false}d=a.i+1;if(a.f[d++]!=60||a.f[d++]!=47){return false}if(!Qd(a,d,e)){return false}a.i=d+e.length;if(!Ed(a,62)){return false}Wd(a,a.i+1);return true}\nfunction ud(a,b,c){var d,e,f,g,h,i,j,k,l;i=b.i;if(b.f[b.i+-1]!=10&&b.f[b.i+-1]!=13){return false}d=b.i>=b.k?0:b.f[b.i];if(d==123||d==125){return false}f=b.i;if(!Kd(b,rd)){return false}e=b.i;if((b.i>=b.k?0:b.f[b.i])!=123){if(!Xd(b)){return false}if((b.i>=b.k?0:b.f[b.i])!=123){return false}}l=b.i+1;if(!Ed(b,125)){return false}j=b.i;k=j+1;g=c.c;h=fd(a,b,c,i,l,j,k);h&&c.c<=g&&vd(b,f,e);return h}\nfunction bf(a,b){var c,d,e,f,g,h;f=a.h;if(a.f[f+2]!=58||a.f[f]!=60){return false}if(!Nc(_e,a.f[f+1])){return false}h=f+1;a.i=f+3;if(!Jd(a,$e)){return false}g=a.i-h;if(!Ed(a,62)){return false}if(Pd(a,a.i-1)==47){Wd(a,a.i+1);return true}e=a.i+1;while(Id(a,a.f,h,g)){d=a.i-1;c=a.f[d];if(c==60){return false}if(c==47&&Pd(a,--d)==60){if(!Ed(a,62)){return false}Rf(b,a.f,e,d-e);Wd(a,a.i+1);return true}++a.i}return false}\nfunction hc(a,b,c,d){var e,f,g,h,i,j,k;e=(i=ol(c.b.b,ip,b),j=ol(c.b.b,jp,b),k=ol(c.b.b,'<',b),i>0&&i<k?i:j<k?j:-1);if(e>0){h=ul(c.b.b,b,e);if(h.length==1&&ec(a,h.charCodeAt(0))){return -1}if(h.indexOf(kp)==-1){g=new no(d,h);f=(g.e=Yj(g.c,g.b),!!g.e);if(f&&(!g.e||g.e.length<1?-1:g.e.index)!=(!g.e||g.e.length<1?-1:g.e.index+g.e[0].length)){return (!g.e||g.e.length<1?-1:g.e.index+g.e[0].length)-(!g.e||g.e.length<1?-1:g.e.index)}}}return -1}\nfunction H(b){var c,d,e,f,g,h,i;d=0;c=new Rl(b.toLowerCase());e=false;try{d=(f=(g=0,g+=C(c,109,1000),g+=G(c,99,109,900),g+=F(c,100,500),g+=G(c,99,100,400),g),f=(h=f,h+=C(c,99,100),h+=G(c,120,99,90),h+=F(c,108,50),h+=G(c,120,108,40),h),f=(i=f,i+=C(c,120,10),i+=G(c,105,120,9),i+=F(c,118,5),i+=G(c,105,118,4),i),f+=C(c,105,1),f)}catch(a){a=Rj(a);if(Sh(a,14)){e=true}else throw Qj(a)}if(e||c.b.b.length>0){throw new Uk(b+' is not a parsable roman numeral')}return d}\nfunction sl(l,a,b){var c=new RegExp(a,Tp);var d=[];var e=0;var f=l;var g=null;while(true){var h=c.exec(f);if(h==null||f==To||e==b-1&&b>0){d[e]=f;break}else{d[e]=f.substring(0,h.index);f=f.substring(h.index+h[0].length,f.length);c.lastIndex=0;if(g==f){d[e]=f.substring(0,1);f=f.substring(1)}g=f;e++}}if(b==0&&l.length>0){var i=d.length;while(i>0&&d[i-1]==To){--i}i<d.length&&d.splice(i,d.length-i)}var j=yl(d.length);for(var k=0;k<d.length;++k){j[k]=d[k]}return j}\nfunction Md(a){var b,c;for(b=a.i;b<a.k;b++){if(a.f[b]==62){return false}if(a.f[b]==61){break}}if(b==a.k){return false}a.c=++b;c=a.f[b];if(c==34||c==39){a.e=++b;for(;b<a.k;b++){if(a.f[b]==62){return false}if(a.f[b]==c){break}}if(b==a.k){return false}a.d=b;a.b=b+1;a.i=a.e;return true}else{a.e=a.c;for(;b<a.k;b++){if(a.f[b]==62){break}if(a.f[b]==32){break}if(a.f[b]==9){break}if(a.f[b]==13){break}if(a.f[b]==10){break}}if(b==a.k){return false}a.d=a.b=b;return true}}\nfunction Oj(){var a,b,c;Wj()&&Xj('com.google.gwt.useragent.client.UserAgentAsserter');a=Qh(Nj(),9);b=a.H();c=a.I();kl(b,c)||($wnd.alert('ERROR: Possible problem with your *.gwt.xml module file.\\nThe compile time user.agent value ('+b+') does not match the runtime user.agent value ('+c+'). Expect more errors.\\n'),undefined);Wj()&&Xj('com.google.gwt.user.client.DocumentModeAsserter');_j();Wj()&&Xj('com.ephox.keurig.client.Keurig');yo();new fb;$wnd.gwtInited&&$wnd.gwtInited()}\nfunction Sb(a,b,c,d){var e,f,g,h,i,j,k;f=new no(new qo(ap+b+'\\\\s*){2,}',32),a);i=new Ql;while(f.e=Yj(f.c,f.b),!!f.e){h=new po(b);e=rl(f.e[0],Uo,Vo);if(e.indexOf(bp)==-1){continue}g=new no(h,e);j=new Ql;g.e=Yj(g.c,g.b);if(g.e){k=rl(g.e[1],Uo,Vo);k=d.q(k);ko(g,j,$o+k+cp+wl(rl(rl(g.e[c],Uo,Vo),dp,ep))+Zo)}while(g.e=Yj(g.c,g.b),!!g.e){ko(g,j,Yo+wl(rl(rl(g.e[c],Uo,Vo),dp,ep))+Zo)}wh(j.b,Xo);Pl(j,rl(tl(g.b,g.d),Uo,Vo));ko(f,i,wl(rl(j.b.b,dp,ep)))}Pl(i,rl(tl(f.b,f.d),Uo,Vo));return i.b.b}\nfunction hm(a,b,c,d,e){var f,g,h,i,j,k,l,m,n;if(a==null||c==null){throw new al}m=mg(a);i=mg(c);if((m.c&4)==0||(i.c&4)==0){throw new zk('Must be array types')}l=m.b;g=i.b;if(!((l.c&1)!=0?l==g:(g.c&1)==0)){throw new zk('Array types must match')}n=a.length;j=c.length;if(b<0||d<0||e<0||b+e>n||d+e>j){throw new Wk}if(((l.c&1)==0||(l.c&4)!=0)&&m!=i){k=Qh(a,15);f=Qh(c,15);if(Vh(a)===Vh(c)&&b<d){b+=e;for(h=d+e;h--\x3ed;){Ih(f,h,k[--b])}}else{for(h=d+e;d<h;){Ih(f,d++,k[b++])}}}else{Array.prototype.splice.apply(c,[d,e].concat(a.slice(b,b+e)))}}\nfunction Tb(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,q,r,s;j=new no(new qo(ap+b+'\\\\s*)+',32),a);o=new Ql;while(j.e=Yj(j.c,j.b),!!j.e){m=new qo(b,32);k=new no(m,rl(j.e[0],Uo,Vo));q=new Ql;e=0;d=1;while(k.e=Yj(k.c,k.b),!!k.e){n=rl(k.e[1],Uo,Vo);i=new no(Kb,n);i.e=Yj(i.c,i.b);if(i.e){c=(r=rl(k.e[4],Uo,Vo),kl(r,'\\xA7')?' type=\"square\"':kl(r,'o')?' type=\"circle\"':To);l=(s=new no(Kb,n),s.e=Yj(s.c,s.b),s.e?Yk(rl(s.e[1],Uo,Vo)):d);h=l>e?I(fp+c+cp,l-e):I(gp,e-l)+'<\\/li><li>';f=rl(k.e[7],Uo,Vo);f=f;f=wl(rl(f,dp,ep));ko(k,q,h+f);e=l;d=l}}Pl(q,I(gp,e));Pl(q,rl(tl(k.b,k.d),Uo,Vo));g=q.b.b;g=Ub(g);g=g;g=wl(rl(g,dp,ep));ko(j,o,g)}Pl(o,rl(tl(j.b,j.d),Uo,Vo));return o.b.b}\nfunction Qb(a,b){var c,d,e,f;c=(e=new no(new qo('<\\/?u[0-9]:p>',33),a),rl(Zj(e.c,e.b,To),Uo,Vo));c=Tb(c,'<p([^>]*)>(<[^>]*>)*?(<span[^>]*?>){1,3}([\\xB7\\xA7\\u2022o-]|\\xD8|&middot;|<img[^>]*>)(&nbsp;)*\\\\s*<span[^>]*>.*?(<\\/span>){2,3}(.*?)<\\/p>');c=Tb(c,'<p([^>]*)>(<[^>]*>)*?(<span[^>]*?>){1,3}([\\xB7\\xA7\\u2022o-]|\\xD8|&middot;|<img[^>]*>)(&nbsp;)*\\\\s*(<\\/span[^>]*>){1,3}(.*?)<\\/p>');c=Rb(c,'<p[^>]*>(\\\\d+)\\\\.(&nbsp;)+(.*?)<\\/p>',3);c=Rb(c,'<p[^>]*>(\\\\d+)((\\\\.)|(\\\\)))\\\\s*\\u0160*(.*?)<\\/p>',5);c=Ob(c,'<p[^>]*>([a-zA-Z])\\\\.(&nbsp;)+(.*?)<\\/p>',3);c=Ob(c,'<p[^>]*>([a-zA-Z])((\\\\.)|(\\\\)))\\\\s*\\u0160*(.*?)<\\/p>',5);d=new Fc;c=(d.n=0,d.k=new mc,d.h=new Jb,d.i=new Yb,d.c=new dm(c),Ec(d));b&&(c=Pb(c));c=mo(new no(Lb,c));c=(f=new no(new qo('style *?=[\\'\"](;?)[\\'\"]',32),c),rl(Zj(f.c,f.b,To),Uo,Vo));return c}\nfunction _j(){var a,b,c;b=$doc.compatMode;a=Hh(Hj,Do,1,[Jp]);for(c=0;c<a.length;c++){if(kl(a[c],b)){return}}a.length==1&&kl(Jp,a[0])&&kl('BackCompat',b)?\"GWT no longer supports Quirks Mode (document.compatMode=' BackCompat').<br>Make sure your application's host HTML page has a Standards Mode (document.compatMode=' CSS1Compat') doctype,<br>e.g. by using &lt;!doctype html&gt; at the start of your application's HTML page.<br><br>To continue using this unsupported rendering mode and risk layout problems, suppress this message by adding<br>the following line to your*.gwt.xml module file:<br>&nbsp;&nbsp;&lt;extend-configuration-property name=\\\"document.compatMode\\\" value=\\\"\"+b+'\"/&gt;':\"Your *.gwt.xml module configuration prohibits the use of the current doucment rendering mode (document.compatMode=' \"+b+\"').<br>Modify your application's host HTML page doctype, or update your custom 'document.compatMode' configuration property settings.\"}\nfunction eb(h){var e=(yo(),uo('com.ephox.keurig.WordCleaner'));var f,g=h;$wnd.com.ephox.keurig.WordCleaner=Ro(function(){var a,b=this,c=arguments;c.length==1&&g.p(c[0])?(a=c[0]):c.length==0&&(a=new ab);b.g=a;a['__gwtex_wrap']=b;return b});f=$wnd.com.ephox.keurig.WordCleaner.prototype=new Object;$wnd.com.ephox.keurig.WordCleaner.cleanDocument=Ro(function(a,b){var c,d;return c=new tb(a,b),d=sb(c.c,c.d,c.b),Qh(d.c.b,1)});$wnd.com.ephox.keurig.WordCleaner.failingTest=Ro(function(){return Qb((Nb(),\"<p class=msolistparagraphcxspfirst style='text-indent:-18.0pt;mso-list:l0 level1 lfo1'><span style='font-family:Symbol;'><span style='mso-list:Ignore'>\\xB7<span style='font:7.0pt \\\"Times New Roman\\\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\n<\\/span><\\/span><\\/span>One<\\/p>\\n<p class=msolistparagraphcxspmiddle style='text-indent:-18.0pt;mso-list:l0 level1 lfo1'><span style='font-family:Symbol;'><span style='mso-list:Ignore'>\\xB7<span style='font:7.0pt \\\"Times New Roman\\\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\n<\\/span><\\/span><\\/span>Two<\\/p>\\n<p class=msolistparagraphcxsplast style='text-indent:-18.0pt;mso-list:l0 level1 lfo1'><span style='font-family:Symbol;'><span style='mso-list:Ignore'>\\xB7<span style='font:7.0pt \\\"Times New Roman\\\"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\n<\\/span><\\/span><\\/span>Three<\\/p>\"),true)});$wnd.com.ephox.keurig.WordCleaner.yury=Ro(function(a,b){var c;return c=b?(Wc(),Tc):1,Yc(a,c)});if(e)for(p in e)$wnd.com.ephox.keurig.WordCleaner[p]===undefined&&($wnd.com.ephox.keurig.WordCleaner[p]=e[p])}\nvar To='',Vp=' ',op='\"',lp='&#160;',kp='&nbsp;',Wo=\"'\",ap='(',ip=')',Wp=', ',jp='.',Ep=':',Ap=': ',Zo='<\\/li>',gp='<\\/li><\\/ul>',Xo='<\\/ol>',np='<\\/span',qp='<\\/style>',Yo='<li>',$o='<ol',mp='<span',pp='<style',fp='<ul',rp='=',_o='>',cp='><li>',So='@',Fp='@@',Jp='CSS1Compat',vp='Edit-Time-Data',up='File-List',Up='For input string: \"',wp='Ole-Object-Data',xp='Original-File',yp='Preview',Cp='String',Gp='Unknown',Hp='[',Zp='[Ljava.lang.',dp='\\\\$',ep='\\\\\\\\\\\\$',Uo='\\\\uE000',Ip=']',tp=']>',Dp='anonymous',eq='com.ephox.functional.data.immutable.',cq='com.ephox.keurig.client.',dq='com.ephox.tord.guts.',gq='com.ephox.tord.lists.',iq='com.ephox.tord.lists.listattributehandlers.',fq='com.ephox.tord.wordhtmlfilter.',Yp='com.google.gwt.core.client.',_p='com.google.gwt.core.client.impl.',$p='com.google.gwt.useragent.client.',Tp='g',Rp='gecko',Kp='gecko1_8',hp='i',Op='ie10',Qp='ie8',Pp='ie9',Xp='java.lang.',bq='java.util.',hq='java.util.regex.',zp='lang',Np='msie',bp='mso-list',Bp='null',aq='org.timepedia.exporter.client.',sp='ovwxp',Mp='safari',Sp='unknown',Lp='webkit',Vo='\\xA0';var _,Tj={},Fo={2:1,10:1},Lo={10:1,13:1,14:1,17:1},Eo={4:1},Io={6:1},Po={20:1},Ho={3:1,10:1,15:1},Co={},Qo={10:1,18:1},No={19:1},Do={10:1,15:1},Jo={10:1,13:1,17:1},Ko={9:1},Oo={21:1},Go={10:1},Mo={11:1};Uj(1,-1,Co,u);_.eQ=function v(a){return this===a};_.gC=function w(){return this.cZ};_.hC=function A(){return Ag(this)};_.tS=function B(){return this.cZ.e+So+Zk(this.hC())};_.toString=function(){return this.tS()};_.tM=zo;Uj(5,1,{});Uj(6,1,Eo);_.eQ=function P(a){return Sh(a,4)&&T(this,Qh(a,4))};_.hC=function Q(){return 42};_.tS=function S(){return 'value: '+this.c.b+', log: '+Qh(this.b.b,18)};var L,M;Uj(9,6,Eo,V);Uj(11,5,{},Y);Uj(14,1,{5:1},ab);Uj(15,1,{},fb);_.p=function gb(a){return a!=null&&Sh(a,5)};var cb=false;Uj(16,1,{});_.c=false;_.d=false;Uj(17,1,{},ob);Uj(18,16,{},tb);Uj(19,1,{},wb);_.b=false;Uj(20,1,{},Jb);_.b=0;_.c=false;var Kb,Lb,Mb;Uj(22,1,{},Yb);_.b=0;Uj(23,1,{},mc);_.b=0;_.e=0;_.f=false;var $b,_b;Uj(24,1,{},Fc);_.d=0;_.f=false;_.j=0;_.l=true;_.m=0;_.n=0;_.o=-1;Uj(25,1,{},Hc);_.q=function Ic(a){return a!=null&&Ek(a.charCodeAt(0))?' type=\"A\"':' type=\"a\"'};Uj(26,1,{},Kc);_.q=function Lc(a){return a==null||kl(a,'1')?To:' start=\"'+a+op};Uj(27,1,{},Oc);var Pc;var Tc=0,Uc,Vc;Uj(30,1,{},ad);Uj(31,1,{});_.r=function gd(a){var b,c,d;c=a.i>=a.k?0:a.f[a.i];d=_c(cd,c);if(d!=null&&Sd(a,a.i,d)){return false}b=_c(dd,c);return b!=null&&Sd(a,a.i,b)};var cd,dd;Uj(32,31,{},md);var jd;Uj(33,32,{},pd);_.r=function od(a){var b,c;b=a.i>=a.k?0:a.f[a.i];c=_c((ed(),cd),b);return c==null||!Sd(a,a.i,c)};Uj(34,31,{},wd);var rd,sd;var xd,yd,zd;Uj(36,1,{},Yd);_.b=0;_.c=0;_.d=0;_.e=0;_.h=0;_.i=0;_.k=0;_.l=0;_.m=0;Uj(37,1,{},_d);var ae,be;var ee;var he,ie,je;var me;var qe,re;Uj(44,1,{},Be);var ve,we,xe,ye;var Ce,De,Ee,Fe,Ge;var Je,Ke;var Ne,Oe;var Re,Se;var Ve,We,Xe;var $e,_e;Uj(52,1,Io,gf);_.s=function hf(a,b,c){switch(c){case 60:if(oe(a)){return true}a.i=a.h;if(te(a,b)){return true}a.i=a.h;return bf(a,b);case 13:case 10:return pe(a);}return false};_.t=function jf(){return ef.b};var ef;Uj(53,1,Io,nf);_.s=function of(a,b,c){switch(c){case 60:if(Rc(a,b)){return true}a.i=a.h;if(le(a)){return true}a.i=a.h;if(Ze(a,b)){return true}a.i=a.h;return Ie(a);case 120:return Me(a,b);case 13:case 10:return pe(a);}return false};_.t=function pf(){return lf.b};var lf;Uj(54,1,Io,tf);_.s=function uf(a,b,c){switch(c){case 60:if(oe(a)){return true}a.i=a.h;if(te(a,b)){return true}a.i=a.h;return bf(a,b);case 13:case 10:return pe(a);case 99:return ge(a,b);}return false};_.t=function vf(){return rf.b};var rf;Uj(55,1,Io,Cf);_.s=function Df(a,b,c){switch(c){case 60:if(bf(a,b)){return true}a.i=a.h;if(Cd(a,b)){return true}a.i=a.h;if(Ae(Af,a)){return true}a.i=a.h;return false;case 111:case 118:case 119:case 120:case 112:return de(a,b);case 115:return ld(yf,a,b);case 108:return $d(zf,a,b);}return false};_.t=function Ef(){return xf.b};var xf,yf,zf,Af;Uj(56,1,Io,Mf);_.s=function Nf(a,b,c){switch(c){case 60:if(bf(a,b)){return true}a.i=a.h;if(Ue(a)){return true}a.i=a.h;if(Ae(Kf,a)){return true}a.i=a.h;return false;case 115:return ld(Hf,a,b);case 99:return $d(If,a,b);case 108:return $d(Jf,a,b);case 111:case 118:case 119:case 120:case 112:return de(a,b);}return false};_.t=function Of(){return Gf.b};var Gf,Hf,If,Jf,Kf;Uj(57,1,{},Tf);_.tS=function Uf(){return Fl(this.b,this.c)};_.c=0;Uj(63,1,{10:1,17:1});_.u=function $f(){return this.f};_.tS=function _f(){var a,b;a=this.cZ.e;b=this.u();return b!=null?a+Ap+b:a};Uj(62,63,Jo);Uj(61,62,Jo);Uj(60,61,{7:1,10:1,13:1,17:1},fg);_.u=function ig(){eg(this);return this.d};_.v=function jg(){return this.c===cg?null:this.c};var cg;Uj(67,1,{});var qg=0,rg=0,sg=0,tg=-1;Uj(69,67,{},Lg);var Hg;Uj(72,1,{},Vg);_.w=function Wg(){var a={};var b=[];var c=arguments.callee.caller.caller;while(c){var d=this.B(c.toString());b.push(d);var e=Ep+d;var f=a[e];if(f){var g,h;for(g=0,h=f.length;g<h;g++){if(f[g]===c){return b}}}(f||(a[e]=[])).push(c);c=c.caller}return b};_.A=function Xg(a){var b,c,d,e;d=this.D(a.c===(dg(),cg)?null:a.c);e=Gh(Gj,Do,16,d.length,0);for(b=0,c=e.length;b<c;b++){e[b]=new gl(d[b],null,-1)}Zf(e)};_.B=function Yg(a){return Og(a)};_.C=function Zg(a){var b,c,d,e;d=Mj().w();e=Gh(Gj,Do,16,d.length,0);for(b=0,c=e.length;b<c;b++){e[b]=new gl(d[b],null,-1)}Zf(e)};_.D=function $g(a){return []};Uj(74,72,{},dh);_.w=function eh(){return Rg(this.D(Ug()),this.F())};_.D=function fh(a){return bh(this,a)};_.F=function gh(){return 2};Uj(73,74,{});_.w=function kh(){var a;a=Rg(ih(this,Ug()),3);a.length==0&&(a=Rg((new Vg).w(),1));return a};_.A=function lh(a){var b;b=ih(this,a.c===(dg(),cg)?null:a.c);jh(this,b)};_.B=function mh(a){var b,c,d,e;if(a.length==0){return Dp}e=wl(a);e.indexOf('at ')==0&&(e=tl(e,3));c=e.indexOf(Hp);c!=-1&&(e=wl(ul(e,0,c))+wl(tl(e,e.indexOf(Ip,c)+1)));c=e.indexOf(ap);if(c==-1){c=e.indexOf(So);if(c==-1){d=e;e=To}else{d=wl(tl(e,c+1));e=wl(ul(e,0,c))}}else{b=e.indexOf(ip,c);d=ul(e,c+1,b);e=wl(ul(e,0,c))}c=nl(e,Dl(46));c!=-1&&(e=tl(e,c+1));return (e.length>0?e:Dp)+Fp+d};_.C=function nh(a){var b;b=Mj().w();jh(this,b)};_.D=function oh(a){return ih(this,a)};_.G=function ph(a){return a};_.F=function qh(){return 3};Uj(75,73,{},sh);_.G=function th(a){return -1};Uj(76,1,{});Uj(77,76,{},zh);_.b=To;Uj(81,1,{},Bh);_.qI=0;var Jh,Kh;var Lj=-1;Uj(95,1,Ko,bk);_.H=function ck(){return Kp};_.I=function dk(){var b=navigator.userAgent.toLowerCase();var c=function(a){return parseInt(a[1])*1000+parseInt(a[2])};if(function(){return b.indexOf(Lp)!=-1}())return Mp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=10}())return Op;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=9}())return Pp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=8}())return Qp;if(function(){return b.indexOf(Rp)!=-1}())return Kp;return Sp};Uj(96,1,Ko,fk);_.H=function gk(){return Op};_.I=function hk(){var b=navigator.userAgent.toLowerCase();var c=function(a){return parseInt(a[1])*1000+parseInt(a[2])};if(function(){return b.indexOf(Lp)!=-1}())return Mp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=10}())return Op;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=9}())return Pp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=8}())return Qp;if(function(){return b.indexOf(Rp)!=-1}())return Kp;return Sp};Uj(97,1,Ko,jk);_.H=function kk(){return Qp};_.I=function lk(){var b=navigator.userAgent.toLowerCase();var c=function(a){return parseInt(a[1])*1000+parseInt(a[2])};if(function(){return b.indexOf(Lp)!=-1}())return Mp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=10}())return Op;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=9}())return Pp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=8}())return Qp;if(function(){return b.indexOf(Rp)!=-1}())return Kp;return Sp};Uj(98,1,Ko,nk);_.H=function ok(){return Pp};_.I=function pk(){var b=navigator.userAgent.toLowerCase();var c=function(a){return parseInt(a[1])*1000+parseInt(a[2])};if(function(){return b.indexOf(Lp)!=-1}())return Mp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=10}())return Op;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=9}())return Pp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=8}())return Qp;if(function(){return b.indexOf(Rp)!=-1}())return Kp;return Sp};Uj(99,1,Ko,rk);_.H=function sk(){return Mp};_.I=function tk(){var b=navigator.userAgent.toLowerCase();var c=function(a){return parseInt(a[1])*1000+parseInt(a[2])};if(function(){return b.indexOf(Lp)!=-1}())return Mp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=10}())return Op;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=9}())return Pp;if(function(){return b.indexOf(Np)!=-1&&$doc.documentMode>=8}())return Qp;if(function(){return b.indexOf(Rp)!=-1}())return Kp;return Sp};Uj(100,1,{});_.tS=function wk(){return og(this.b)};Uj(101,61,Jo,yk,zk);Uj(103,1,{},Hk);_.tS=function Pk(){return ((this.c&2)!=0?'interface ':(this.c&1)!=0?To:'class ')+this.e};_.c=0;_.d=0;Uj(104,61,Jo,Rk);Uj(105,61,Lo,Tk,Uk);Uj(106,61,Jo,Wk,Xk);Uj(110,61,Jo,al);var bl;Uj(112,105,Lo,el);Uj(113,1,{10:1,16:1},gl);_.tS=function hl(){return this.b+jp+this.e+ap+(this.c!=null?this.c:'Unknown Source')+(this.d>=0?Ep+this.d:To)+ip};_.d=0;_=String.prototype;_.cM={1:1,10:1,11:1,12:1};_.eQ=function Bl(a){return kl(this,a)};_.hC=function El(){return Ll(this)};_.tS=_.toString;var Gl,Hl=0,Il;Uj(115,1,Mo,Ql,Rl);_.tS=function Sl(){return this.b.b};Uj(116,1,Mo,bm,cm,dm);_.tS=function em(){return this.b.b};Uj(117,106,Jo,gm);Uj(119,61,Jo,jm);Uj(120,1,{});_.J=function mm(a){throw new jm('Add not supported on this collection')};_.K=function nm(a){var b;b=lm(this.L(),a);return !!b};_.N=function om(){return this.O(Gh(Fj,Do,0,this.M(),0))};_.O=function pm(a){var b,c,d;d=this.M();a.length<d&&(a=Eh(a,d));c=this.L();for(b=0;b<d;++b){Ih(a,b,c.R())}a.length>d&&Ih(a,d,null);return a};_.tS=function qm(){var a,b,c,d;c=new Ql;a=null;wh(c.b,Hp);b=this.L();while(b.Q()){a!=null?(wh(c.b,a),c):(a=Wp);d=b.R();wh(c.b,d===this?'(this Collection)':To+d)}wh(c.b,Ip);return c.b.b};Uj(122,1,No);_.eQ=function tm(a){var b,c,d,e,f;if(a===this){return true}if(!Sh(a,19)){return false}e=Qh(a,19);if(this.e!=e.e){return false}for(c=new Sm((new Nm(e)).b);sn(c.b);){b=Qh(tn(c.b),20);d=b.S();f=b.T();if(!(d==null?this.d:Sh(d,1)?Dm(this,Qh(d,1)):Cm(this,d,~~ng(d)))){return false}if(!io(f,d==null?this.c:Sh(d,1)?Bm(this,Qh(d,1)):Am(this,d,~~ng(d)))){return false}}return true};_.hC=function um(){var a,b,c;c=0;for(b=new Sm((new Nm(this)).b);sn(b.b);){a=Qh(tn(b.b),20);c+=a.hC();c=~~c}return c};_.tS=function vm(){var a,b,c,d;d='{';a=false;for(c=new Sm((new Nm(this)).b);sn(c.b);){b=Qh(tn(c.b),20);a?(d+=Wp):(a=true);d+=To+b.S();d+=rp;d+=To+b.T()}return d+'}'};Uj(121,122,No);_.P=function Im(a,b){return Vh(a)===Vh(b)||a!=null&&lg(a,b)};_.d=false;_.e=0;Uj(124,120,Oo);_.eQ=function Lm(a){var b,c,d;if(a===this){return true}if(!Sh(a,21)){return false}c=Qh(a,21);if(c.b.e!=this.M()){return false}for(b=new Sm(c.b);sn(b.b);){d=Qh(tn(b.b),20);if(!this.K(d)){return false}}return true};_.hC=function Mm(){var a,b,c;a=0;for(b=this.L();b.Q();){c=b.R();if(c!=null){a+=ng(c);a=~~a}}return a};Uj(123,124,Oo,Nm);_.K=function Om(a){var b,c,d;if(Sh(a,20)){b=Qh(a,20);c=b.S();if(ym(this.b,c)){d=zm(this.b,c);return $n(b.T(),d)}}return false};_.L=function Pm(){return new Sm(this.b)};_.M=function Qm(){return this.b.e};Uj(125,1,{},Sm);_.Q=function Tm(){return sn(this.b)};_.R=function Um(){return Qh(tn(this.b),20)};Uj(127,1,Po);_.eQ=function Xm(a){var b;if(Sh(a,20)){b=Qh(a,20);if(io(this.S(),b.S())&&io(this.T(),b.T())){return true}}return false};_.hC=function Ym(){var a,b;a=0;b=0;this.S()!=null&&(a=ng(this.S()));this.T()!=null&&(b=ng(this.T()));return a^b};_.tS=function Zm(){return this.S()+rp+this.T()};Uj(126,127,Po,$m);_.S=function _m(){return null};_.T=function an(){return this.b.c};_.U=function bn(a){return Gm(this.b,a)};Uj(128,127,Po,dn);_.S=function en(){return this.b};_.T=function fn(){return Bm(this.c,this.b)};_.U=function gn(a){return Hm(this.c,this.b,a)};Uj(129,120,{18:1});_.V=function kn(a,b){throw new jm('Add not supported on this list')};_.J=function ln(a){this.V(this.M(),a);return true};_.eQ=function nn(a){var b,c,d,e,f;if(a===this){return true}if(!Sh(a,18)){return false}f=Qh(a,18);if(this.M()!=f.M()){return false}d=new un(this);e=f.L();while(d.b<d.c.M()){b=tn(d);c=tn(e);if(!(b==null?c==null:lg(b,c))){return false}}return true};_.hC=function on(){var a,b,c;b=1;a=new un(this);while(a.b<a.c.M()){c=tn(a);b=31*b+(c==null?0:ng(c));b=~~b}return b};_.L=function qn(){return new un(this)};Uj(130,1,{},un);_.Q=function vn(){return sn(this)};_.R=function wn(){return tn(this)};_.b=0;Uj(131,129,Qo,Bn);_.V=function Cn(a,b){(a<0||a>this.c)&&pn(a,this.c);Hn(this.b,a,0,b);++this.c};_.J=function Dn(a){return yn(this,a)};_.K=function En(a){return An(this,a,0)!=-1};_.W=function Fn(a){return mn(a,this.c),this.b[a]};_.M=function Gn(){return this.c};_.N=function Jn(){return Dh(this.b,this.c)};_.O=function Kn(a){var b;a.length<this.c&&(a=Eh(a,this.c));for(b=0;b<this.c;++b){Ih(a,b,this.b[b])}a.length>this.c&&Ih(a,this.c,null);return a};_.c=0;Uj(132,129,Qo,Mn);_.K=function Nn(a){return jn(this,a)!=-1};_.W=function On(a){return mn(a,this.b.length),this.b[a]};_.M=function Pn(){return this.b.length};_.N=function Qn(){return Ch(this.b)};_.O=function Rn(a){var b,c;c=this.b.length;a.length<c&&(a=Eh(a,c));for(b=0;b<c;++b){Ih(a,b,this.b[b])}a.length>c&&Ih(a,c,null);return a};var Sn;Uj(134,129,Qo,Vn);_.K=function Wn(a){return false};_.W=function Xn(a){throw new Wk};_.M=function Yn(){return 0};Uj(135,121,{10:1,19:1},_n);Uj(136,127,Po,bo);_.S=function co(){return this.b};_.T=function eo(){return this.c};_.U=function fo(a){var b;b=this.c;this.c=a;return b};Uj(137,61,Jo,ho);Uj(139,1,{},no);_.b=null;_.d=0;Uj(140,100,{},po,qo);Uj(142,1,{});Uj(141,142,{},vo);var xo;var Ro=Bg();var $i=Jk(Xp,'Object',1),Di=Jk(Yp,'Scheduler',67),Ci=Jk(Yp,'JavaScriptObject$',64),Fj=Ik(Zp,'Object;',147,$i),Cj=Lk('boolean',' Z'),Ij=Ik(To,'[Z',149,Cj),fj=Jk(Xp,'Throwable',63),Vi=Jk(Xp,'Exception',62),_i=Jk(Xp,'RuntimeException',61),aj=Jk(Xp,'StackTraceElement',113),Gj=Ik(Zp,'StackTraceElement;',150,aj),Li=Jk('com.google.gwt.lang.','SeedUtil',88),Wh=Lk('char',' C'),Dj=Ik(To,'[C',151,Wh),Ui=Jk(Xp,'Class',103),ej=Jk(Xp,Cp,2),Hj=Ik(Zp,'String;',148,ej),Ti=Jk(Xp,'ClassCastException',104),Bi=Jk(Yp,'JavaScriptException',60),cj=Jk(Xp,'StringBuilder',116),Si=Jk(Xp,'ArrayStoreException',101),Mi=Jk($p,'UserAgentImplGecko1_8',95),Qi=Jk($p,'UserAgentImplSafari',99),Ni=Jk($p,'UserAgentImplIe10',96),Pi=Jk($p,'UserAgentImplIe9',98),Oi=Jk($p,'UserAgentImplIe8',97),Yi=Jk(Xp,'NullPointerException',110),Wi=Jk(Xp,'IllegalArgumentException',105),Ki=Jk(_p,'StringBufferImpl',76),Bj=Jk(aq,'ExporterBaseImpl',142),Aj=Jk(aq,'ExporterBaseActual',141),Ii=Jk(_p,'StackTraceCreator$Collector',72),Hi=Jk(_p,'StackTraceCreator$CollectorMoz',74),Gi=Jk(_p,'StackTraceCreator$CollectorChrome',73),Fi=Jk(_p,'StackTraceCreator$CollectorChromeNoSourceMap',75),Ji=Jk(_p,'StringBufferImplAppend',77),Ei=Jk(_p,'SchedulerImpl',69),qj=Jk(bq,'AbstractMap',122),mj=Jk(bq,'AbstractHashMap',121),hj=Jk(bq,'AbstractCollection',120),rj=Jk(bq,'AbstractSet',124),jj=Jk(bq,'AbstractHashMap$EntrySet',123),ij=Jk(bq,'AbstractHashMap$EntrySetIterator',125),pj=Jk(bq,'AbstractMapEntry',127),kj=Jk(bq,'AbstractHashMap$MapEntryNull',126),lj=Jk(bq,'AbstractHashMap$MapEntryString',128),vj=Jk(bq,'HashMap',135),_h=Jk(cq,'WordCleaner_ExporterImpl',15),ai=Jk(cq,'WordCleaner',14),wj=Jk(bq,'MapEntryImpl',136),bj=Jk(Xp,'StringBuffer',115),oj=Jk(bq,'AbstractList',129),sj=Jk(bq,'ArrayList',131),nj=Jk(bq,'AbstractList$IteratorImpl',130),bi=Jk(dq,'OfficeImportFunction',16),ei=Jk(dq,'WordImportFunction',18),di=Jk(dq,'WordImportFunction$1',19),Zh=Jk(eq,'Logged',6),Yh=Jk(eq,'Logged$6',9),Xh=Jk('com.ephox.functional.closures.','Thunk',5),ui=Kk(fq,'ReplacementRuleSet'),Ej=Ik('[Lcom.ephox.tord.wordhtmlfilter.','ReplacementRuleSet;',152,ui),gj=Jk(Xp,'UnsupportedOperationException',119),ii=Jk(gq,'OrderedListTransformer',24),wi=Jk(fq,'StepOne',53),yi=Jk(fq,'StepTwoFilterStyles',55),xi=Jk(fq,'StepThree',54),vi=Jk(fq,'StepLast',52),zi=Jk(fq,'StepTwoRemoveStyles',56),Jj=Ik(To,'[[C',153,Dj),ri=Jk(fq,'ReadBuffer',36),Ai=Jk(fq,'WriteBuffer',57),ci=Jk(dq,'Scrub',17),Ri=Jk('com.googlecode.gwtx.java.util.impl.client.','PatternImpl',100),zj=Jk(hq,'Pattern',140),yj=Jk(hq,'Matcher',139),uj=Jk(bq,'Collections$EmptyList',134),$h=Jk('com.ephox.functional.factory.','Thunks$1',11),tj=Jk(bq,'Arrays$ArrayList',132),ki=Jk(iq,'WordNumericListAttributeHandler',26),ji=Jk(iq,'WordAlphaListAttributeHandler',25),hi=Jk(gq,'ListType',23),fi=Jk(gq,'ListBuilder',20),gi=Jk(gq,'ListIndex',22),li=Jk(fq,'CharMap',27),ti=Jk(fq,'RemoveLink',44),ni=Jk(fq,'ModifySingleStyle',31),pi=Jk(fq,'ModifyStyleAttribute',32),si=Jk(fq,'RemoveAttributeByName',37),oi=Jk(fq,'ModifyStyleAttributeOnlyUsingMustKeepList',33),Xi=Jk(Xp,'IndexOutOfBoundsException',106),xj=Jk(bq,'NoSuchElementException',137),Zi=Jk(Xp,'NumberFormatException',112),dj=Jk(Xp,'StringIndexOutOfBoundsException',117),Kj=Ik(To,'[[[C',154,Jj),mi=Jk(fq,'IndexedStrings',30),qi=Jk(fq,'ModifyStyleDefinition',34);if (com_ephox_keurig_Keurig) com_ephox_keurig_Keurig.onScriptLoad(gwtOnLoad);})();"});
(function(e,f,h){e("kp","k ga t ob 1p j aq 1g oc 1s global!document text!gwt/com.ephox.keurig.Keurig.nocache.js".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r){var t=d.install("ephox.keurig.init");return function(){var d=c.none(),u=e.fromTag("div");if(!b.detect().browser.isIE()){var y=e.fromTag("iframe");g.setAll(u,{display:"none"});var z=f.bind(y,"load",function(){y.dom();var b=t.ephemeral(function(a){d=c.some(a)});a.write(y,'<script type="text/javascript">function gwtInited () {parent.window.'+b+
"(com.ephox.keurig.WordCleaner.cleanDocument);};"+r+"\x3c/script>");z.unbind()});h.execute(function(){var a=e.fromDom(m.body);l.append(u,y);l.append(a,u)})}return{cleanDocument:function(a,b){return d.map(function(c){return c(a,b)})},ready:function(){return d.isSome()},destroy:function(){q.remove(u)}}}})})(f,h,m);(function(e,f,h){e("kq","g ob 1p 1q j 1g 1s global!setTimeout".split(" "),function(b,d,c,a,g,e,f,l){return function(h){return{play:function(q,m,r){var t=g.fromTag("div"),w=g.fromTag("iframe");
c.setAll(t,{display:"none"});var u=a.bind(w,"load",function(){d.write(w,q);var a=w.dom().contentWindow.document;if(void 0===a)throw"sandbox iframe load event did not fire correctly";var c=g.fromDom(a),a=a.body;if(void 0===a)throw"sandbox iframe does not have a body";a=g.fromDom(a);c=m(c,a);u.unbind();f.remove(t);l(b.curry(r,c),0)});e.append(t,w);e.append(h,t)}}}})})(f,h,m);(function(e,f,h){e("kr","8 6l t h 2a 1f q 2h 1t 1r global!console".split(" "),function(b,d,c,a,g,e,f,l,h,q,m){var r=g.immutable("img",
"vshape"),t=function(a){var b=c.some(a).bind(q.prevSibling).bind(q.prevSibling).bind(d.scour);b.isNone()&&m.log("WARNING: unable to find data for image",a.dom());return b.bind(function(b){var d=e.clone(a);d._rawElement=a.dom();var g=e.clone(b);g._rawElement=b.dom();b=r(d,g);b=b.img["v:shapes"]===b.vshape.id?c.some(b):c.none();return b})};return{extract:function(c){c=l.fromHtml(c);c=b.bind(c,function(a){return h.descendants(a,"img")});c=b.map(c,t);return a.cat(c)}}})})(f,h,m);(function(e,f,h){e("ks",
["t","14"],function(b,d){return{get:function(b){if(!d.isComment(b))throw"Can only get comment text of a comment node";try{return b.dom().nodeValue}catch(a){return""}},getOption:function(c){return d.isComment(c)?b.some(c.dom().nodeValue):b.none()},set:function(b,a){if(!d.isComment(b))throw"Can only set raw comment text of a comment node";b.dom().nodeValue=a}}})})(f,h,m);(function(e,f,h){e("od",["8","2a"],function(b,d){var c=d.immutable("selector","style"),a=function(a){return b.map(a.cssRules,function(a){var b=
a.selectorText;a=a.style.cssText;if(void 0===a)throw"WARNING: Browser does not support cssText property";return c(b,a)})};return{extract:a,extractAll:function(c){return b.bind(c,a)}}})})(f,h,m);(function(e,f,h){e("kt",["od"],function(b){return{extract:function(d){return b.extract(d)},extractAll:function(d){return b.extractAll(d)}}})})(f,h,m);(function(e,f,h){e("gb","8 kp kq kr 28 29 1f 40 ks 2h 1m 1s 1t 1r 11 kt global!setTimeout".split(" "),function(b,d,c,a,g,e,f,l,h,q,m,r,t,w,u,y,z){var x=d(),A=
function(a){return void 0!==a&&null!==a&&0<a.length},B=function(a){var b=1;return a.replace(/(<img[^>]*)src=".*?"/g,function(a,c,d){return c+'data-textbox-image="'+b++ +'"'})},E=function(a){a=w.children(a);b.each(a,function(a){h.getOption(a).each(function(b){"StartFragment"!==b&&"EndFragment"!==b||r.remove(a)})})},C=function(a,c){b.each(c,function(c){var d=f.get(c,"data-textbox-image");b.each(a,function(a){var b=a.img();a=a.vshape();b["data-textbox-image"]==d&&(b=a["o:spid"],b=void 0===b?a.id:b,l.add(c,
"rtf-data-image"),f.set(c,"data-image-id",b.substr(7)),f.set(c,"data-image-type","code"),f.remove(c,"data-textbox-image"))})})},D=function(a,c){var d=y.extractAll(c);b.each(d,function(c){var d=t.descendants(a,c.selector());b.each(d,function(a){f.remove(a,"class");f.set(a,"style",c.style())})})},F=function(a,b,d){var g=c(a);return function(a,c){g.play(a,function(a,c){var g=t.descendants(c,"img");E(c);C(b,g);d&&D(c,u.stylesheets(a));return m.get(c)},c)}},G=function(a){var b=a.indexOf("</html>");return-1<
b?a.substr(0,b+7):a};return function(b,c){var d=e.create({paste:g(["elements"]),assets:g(["assets"]),error:g(["message"])});return{handler:function(g){var e=G(g);c.get(!0,function(c){c=c.mergeOfficeStyles;var g=B(e),k=a.extract(g),f=F(b,k,c);x.cleanDocument(g,c).filter(A).map(function(a){f(a,function(a){a=q.fromHtml(a);d.trigger.paste(a)})})});return!0},events:d.registry}}})})(f,h,m);(function(e,f,h){e("gc","8 k 2o b0 g 28 29 1f j global!console".split(" "),function(b,d,c,a,g,e,f,l,h,q){return function(m){m=
d.detect();var r=f.create({paste:e(["elements"]),assets:e(["assets"]),error:e(["message"])}),t=function(a){return b.bind(a,function(a){return c.cata(a,function(a,b,c,d,g,e){a=h.fromTag("img");l.set(a,"src",g);return a},function(a,b,c){q.log("Internal error: Paste operation produced an image URL instead of a Data URI: ",b)})})},w=function(c){c=b.filter(c,function(a){return"file"===a.kind&&/image/.test(a.type)});c=b.map(c,function(a){return a.getAsFile()});a.toAssets(c,function(a){var b=t(a);r.trigger.paste(b);
r.trigger.assets(a)});return!0},u=function(){r.trigger.error("safari.imagepaste");return!0};return{handler:m.browser.isSafari()?u:m.browser.isIE()||m.browser.isFirefox()?g.constant(!1):w,events:r.registry}}})})(f,h,m);(function(e,f,h){e("qz",[],function(){return{validStyles:function(){return/^(mso-.*|tab-stops|tab-interval|language|text-underline|text-effect|text-line-through|font-color|horiz-align|list-image-[0-9]+|separator-image|table-border-color-(dark|light)|vert-align|vnd\..*)$/},specialInline:function(){return/font|em|strong|samp|acronym|cite|code|dfn|kbd|tt|b|i|u|s|sub|sup|ins|del|var|span/}}})})(f,
h,m);(function(e,f,h){e("r7",[],function(){var b=function(b){return{fold:b,matches:function(c){return b(function(a){return 0===c.toLowerCase().indexOf(a.toLowerCase())},function(a){return a.test(c.toLowerCase())},function(a){return 0<=c.toLowerCase().indexOf(a.toLowerCase())},function(a){return c.toLowerCase()===a.toLowerCase()},function(){return!0},function(a){return!a.matches(c)})}}};return{starts:function(d){return b(function(b,a,g,e,f,l){return b(d)})},pattern:function(d){return b(function(b,
a,g,e,f,l){return a(d)})},contains:function(d){return b(function(b,a,g,e,f,l){return g(d)})},exact:function(d){return b(function(b,a,g,e,f,l){return e(d)})},all:function(){return b(function(b,c,a,g,e,f){return e()})},not:function(d){return b(function(b,a,g,e,f,l){return l(d)})},cata:function(b,c,a,g,e,f,l){return b.fold(c,a,g,e,f,l)}}})})(f,h,m);(function(e,f,h){e("r0",["g","14","r7"],function(b,d,c){return{keyval:function(a,d,e,f){var l=f.name,h=void 0!==f.condition?f.condition:b.constant(!0);f=
void 0!==f.value?f.value:c.all();return l.matches(e)&&f.matches(d)&&h(a)},name:function(a,c){var e=d.name(a),f=c.name,l=void 0!==c.condition?c.condition:b.constant(!0);return f.matches(e)&&l(a)}}})})(f,h,m);(function(e,f,h){e("rf",["8","r","g","1f"],function(b,d,c,a){var g=function(c,g,e){b.each(g,function(b){a.remove(c,b)});d.each(e,function(b,d){a.set(c,d,b)})};return{filter:function(a,c){var d={};b.each(a.dom().attributes,function(a){c(a.value,a.name)||(d[a.name]=a.value)});return d},clobber:function(a,
c,e){e=b.map(a.dom().attributes,function(a){return a.name});d.size(c)!==e.length&&g(a,e,c)},scan:c.constant({})}})})(f,h,m);(function(e,f,h){e("rg",["8","r","1f","1p","1d"],function(b,d,c,a,g){var e=function(a){var c={};a=void 0!==a&&null!==a?a.split(";"):[];b.each(a,function(a){a=a.split(":");2===a.length&&(c[g.trim(a[0])]=g.trim(a[1]))});return c},f=function(a){var c=d.keys(a);return b.map(c,function(b){return b+": "+a[b]}).join("; ")};return{filter:function(a,c){var d={};b.each(a.dom().style,function(b){var g;
g=a.dom().style.getPropertyValue(b);c(g,b)||(d[b]=g)});return d},clobber:function(b,g,e){c.set(b,"style","");var k=d.size(g),h=d.size(e);0===k&&0===h?c.remove(b,"style"):0===k?c.set(b,"style",f(e)):(d.each(g,function(c,d){a.set(b,d,c)}),g=c.get(b,"style"),e=0<h?f(e)+"; ":"",c.set(b,"style",e+g))},scan:function(a,c,d){a=a.dom().getAttribute("style");var g=e(a),f={};b.each(c,function(a){var b=g[a];void 0===b||d(b,a)||(f[a]=b)});return f}}})})(f,h,m);(function(e,f,h){e("r1",["rf","rg","g","j"],function(b,
d,c,a){var g=["mso-list"],e=function(a,b){var c=d.scan(a,g,b),e=d.filter(a,b);d.clobber(a,e,c)},f=function(a,c){var d=b.filter(a,c);b.clobber(a,d,{})};return{style:e,attribute:f,styleDom:function(b,c){e(a.fromDom(b),c)},attributeDom:function(b,c){f(a.fromDom(b),c)},validateStyles:function(a){var b=d.filter(a,c.constant(!1));d.clobber(a,b,{})}}})})(f,h,m);(function(e,f,h){e("qa","8 3 r0 r1 g 1f 40 4h 1s 1t".split(" "),function(b,d,c,a,g,e,f,l,h,m){var s=function(a,d,g){a(g,function(a,e){return b.exists(d,
function(b){return c.keyval(g,a,e,b)})})};return{remover:function(r,t){var w=d.merge({styles:[],attributes:[],classes:[],tags:[]},t),u=m.descendants(r,"*");b.each(u,function(c){s(a.style,w.styles,c);s(a.attribute,w.attributes,c);b.each(w.classes,function(a){var d=e.has(c,"class")?l.get(c):[];b.each(d,function(b){a.name.matches(b)&&f.remove(c,b)})})});u=m.descendants(r,"*");b.each(u,function(a){b.exists(w.tags,g.curry(c.name,a))&&h.remove(a)})},unwrapper:function(a,e){var k=d.merge({tags:[]},e),f=
m.descendants(a,"*");b.each(f,function(a){b.exists(k.tags,g.curry(c.name,a))&&h.unwrap(a)})},transformer:function(a,e){var k=d.merge({tags:[]},e),f=m.descendants(a,"*");b.each(f,function(a){var d=b.find(k.tags,g.curry(c.name,a));void 0!==d&&null!==d&&d.mutate(a)})},validator:function(c){c=m.descendants(c,"*");b.each(c,function(b){a.validateStyles(b)})}}})})(f,h,m);(function(e,f,h){e("qd",["r","1p","j"],function(b,d,c){var a=function(a,b,g){var e,f,h,m=c.fromDom(a);switch(a.nodeType){case 1:b?e="endElement":
(e="startElement",d.setAll(m,g||{}));f="HTML"!==a.scopeName&&a.scopeName&&a.tagName&&0>=a.tagName.indexOf(":")?(a.scopeName+":"+a.tagName).toUpperCase():a.tagName;break;case 3:e="text";h=a.nodeValue;break;case 8:e="comment";h=a.nodeValue;break;default:console.log("WARNING: Unsupported node type encountered: "+a.nodeType)}return{getNode:function(){return a},tag:function(){return f},type:function(){return e},text:function(){return h}}},g=function(b,c){return a(c.createElement(b),!0)};return{START_ELEMENT_TYPE:"startElement",
END_ELEMENT_TYPE:"endElement",TEXT_TYPE:"text",COMMENT_TYPE:"comment",FINISHED:g("HTML",window.document),token:a,createStartElement:function(c,d,g,e){var f=e.createElement(c);b.each(d,function(a,b){f.setAttribute(b,a)});return a(f,!1,g)},createEndElement:g,createComment:function(b,c){return a(c.createComment(b),!1)},createText:function(b,c){return a(c.createTextNode(b))}}})})(f,h,m);(function(e,f,h){e("r2",["qd"],function(b){return{create:function(d){var c=d.createDocumentFragment();return{dom:c,
receive:function(a){var g=function(a){a=a.getNode().cloneNode(!1);c.appendChild(a);c=a},e=function(a,b){var g=d.createTextNode(a.text());c.appendChild(g)};switch(a.type()){case b.START_ELEMENT_TYPE:g(a);break;case b.TEXT_TYPE:e(a);break;case b.END_ELEMENT_TYPE:c=c.parentNode;break;case b.COMMENT_TYPE:break;default:throw{message:"Unsupported token type: "+a.type()};}},label:"SERIALISER"}}}})})(f,h,m);(function(e,f,h){e("r3",["qd"],function(b){return{tokenise:function(d,c){var a;c=c||window.document;
a=c.createElement("div");c.body.appendChild(a);a.style.position="absolute";a.style.left="-10000px";a.innerHTML=d;nextNode=a.firstChild||b.FINISHED;var g=[];endNode=!1;return{hasNext:function(){return void 0!==nextNode},next:function(){var d=nextNode,e=endNode;!endNode&&nextNode.firstChild?(g.push(nextNode),nextNode=nextNode.firstChild):endNode||1!==nextNode.nodeType?nextNode.nextSibling?(nextNode=nextNode.nextSibling,endNode=!1):(nextNode=g.pop(),endNode=!0):endNode=!0;d===b.FINISHED||nextNode||(c.body.removeChild(a),
nextNode=b.FINISHED);d=d===b.FINISHED?d:d?b.token(d,e):void 0;return d}}}}})})(f,h,m);(function(e,f,h){e("qb",["r2","r3"],function(b,d){var c=function(a,b,c){var d=c;for(c=b.length-1;0<=c;c--)d=b[c](d,{},a);return d};return{build:c,run:function(a,g,e){var f=b.create(a);g=d.tokenise(g,a);for(a=c(a,e,f);g.hasNext();)e=g.next(),a.receive(e);return f.dom}}})})(f,h,m);(function(e,f,h){e("og","8 qa qb j 1m 1s 1r".split(" "),function(b,d,c,a,g,e,f){return{removal:function(a){return function(b){d.remover(b,
a)}},unwrapper:function(a){return function(b){d.unwrapper(b,a)}},transformer:function(a){return function(b){d.transformer(b,a)}},validate:function(){return function(a){d.validator(a)}},pipeline:function(a){return function(b){var d=g.get(b),h=f.owner(b),d=c.run(h.dom(),d,a);e.empty(b);b.dom().appendChild(d)}},isWordContent:function(a){return 0<=a.indexOf("<o:p>")||0<=a.indexOf("p.MsoNormal, li.MsoNormal, div.MsoNormal")||0<=a.indexOf("MsoListParagraphCxSpFirst")||0<=a.indexOf("<w:WordDocument>")},
go:function(c,d,e){var k=a.fromTag("div",c.dom());k.dom().innerHTML=d;b.each(e,function(a){a(k)});return g.get(k)}}})})(f,h,m);(function(e,f,h){e("r4",["8","1f","1m","14","bc"],function(b,d,c,a,g){var e=function(b){var c=b.dom().attributes,c=void 0!==c&&null!==c&&0<c.length;return"span"===a.name(b)?c:!0},f=function(a){return void 0===a.dom().attributes||null===a.dom().attributes?!0:0===a.dom().attributes.length||1===a.dom().attributes.length&&"style"===a.dom().attributes[0].name};return{isNotImage:function(b){return"img"!==
a.name(b)},hasContent:function(c){return f(c)?e(c)&&g.descendant(c,function(c){var d=!f(c),g=!b.contains("font em strong samp acronym cite code dfn kbd tt b i u s sub sup ins del var span".split(" "),a.name(c));return a.isText(c)||d||g}):!0},isList:function(b){return"ol"===a.name(b)||"ul"===a.name(b)},isLocal:function(a){a=d.get(a,"src");return/^file:/.test(a)},hasNoAttributes:f,isEmpty:function(a){return 0===c.get(a).length}}})})(f,h,m);(function(e,f,h){e("r5","8 r 1f 1p j 1m 1g 2e 14 1s 1r".split(" "),
function(b,d,c,a,g,e,f,l,h,m,s){var r=function(a,c){var d=g.fromTag(a);f.before(c,d);var e=c.dom().attributes;b.each(e,function(a){d.dom().setAttribute(a.nodeName,a.nodeValue)});e=s.children(c);l.append(d,e);m.remove(c);return d};return{changeTag:r,addBrTag:function(a){0===e.get(a).length&&f.append(a,g.fromTag("br"))},properlyNest:function(c){s.parent(c).each(function(d){d=h.name(d);b.contains(["ol","ul"],d)&&(d=g.fromTag("li"),a.set(d,"list-style-type","none"),f.wrap(c,d))})},fontToSpan:function(b){var g=
r("span",b),e={"font-size":{1:"8pt",2:"10pt",3:"12pt",4:"14pt",5:"18pt",6:"24pt",7:"36pt"}};d.each({face:"font-family",size:"font-size",color:"font-color"},function(b,d){if(c.has(g,d)){var k=c.get(g,d);a.set(g,b,void 0!==e[b]&&void 0!==e[b][k]?e[b][k]:k);c.remove(g,d)}})}}})})(f,h,m);(function(e,f,h){e("qc",["8","qd"],function(b,d){return{createFilter:function(c,a,g){return function(e,f,l,h){var m,s,r,t=!1,w=function(){a&&a(B);t=!1;s=[];r=[]},u=function(a){b.each(a,function(a){e.receive(a)})},y=function(a){t?
r.push(a):e.receive(a)},z=function(){x();u(r);w()},x=function(){b.each(m||[],function(a){y(a)});A()},A=function(){m=[]},B={document:l||window.document,settings:f||{},emit:y,receive:function(b){a&&s.push(b);c(B,b);b===d.FINISHED&&z()},startTransaction:function(){t=!0},rollback:function(){u(s);w()},commit:z,defer:function(a){m=m||[];m.push(a)},hasDeferred:function(){return m&&0<m.length},emitDeferred:x,dropDeferred:A,label:g};w();return B}}}})})(f,h,m);(function(e,f,h){e("ry","rg qd g 1f 1p j".split(" "),
function(b,d,c,a,g,e){return{getAttribute:function(b,c){var d=e.fromDom(b.getNode());return a.get(d,c)},getStyle:function(a,b){var c=e.fromDom(a.getNode());return g.get(c,b)},isWhitespace:function(a){return a.type()===d.TEXT_TYPE&&/^[\s\u00A0]*$/.test(a.text())},getMsoList:function(a){a=e.fromDom(a.getNode());return b.scan(a,["mso-list"],c.constant(!1))["mso-list"]}}})})(f,h,m);(function(e,f,h){e("sc",["8","3"],function(b,d){var c=[{regex:/^\(?[dc][\.\)]$/,type:{tag:"OL",type:"lower-alpha"}},{regex:/^\(?[DC][\.\)]$/,
type:{tag:"OL",type:"upper-alpha"}},{regex:/^\(?M*(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})[\.\)]$/,type:{tag:"OL",type:"upper-roman"}},{regex:/^\(?m*(cm|cd|d?c{0,3})(xc|xl|l?x{0,3})(ix|iv|v?i{0,3})[\.\)]$/,type:{tag:"OL",type:"lower-roman"}},{regex:/^\(?[0-9]+[\.\)]$/,type:{tag:"OL"}},{regex:/^([0-9]+\.)*[0-9]+\.?$/,type:{tag:"OL",variant:"outline"}},{regex:/^\(?[a-z]+[\.\)]$/,type:{tag:"OL",type:"lower-alpha"}},{regex:/^\(?[A-Z]+[\.\)]$/,type:{tag:"OL",type:"upper-alpha"}}],a={"\u2022":{tag:"UL",
type:"disc"},"\u00b7":{tag:"UL",type:"disc"},"\u00a7":{tag:"UL",type:"square"}},g={o:{tag:"UL",type:"circle"},"-":{tag:"UL",type:"disc"},"\u25cf":{tag:"UL",type:"disc"},"\ufffd":{tag:"UL",type:"circle"}},e=function(a,b){return void 0!==a.variant?a.variant:"("===b.charAt(0)?"()":")"===b.charAt(b.length-1)?")":"."},f=function(a){a=parseInt(a,10);return isNaN(a)?{}:{start:a}};return{match:function(l,h){var m=g[l]?[g[l]]:[],s=h&&a[l]?[a[l]]:h?[{tag:"UL",variant:l}]:[],r=b.bind(c,function(a){return a.regex.test(l)?
[d.merge(a.type,f(l),{variant:e(a.type,l)})]:[]}),m=m.concat(s).concat(r);return b.map(m,function(a){return void 0!==a.variant?a:d.merge(a,{variant:l})})}}})})(f,h,m);(function(e,f,h){e("rz",["8","sc","t","1d"],function(b,d,c,a){var g=function(a,b,c){return a===b||a&&b&&a.tag===b.tag&&a.type===b.type&&(c||a.variant===b.variant)};return{guess:function(e,f){var l=e?a.trim(e.text):"",l=d.match(l,e?!!e.symbolFont:!1),h=b.find(l,function(a){return"UL"===a.tag||f&&g(a,f,!0)});return void 0!==h?c.some(h):
0<l.length?c.some(l[0]):c.none()},eqListType:g}})})(f,h,m);(function(e,f,h){e("rh",["qd","ry","rz"],function(b,d,c){return{guess:function(a,b,e){return c.guess(a,b).fold(function(){return null},function(a){if("OL"===a.tag&&e&&("P"!==e.tag()||/^MsoHeading/.test(d.getAttribute(e,"class"))))listType=null;else return a})},eqListType:c.eqListType,checkFont:function(a,c){a.type()==b.START_ELEMENT_TYPE&&((font=d.getStyle(a,"font-family"))?c="Wingdings"===font||"Symbol"===font:/^(P|H[1-6]|DIV)$/.test(a.tag())&&
(c=!1));return c}}})})(f,h,m);(function(e,f,h){e("sb",["qd","ry"],function(b,d){return{isList:function(b,a){var g=d.getMsoList(a);return g&&"skip"!==g},isIgnore:function(c,a){return a.type()==b.START_ELEMENT_TYPE&&"Ignore"===d.getMsoList(a)}}})})(f,h,m);(function(e,f,h){e("sa",["8","qd","1d"],function(b,d,c){var a=function(a,b){return b.type()===d.START_ELEMENT_TYPE},g=function(a,b){return b.type()===d.END_ELEMENT_TYPE},e=function(a){return function(b,c){return c.tag()===a}};return{isStart:a,isEnd:g,
isTag:e,isStartOf:function(b){return function(c,d){return a(c,d)&&d.tag()===b}},isEndOf:function(a){return function(b,c){return g(b,c)&&c.tag()===a}},isStartAny:function(c){return function(d,e){return a(d,e)&&b.contains(c,e.tag())}},isEndAny:function(a){return function(a,c,d){return g(a,c)&&b.contains(d,c.tag())}},isWhitespace:function(a){return function(b,d){return e(a)(b,d)&&""===c.trim(d.getNode().textContent)}}}})})(f,h,m);(function(e,f,h){e("s0",["sb","sa"],function(b,d){return{isNormal:function(c,
a){return!c.skippedPara.get()&&d.isStart(c,a,"P")&&!b.isList(c,a)}}})})(f,h,m);(function(e,f,h){e("s1",["qd","ry","1d"],function(b,d,c){var a=function(a,c){return c.type()===b.TEXT_TYPE};return{isWhitespace:function(b,c){return a(b,c)&&d.isWhitespace(c)},is:a,isBlank:function(b,d){return a(b,d)&&""===c.trim(d.text())},eq:function(b){return function(c,d){return a(c,d)&&d.text()===b}},matches:function(b){return function(c,d){return a(c,d)&&b.test(d.text())}}}})})(f,h,m);(function(e,f,h){e("s2",["g"],
function(b){return function(d,c,a){return{pred:d,action:c,label:b.constant(a)}}})})(f,h,m);(function(e,f,h){e("s3",["8","g","t"],function(b,d,c){var a=function(a,b){return function(a,c,d){return b(a,c,d)}};return function(e,k,f){var h=a(e+" :: FALLBACK --- ",f);f=function(f,p,m){c.from(b.find(k,function(a){return a.pred(p,m)})).fold(d.constant(h),function(b){var c=b.label();return void 0===c?b.action:a(e+" :: "+c,b.action)})(f,p,m)};f.toString=function(){return"Handlers for "+e};return f}})})(f,h,
m);(function(e,f,h){e("rt",[],function(){var b=function(b,a){if(void 0===b||void 0===a)throw console.trace(),"brick";b.nextFilter.set(a)},d=function(b,a,d){a.nextFilter.get()(b,a,d)};return{next:b,go:d,jump:function(c){return function(a,e,k){b(e,c);d(a,e,k)}},isNext:function(b,a){return b.nextFilter.get()===a},setNext:function(c){return function(a,d,e){b(d,c)}}}})})(f,h,m);(function(e,f,h){e("ri",["s0","s1","s2","s3","rt"],function(b,d,c,a,e){return{run:function(k,f){return a("AfterListState",[c(d.isBlank,
function(a,b,c){a.defer(c)},"blank text"),c(b.isNormal,function(a,b,c){b.openedTag.set(c);a.defer(c);e.next(b,k)},"normal paragraph")],function(a,b,c){f(a,b,c)})}}})})(f,h,m);(function(e,f,h){e("s4",["qd"],function(b){return{isCloser:function(d,c){return c.type()===b.END_ELEMENT_TYPE&&d.originalToken.get()&&c.tag()===d.originalToken.get().tag()}}})})(f,h,m);(function(e,f,h){e("rj",["s4","s2","s3","rt"],function(b,d,c,a){return{run:function(e){return c("AfterNoBullet",[d(b.isCloser,function(b,c,d){a.next(c,
e);c.styleLevelAdjust.set(-1);b.emit(d)}," closing open tag")],function(a,b,c){a.emit(c)})}}})})(f,h,m);(function(e,f,h){e("s5",["sa"],function(b){var d=b.isEndOf("IMG");return{isStart:b.isStartOf("IMG"),isEnd:d}})})(f,h,m);(function(e,f,h){e("s6",["qd"],function(b){var d=function(b,a){return"A"===a.tag()||"SPAN"===a.tag()};return{isStart:function(c,a){return a.type()===b.START_ELEMENT_TYPE&&d(c,a)},isEnd:function(c,a){return a.type()===b.END_ELEMENT_TYPE&&d(c,a)},is:d}})})(f,h,m);(function(e,f,h){e("s7",
["rt"],function(b){var d=function(a,b,c){b.spanCount.get().push(c)},c=function(a,b,c){b.spanCount.get().pop()};return{deferAndPush:function(a,b,c){a.defer(c);d(a,b,c)},deferAndPop:function(a,b,d){a.defer(d);c(a,b,d)},push:d,pop:c,pushThen:function(a){return function(c,e,f){d(c,e,f);b.next(e,a)}},popThen:function(a){return function(d,e,f){c(d,e,f);b.next(e,a)}}}})})(f,h,m);(function(e,f,h){e("rk","s5 s6 s2 s3 s7 g".split(" "),function(b,d,c,a,e,f){return{run:function(h,l,n){return a("BeforeSpacer",
[c(d.isStart,e.pushThen(h),"start marker"),c(d.isEnd,e.popThen(l),"end marker"),c(b.isEnd,f.noop,"end image")],function(a,b,c){n(a,c)})}}})})(f,h,m);(function(e,f,h){e("s8",["qd"],function(b){var d=function(c,a){return a.type()===b.COMMENT_TYPE};return{is:d,isNotEndIf:function(b,a){return d(b,a)&&"[endif]"!==a.text()},isEndIf:function(b,a){return d(b,a)&&"[endif]"===a.text()},isListSupport:function(b,a){return d(b,a)&&"[if !supportLists]"===a.text()}}})})(f,h,m);(function(e,f,h){e("s9",["8"],function(b){return{any:function(d){return function(c,
a){return b.exists(d,function(b){return b(c,a)})}},all:function(d){return function(c,a){return b.forall(d,function(b){return b(c,a)})}}}})})(f,h,m);(function(e,f,h){e("rl","s8 s9 s6 sa s1 rh s2 s3 s7 rt g t 3x".split(" "),function(b,d,c,a,e,f,h,l,n,m,s,r,t){return{run:function(w,u){var y=function(a){var b=a.emitter.getCurrentListType(),b=a.emitter.getCurrentLevel()==a.itemLevel.get()?b:null;return r.from(f.guess(a.bulletInfo.get(),b,a.originalToken.get()))},z=function(a,b,c){b.emitter.openItem(b.itemLevel.get(),
b.originalToken.get(),b.listType.get(),b.skippedPara.get());for(a.emitDeferred();0<b.spanCount.get().length;)a.emit(b.spanCount.get().shift())},x=function(a,b){m.next(a,w);if(a.commentMode.get()){var c=a.indentGuesser.guessIndentLevel(b,a.originalToken.get(),a.styles,a.bulletInfo.get());a.itemLevel.set(c)}},A=function(a,b,c){return y(b).fold(function(){b.listType.set(null);return t.error("Unknown list type: "+b.bulletInfo.get().text+" Symbol font? "+b.bulletInfo.get().symbolFont)},function(a){b.listType.set(a);
return t.value(z)})},B=function(a,b,c){x(b,c);A(a,b,c).fold(function(b){console.log(b);a.rollback()},function(d){d(a,b,c);a.emit(c)})},B=[h(d.any([e.is,a.isStart]),B,"text or start tag"),h(b.isNotEndIf,B,"non-endif comment"),h(b.isEndIf,function(a,b,c){x(b,c);A(a,b,c).fold(function(b){console.log(b);a.rollback()},function(d){d(a,b,c)})},"endif comment"),h(c.isEnd,n.pop,"end marker"),h(a.isEnd,s.noop,"end tag")];return l("CloseSpans",B,function(a,b,c){u(a,c)})}}})})(f,h,m);(function(e,f,h){e("rm",
"s5 s6 s1 s2 s3 s7 rt g".split(" "),function(b,d,c,a,e,f,h,l){return{run:function(n,m){var s=function(a){return function(b,c,d){h.next(c,n);c.bulletInfo.set(a(c,d))}},r=s(function(a,b){return{text:b.text(),symbolFont:a.symbolFont.get()}}),s=s(function(a,b){return{text:"\u2202",symbolFont:!0}});return e("FindListType",[a(c.isWhitespace,l.noop,"text is whitespace"),a(c.is,r,"text"),a(d.isStart,f.push,"start marker"),a(d.isEnd,f.pop,"end marker"),a(b.isStart,s,"start image")],function(a,b,c){m(a,c)})}}})})(f,
h,m);(function(e,f,h){e("rn",["s4","s2","s3","rt"],function(b,d,c,a){return{run:function(e){var f=[d(b.isCloser,function(b,c,d){a.next(c,e);c.skippedPara.set(!1)},"Closing open tag")];return c("ItemContentState",f,function(a,b,c){a.emit(c)})}}})})(f,h,m);(function(e,f,h){e("sd",["s8","s1"],function(b,d){return{isText:function(b,a){return!b.commentMode.get()&&d.is(b,a)},isComment:function(c,a){return!c.commentMode.get()&&b.is(c,a)}}})})(f,h,m);(function(e,f,h){e("se",["ry","s8","s1"],function(b,d,
c){return{isText:function(a,b){return a.commentMode.get()&&c.is(a,b)},isComment:function(a,b){return a.commentMode.get()&&d.is(a,b)},isUnstyled:function(a,c){var d=b.getAttribute(c,"style");return a.commentMode.get()&&""===d||null===d}}})})(f,h,m);(function(e,f,h){e("ro","8 s9 sb sa s1 sc s2 s3 sd se s7 rt g".split(" "),function(b,d,c,a,e,f,h,l,n,m,s,r,t){return{run:function(w,u,y){var z=function(a,c,d){var e=c.originalToken.get(),g=c.spanCount.get();c.emitter.closeAllLists();a.emit(e);b.each(g,a.emit);
a.emit(d);a.commit();c.originalToken.set(e);r.next(c,u)},x=function(a,b){return e.is(a,b)&&0<f.match(b.text(),a.symbolFont.get()).length},A=function(b,f,k){c.isIgnore(f,k)&&r.next(f,w);return l("ListStartState",[h(d.all([a.isStartOf("SPAN"),m.isUnstyled]),s.pushThen(w),"unstyled span"),h(a.isStartOf("SPAN"),s.push,"starting span"),h(a.isStartOf("A"),s.push,"starting a"),h(a.isEndOf("A"),s.pop,"ending a"),h(m.isText,r.jump(w),"commentOn -> text"),h(x,r.jump(w),"mogran :: text is [1-9]."),h(e.is,z,
"text"),h(n.isComment,t.noop,"commentOff -> comment"),h(a.isStartOf("IMG"),r.jump(w),"mogran :: start image tag")],function(a,b,c){y(a,c)})(b,f,k)};A.toString=function(){return"Handlers for ListStartState"};return A}}})})(f,h,m);(function(e,f,h){e("sg",["qd","sb","global!document","global!navigator"],function(b,d,c,a){return{supportsCustomStyles:function(){if(0<a.userAgent.indexOf("Gecko")&&0>a.userAgent.indexOf("WebKit"))return!1;var e=c.createElement("div");try{e.innerHTML='<p style="mso-list: Ignore;">&nbsp;</p>'}catch(f){return!1}e=
b.token(e.firstChild);return d.isIgnore({},e)}}})})(f,h,m);(function(e,f,h){e("sl",[],function(){return{is:function(b,d,c){b=void 0!==d&&null!==d&&void 0!==d.getAttribute&&null!==d.getAttribute?d.getAttribute("alt"):"";return!!d&&"IMG"===d.tagName&&"*"===b}}})})(f,h,m);(function(e,f,h){e("sm",["rh","1d"],function(b,d){return{is:function(c,a,e){var f=a.nodeValue;d.trim(f)||(f=(a=a.parentNode.nextSibling)?a.nodeValue:"");return a&&d.trim(a.parentNode.textContent)==f?(listType=b.guess({text:f,symbolFont:e},
null,c.originalToken.get()))?!!a.nextSibling&&"SPAN"===a.nextSibling.tagName&&/^[\u00A0\s]/.test(a.nextSibling.firstChild.nodeValue)&&("P"===c.openedTag.get().tag()||"UL"===listType.tag):!1:!1}}})})(f,h,m);(function(e,f,h){e("sh",["3","sa","sl","sm"],function(b,d,c,a){var e=function(a){var c=a.node.style.fontFamily;return c?b.merge(a,{symbol:"Wingdings"===c||"Symbol"===c}):a},f=function(a){return!!a.firstChild&&("SPAN"===a.firstChild.tagName||"A"===a.firstChild.tagName)};return{isUnofficialList:function(b,
h){var n;if(!d.isStartOf("SPAN")(b,h)||!b.openedTag.get())return!1;n=b.openedTag.get().getNode();for(var m=e({node:n}),m=1<n.childNodes.length&&"A"===m.node.firstChild.tagName&&""===m.node.firstChild.textContent?{node:m.node.childNodes[1],symbol:m.symbol}:m;f(m.node);)m=e({node:m.node.firstChild,symbol:m.symbol});n=m.node.firstChild;return(n&&3===n.nodeType?a:c).is(b,n,m.symbol)}}})})(f,h,m);(function(e,f,h){e("sf","ry sg s8 sb sa sh t".split(" "),function(b,d,c,a,e,f,h){var l=function(a){a=b.getMsoList(a);
return(a=/ level([0-9]+)/.exec(a))&&a[1]?h.some(parseInt(a[1],10)):h.none()},n=function(b,c){return e.isStart(b,c)&&a.isList(b,c)&&"LI"!==c.tag()};return{getLevel:l,isStart:n,isValidStart:function(a,b){return n(a,b)&&l(b).isSome()},isInvalidStart:function(a,b){return n(a,b)&&l(b).isNone()},isSpecial:function(a,b){return!d.supportsCustomStyles()&&c.isListSupport(a,b)||f.isUnofficialList(a,b)}}})})(f,h,m);(function(e,f,h){e("rp","sf s6 sa s2 s3 s7 rt".split(" "),function(b,d,c,a,e,f,h){return{run:function(l){var n=
function(a,b,c){b.emitter.closeAllLists();a.emitDeferred();b.openedTag.set(null);a.emit(c);h.next(b,m)},m=e("NoListState",[a(b.isValidStart,function(a,c,d){b.getLevel(d).each(function(b){c.itemLevel.set(b+c.styleLevelAdjust.get());(h.isNext(c,m)?a.emitDeferred:a.dropDeferred)();h.next(c,l());a.startTransaction();c.originalToken.set(d);c.commentMode.set(!1)})},"valid list so start it"),a(b.isInvalidStart,n,"invalid list so close lists"),a(b.isSpecial,function(a,b,d){c.isStartOf("SPAN")(b,d)&&f.push(a,
b,d);h.next(b,l());a.startTransaction();b.originalToken.set(b.openedTag.get());b.commentMode.set(!0);b.openedTag.set(null);a.dropDeferred()},"special list"),a(d.isEnd,f.deferAndPop,"closing marker"),a(d.isStart,f.deferAndPush,"starting marker"),a(c.isStart,function(a,b,c){b.openedTag.get()&&(b.emitter.closeAllLists(),a.emitDeferred());b.openedTag.set(c);a.defer(c)},"starting tag")],n);return m}}})})(f,h,m);(function(e,f,h){e("rq","sg s9 sb sa s1 sh s2 s3 s7 rt".split(" "),function(b,d,c,a,e,f,h,l,
n,m){return{run:function(s,r){return l("SkipEmptyPara",[h(d.all([function(b,c){return a.isStartOf("SPAN")(b,c)&&0===b.spanCount.get().length},function(a,d){return(b.supportsCustomStyles()||!f.isUnofficialList(a,d))&&!c.isList(a,d)}]),n.deferAndPush,"first marker or not list"),h(a.isEndOf("SPAN"),n.deferAndPop,"end span"),h(a.isEndOf("P"),function(a,b,c){a.defer(c);b.skippedPara.set(!0);b.openedTag.set(null);m.next(b,r())},"end p"),h(a.isEnd,m.jump(s),"end tag"),h(e.isWhitespace,function(a,b,c){a.defer(c)},
"whitespace")],m.jump(s))}}})})(f,h,m);(function(e,f,h){e("rr","s6 sa s2 s3 s7 rt g".split(" "),function(b,d,c,a,e,f,h){return{run:function(l){return a("Spacer",[c(b.isEnd,e.popThen(l),"end marker"),c(d.isEnd,f.setNext(l),"end tag")],h.noop)}}})})(f,h,m);(function(e,f,h){e("sn",["2a"],function(b){var d=b.immutable("state","result"),c=b.immutable("state","value");return{state:b.immutable("level","type","types","items"),value:c,result:d}})})(f,h,m);(function(e,f,h){e("sp",["sn","t"],function(b,d){return{start:function(c,
a){var e=c.items().slice(0),f=void 0!==a&&"P"!==a?d.some(a):d.none();f.fold(function(){e.push("P")},function(a){e.push(a)});var h=b.state(c.level(),c.type(),c.types(),e);return b.value(h,f)},finish:function(c){var a=c.items().slice(0);if(0<a.length&&"P"!==a[a.length-1]){var e=a[a.length-1];a[a.length-1]="P";c=b.state(c.level(),c.type(),c.types(),a);return b.value(c,d.some(e))}return b.value(c,d.none())}}})})(f,h,m);(function(e,f,h){e("sq",["sn"],function(b){var d=function(c,a,d){for(var e=[];a(c);){var f=
d(c);c=f.state();e=e.concat(f.result())}return b.result(c,e)};return{moveRight:function(b,a,e){return d(b,function(b){return b.level()<a},e)},moveLeft:function(b,a,e){return d(b,function(b){return b.level()>a},e)},moveUntil:d}})})(f,h,m);(function(e,f,h){e("ss",["ry"],function(b){return{from:function(d){var c={"list-style-type":"none"};d?(d=b.getStyle(d,"margin-left"),d=void 0!==d&&"0px"!==d?{"margin-left":d}:{}):d=c;return d}}})})(f,h,m);(function(e,f,h){e("st",["qd","g"],function(b,d){return{para:function(c){return[d.curry(b.createStartElement,
"P",{},{}),d.curry(b.createText,"\u00a0"),d.curry(b.createEndElement,"P")]}}})})(f,h,m);(function(e,f,h){e("sr","r1 qd rh sn sp ss st g".split(" "),function(b,d,c,a,e,f,h,l){var n=function(b,c,e){var g=c.start&&1<c.start?{start:c.start}:{},f=b.level()+1,k=b.types().concat([c]);e=[l.curry(d.createStartElement,c.tag,g,e)];b=a.state(f,c,k,b.items());return a.result(b,e)},m=function(b){var c=b.types().slice(0),e=[l.curry(d.createEndElement,c.pop().tag)],g=b.level()-1;b=a.state(g,c[c.length-1],c,b.items());
return a.result(b,e)},s=function(b,c,d){b=m(b);d=d?h.para():[];c=n(b.state(),c,c.type?{"list-style-type":c.type}:{});return a.result(c.state(),b.result().concat(d).concat(c.result()))};return{open:n,openItem:function(h,n,p,m){var q=f.from(n);h=h.type()&&!c.eqListType(h.type(),p)?s(h,p,m):a.result(h,[]);q=[l.curry(d.createStartElement,"LI",{},q)];p=e.start(h.state(),n&&n.tag());m=p.value().map(function(a){b.styleDom(n.getNode(),l.constant(!0));return[l.constant(n)]}).getOr([]);return a.result(p.state(),
h.result().concat(q).concat(m))},close:m,closeItem:function(b){var c=l.curry(d.createEndElement,"LI");b=e.finish(b);var f=b.value().fold(function(){return[c]},function(a){return[l.curry(d.createEndElement,a),c]});return a.result(b.state(),f)}}})})(f,h,m);(function(e,f,h){e("so","8 qd sn sp sq sr g t".split(" "),function(b,d,c,a,e,f,h,l){var n=function(a){if(0===a.length)throw"Compose must have at least one element in the list";var d=a[a.length-1];a=b.bind(a,function(a){return a.result()});return c.result(d.state(),
a)},m=function(a){a=f.closeItem(a);var b=f.close(a.state());return n([a,b])},s=function(a,b,c,d){return e.moveRight(a,c,function(a){var e=a.level()===c-1&&b.type?{"list-style-type":b.type}:{};a=f.open(a,b,e);e=f.openItem(a.state(),a.state().level()==c?d:void 0,b);return n([a,e])})},r=function(a,b){return e.moveLeft(a,b,m)},t=function(b,e,g,f){var k=1<g?a.finish(b):c.value(b,l.none());b=k.value().map(function(a){return[h.curry(d.createEndElement,a)]}).getOr([]);k.state().level();e=s(k.state(),e,g,
f);return c.result(e.state(),b.concat(e.result()))};return{openItem:function(a,b,d,e,g){a=a.level()>b?r(a,b):c.result(a,[]);a.state().level()===b?(b=a.state(),b=0<b.level()?f.closeItem(b):c.result(b,[]),d=f.openItem(b.state(),d,e,g),d=n([b,d])):d=t(a.state(),e,b,d);return n([a,d])},closeAllLists:r}})})(f,h,m);(function(e,f,h){e("si",["8","sn","so"],function(b,d,c){var a=["disc","circle","square"];return function(e,f){var h=d.state(0,void 0,[],[]),l=function(a){b.each(a.result(),function(a){a=a(f);
e.emit(a)})};return{closeAllLists:function(){var a=c.closeAllLists(h,0);h=a.state();l(a);e.commit()},openItem:function(b,d,e,g){e&&("UL"===e.tag&&a[b-1]===e.type&&(e={tag:"UL"}),b=c.openItem(h,b,d,e,g),h=b.state(),l(b))},getCurrentListType:function(){return h.type()},getCurrentLevel:function(){return h.level()}}}})})(f,h,m);(function(e,f,h){e("sj",["8","ry","1d","global!Math"],function(b,d,c,a){var e=function(a){return a.ownerDocument.defaultView?a.ownerDocument.defaultView.getComputedStyle(a,null):
a.currentStyle||{}},f=function(a){var b={};return function(c,d){var e,g=c+","+d;if(b.hasOwnProperty(g))return b[g];e=a.call(null,c,d);return b[g]=e}}(function(a,d){var f,k=/([^{]+){([^}]+)}/g,h;for(k.lastIndex=0;null!==(f=k.exec(a))&&!h;)b.each(f[1].split(","),function(a){var b=a.indexOf(".");if(0<=b&&c.trim(a.substring(b+1))===d)return h=f[2],!1});return h?(k=document.createElement("p"),k.setAttribute("style",h),(k=e(k))?""+k.marginLeft:!1):!1});return{indentGuesser:function(){var b,c;return{guessIndentLevel:function(e,
g,h,m){var t=1;if(m&&/^([0-9]+\.)+[0-9]+\.?$/.test(m.text))return m.text.replace(/([0-9]+|\.$)/g,"").length+1;h=c||parseInt(f(h,d.getAttribute(g,"class")));e=e.getNode();g=g.getNode();m=0;for(e=e.parentNode;null!==e&&e!==g.parentNode;)m+=e.offsetLeft,e=e.offsetParent;g=m;h?b?g+=b:0===g&&(b=h,g+=h):h=48;c=h=a.min(g,h);return t=a.max(1,a.floor(g/h))||1}}}}})})(f,h,m);(function(e,f,h){e("sk",["qd"],function(b){return function(){var d=!1,c="";return{check:function(a){return d&&a.type()===b.TEXT_TYPE?
(c+=a.text(),!0):a.type()===b.START_ELEMENT_TYPE&&"STYLE"===a.tag()?d=!0:a.type()===b.END_ELEMENT_TYPE&&"STYLE"===a.tag()?(d=!1,!0):!1}}}})})(f,h,m);(function(e,f,h){e("rs",["si","sj","sk","g","9g"],function(b,d,c,a,e){var f=d.indentGuesser(),h=c(),l={getCurrentListType:function(){return n().getCurrentListType()},getCurrentLevel:function(){return n().getCurrentLevel()},closeAllLists:function(){return n().closeAllLists.apply(void 0,arguments)},openItem:function(){return n().openItem.apply(void 0,arguments)}},
n=function(){return{getCurrentListType:a.constant({}),getCurrentLevel:a.constant(1),closeAllLists:a.identity,openItem:a.identity}};return function(c){var d=e(c),m=e(0),t=e(null),w=e(!1),u=e(null),y=e(!1),z=e(null),x=e([]),A=e(!1),B=e(0),E=e(void 0),C=e([]);return{reset:function(e){d.set(c);m.set(0);t.set(null);w.set(!1);u.set(null);y.set(!1);z.set(null);x.set([]);A.set(!1);B.set(0);E.set(void 0);C.set([]);_emitter=b(e,e.document);n=a.constant(_emitter)},nextFilter:d,itemLevel:m,originalToken:t,commentMode:w,
openedTag:u,symbolFont:y,listType:z,spanCount:x,skippedPara:A,styleLevelAdjust:B,bulletInfo:E,logger:C,emitter:l,styles:h,indentGuesser:f}}})})(f,h,m);(function(e,f,h){e("r6","qc rh ri rj rk rl rm rn ro rp rq rr rs rt".split(" "),function(b,d,c,a,e,f,h,l,n,m,s,r,t,w){var u=function(a,b){var c="Type: "+b.type()+", Tag: "+b.tag()+" Text: "+b.text();console.log("Unexpected token in list conversion: "+c,x.nextFilter.get());a.rollback()};m=m.run(function(){return z});s=s.run(m,function(){return y});var y=
c.run(s,m);c=l.run(y);f=f.run(c,u);r=r.run(f);e=e.run(r,f,u);h=h.run(e,u);a=a.run(y);var z=n.run(h,a,u),x=t(m);return b.createFilter(function(a,b){x.styles&&x.styles.check(b)||(x.symbolFont.set(d.checkFont(b,x.symbolFont.get())),w.go(a,x,b))},x.reset,"lists")})})(f,h,m);(function(e,f,h){e("q9","qz og r4 r5 r6 g 40 1p r7".split(" "),function(b,d,c,a,e,f,h,l,n){var m=d.unwrapper({tags:[{name:n.pattern(/^([OVWXP]|U[0-9]+|ST[0-9]+):/i)}]});e=d.pipeline([e]);var s=d.removal({attributes:[{name:n.pattern(/^v:/)},
{name:n.exact("href"),value:n.contains("#_toc")},{name:n.exact("href"),value:n.contains("#_mso")},{name:n.pattern(/^xmlns(:|$)/)},{name:n.exact("align")},{name:n.exact("type"),condition:c.isList}]}),r=d.removal({tags:[{name:n.exact("script")},{name:n.exact("meta")},{name:n.exact("link")},{name:n.exact("style"),condition:c.isEmpty}],attributes:[{name:n.starts("on")},{name:n.exact("id")},{name:n.exact("name")},{name:n.exact("lang")},{name:n.exact("language")}],styles:[{name:n.all(),value:n.pattern(/OLE_LINK/i)}]}),
t=d.removal({styles:[{name:n.not(n.pattern(/width|height|list-style-type/)),condition:function(a){return!h.has(a,"ephox-limbo-transform")}},{name:n.pattern(/width|height/),condition:c.isNotImage}]}),w=d.removal({classes:[{name:n.not(n.exact("rtf-data-image"))}]}),u=d.removal({styles:[{name:n.pattern(b.validStyles())}]}),y=d.removal({classes:[{name:n.pattern(/mso/i)}]}),z=d.unwrapper({tags:[{name:n.exact("img"),condition:c.isLocal},{name:n.exact("a"),condition:c.hasNoAttributes}]}),x=d.unwrapper({tags:[{name:n.exact("a"),
condition:c.hasNoAttributes}]}),A=d.removal({attributes:[{name:n.exact("style"),value:n.exact(""),debug:!0}]}),B=d.removal({attributes:[{name:n.exact("class"),value:n.exact(""),debug:!0}]});b=d.unwrapper({tags:[{name:n.pattern(b.specialInline()),condition:f.not(c.hasContent)}]});c=d.transformer({tags:[{name:n.exact("p"),mutate:a.addBrTag}]});var E=d.transformer({tags:[{name:n.pattern(/ol|ul/),mutate:a.properlyNest}]}),C=d.transformer({tags:[{name:n.exact("b"),mutate:f.curry(a.changeTag,"strong")},
{name:n.exact("i"),mutate:f.curry(a.changeTag,"em")},{name:n.exact("u"),mutate:function(b){b=a.changeTag("span",b);h.add(b,"ephox-limbo-transform");l.set(b,"text-decoration","underline")}},{name:n.exact("s"),mutate:f.curry(a.changeTag,"strike")},{name:n.exact("font"),mutate:a.fontToSpan,debug:!0}]}),D=d.removal({classes:[{name:n.exact("ephox-limbo-transform")}]});d=d.removal({attributes:[{name:n.exact("href"),value:n.starts("file:///"),debug:!0}]});return{unwrapWordTags:m,removeWordAttributes:s,parseLists:e,
removeExcess:r,cleanStyles:t,cleanClasses:w,mergeStyles:u,mergeClasses:y,removeLocalImages:z,removeVacantLinks:x,removeEmptyStyle:A,removeEmptyClass:B,pruneInlineTags:b,addPlaceholders:c,nestedListFixes:E,inlineTagFixes:C,cleanupFlags:D,removeLocalLinks:d,none:f.noop}})})(f,h,m);(function(e,f,h){e("oe","8 6l q9 og qc qd j".split(" "),function(b,d,c,a,e,f,h){var l=function(a){return a.browser.isIE()&&11<=a.browser.version.major},n=function(a){return e.createFilter(function(b,c){var d=a(h.fromDom(c.getNode())).fold(function(){return c},
function(a){a=a.dom();return f.token(a,c.type()===f.END_ELEMENT_TYPE,{})});b.emit(d)})},m=function(a,b,d){a=[c.mergeStyles,c.mergeClasses];d=[c.cleanStyles,c.cleanClasses];return b?a:d},s=function(a,b,d){if(!a)return c.none;a=[c.unwrapWordTags];d=l(d)?[]:c.parseLists;return a.concat(d)};return{derive:function(e,g,f){var k,h;h=f.browser.isFirefox()?d.local:d.vshape;k=l(f)?c.none:a.pipeline([n(h)]);k=[e?k:c.none];h=[h===d.local?c.none:c.removeLocalImages];return b.flatten([k,[c.inlineTagFixes],s(e,
g,f),[c.nestedListFixes],[c.removeExcess],h,m(e,g,f),[c.removeLocalLinks,c.removeVacantLinks],[c.removeEmptyStyle],[c.removeEmptyClass],[c.pruneInlineTags],[c.addPlaceholders],[c.cleanupFlags]])}}})})(f,h,m);(function(e,f,h){e("ru",["8","g","i1","ad"],function(b,d,c,a){return{separate:function(e,f,h){var l=b.bind(h,function(a){return[a.start(),a.finish()]}),n=a.splits(f,l,function(a,b){return c.subdivide(e,a.element(),b)});return b.map(h,function(c){var f=a.sublist(n,c.start(),c.finish()),f=b.map(f,
function(a){return a.element()}),k=b.map(f,e.property().getText).join("");return{elements:d.constant(f),word:c.word,exact:d.constant(k)}})}}})})(f,h,m);(function(e,f,h){e("r8","8 t 7u ia qv ru 2z ad ae 2a".split(" "),function(b,d,c,a,e,f,h,l,n,m){var s=m.immutable("word","pattern"),r=function(a,b){return l.generate(b,function(b,e){var g=e+a.property().getText(b).length;return d.from(c.range(b,e,g))})},t=function(c,d,h){d=a.group(c,d);return b.bind(d,function(a){a=e.justText(a);var d=b.map(a,c.property().getText).join(""),
d=n.findmany(d,h);a=r(c,a);return f.separate(c,a,d)})};return{safeWords:function(a,c,d){d=b.map(d,function(a){var b=h.safeword(a);return s(a,b)});return t(a,c,d)},safeToken:function(a,b,c){c=s(c,h.safetoken(c));return t(a,b,[c])},run:t}})})(f,h,m);(function(e,f,h){e("qe",["r8"],function(b){return{safeWords:function(d,c,a){return b.safeWords(d,c,a)},safeToken:function(d,c,a){return b.safeToken(d,c,a)},run:function(d,c,a){return b.run(d,c,a)}}})})(f,h,m);(function(e,f,h){e("oy",["8b","qe"],function(b,
d){var c=b();return{safeWords:function(a,b){return d.safeWords(c,a,b)},safeToken:function(a,b){return d.safeToken(c,a,b)},run:function(a,b){return d.run(c,a,b)}}})})(f,h,m);(function(e,f,h){e("of","8 t oy 2z 2a 1f 1p j 1m 1g 2e 7o".split(" "),function(b,d,c,a,e,f,h,l,n,m,s,r){var t=function(b){var d=e.immutable("word","pattern"),f=a.unsafetoken("((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+|(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)[A-Za-z0-9\\.\\-]+)(:[0-9]+)?((?:\\/[\\+~%\\/\\.\\w\\-_]*)?\\??(?:[\\-\\+=&;%@\\.\\w_]*)#?(?:[\\.\\!\\/\\\\\\w]*))?)"),
d=d("__INTERNAL__",f);return c.run(b,[d])},w=function(a){return!r.closest(a,"a")},u=function(a){return d.from(a[0]).filter(w).map(function(b){var c=l.fromTag("a");m.before(b,c);s.append(c,a);f.set(c,"href",n.get(c));return c})};return{links:function(a){a=t(a);b.each(a,function(a){u(a.elements())})},position:function(a){b.each(a,function(a){h.remove(a,"position")})}}})})(f,h,m);(function(e,f,h){e("kv","8 oe of og 1m 1r".split(" "),function(b,d,c,a,e,f){var h=function(a,d){var e=f.children(d);b.each([c.links,
c.position],function(a){a(e)})};return{go:function(b,c,f,k,m){h(c,f);f=e.get(f);c=d.derive(m,k,c);return a.go(b,f,c)}}})})(f,h,m);(function(e,f,h){e("kw",["og","1f","1m","bc"],function(b,d,c,a){var e=function(b){return a.descendant(b,function(a){return d.has(a,"style")?-1<d.get(a,"style").indexOf("mso-"):!1})},f=function(a){a=c.get(a);return b.isWordContent(a)};return{isWord:function(a,b){var c=a.browser;return(c.isIE()&&11<=c.version.major?e:f)(b)}}})})(f,h,m);(function(e,f,h){e("qf",["global!Array"],
function(b){return{bounce:function(d){return function(){var c=b.prototype.slice.call(arguments),a=this;setTimeout(function(){d.apply(a,c)},0)}}}})})(f,h,m);(function(e,f,h){e("qg",[],function(){return function(b,d){return{get:d,map:function(c){return b(function(a){d(function(b){a(c(b))})})},bind:function(c){return b(function(a){d(function(b){c(b).get(a)})})},anonBind:function(c){return b(function(a){d(function(b){c.get(a)})})}}}})})(f,h,m);(function(e,f,h){e("qh",["8","qf","qg"],function(b,d,c){var a=
function(b){return c(a,function(a){b(d.bounce(a))})},e=function(c){return a(function(a){var d=[],e=0,g=function(b){return function(g){d[b]=g;e++;e>=c.length&&a(d)}};0===c.length?a([]):b.each(c,function(a,b){a.get(g(b))})})};return{nu:a,par:e,mapM:function(a,c){return e(b.map(a,c))},lift2:function(b,c,d){return a(function(a){var e=!1,g=!1,f=void 0,h=void 0,m=function(){if(e&&g){var b=d(f,h);a(b)}};b.get(function(a){f=a;e=!0;m()});c.get(function(a){h=a;g=!0;m()})})}}})})(f,h,m);(function(e,f,h){e("oh",
"8 3 qf qg qh g t".split(" "),function(b,d,c,a,e,f,h){var l=function(f){var k=h.none(),m=[],r=function(){return k.isSome()},t=function(a){k.each(function(b){c.bounce(a)(b)})};e.nu(f).get(function(a){k=h.some(a);b.each(m,t);m=[]});f=a(l,function(a){r()?t(a):m.push(a)});return d.merge(f,{isSet:r})};return{nu:l}})})(f,h,m);(function(e,f,h){e("kx","8 1n 1o b0 oh 3t g t".split(" "),function(b,d,c,a,e,f,h,l){return{convert:function(n){var m=c.resolve("window.clipboardData.files"),s=void 0!==n.convertURL?
n.convertURL:void 0!==n.msConvertURL?n.msConvertURL:void 0;if(void 0!==m&&void 0!==s&&0<m.length){var r=b.map(m,function(b){var c=f.createObjectURL(b);s.apply(n,[b,"specified",c]);return a.blob(d.generate("image"),b,c)}),m=e.nu(function(b){a.fromBlobs(r,b)});m.get(h.noop);return l.some(m)}return l.none()}}})})(f,h,m);(function(e,f,h){e("oi",["g","q"],function(b,d){return function(c,a,e,f){var h=d.eq(c,e)&&a===f;return{startContainer:b.constant(c),startOffset:b.constant(a),endContainer:b.constant(e),
endOffset:b.constant(f),collapsed:b.constant(h)}}})})(f,h,m);(function(e,f,h){e("ky",["oi","j","1g","1s","1r"],function(b,d,c,a,e){return function(f){var h=d.fromTag("br");return{cleanup:function(){a.remove(h)},toOn:function(a,b){a.dom().focus()},toOff:function(a,d){var m;m=e.owner(d).dom().defaultView;m.focus();c.append(d,h);f.set(m,b(h,0,h,0))}}}})})(f,h,m);(function(e,f,h){e("oj","2a 1f 1p j 1m 1g 1s 1h 1r".split(" "),function(b,d,c,a,e,f,h,l,n){return function(m){var s=a.fromTag("div");d.set(s,
"contenteditable","true");c.setAll(s,{position:"absolute",left:0,top:0,width:0,height:0,overflow:"hidden"});return{attach:function(b){b=null!==n.owner(b).dom()?n.owner(b):b;h.empty(s);b=a.fromDom(b.dom().body);f.append(b,s)},focus:function(){l.ancestor(s,"body").each(function(a){m.toOff(a,s)})},contents:function(){var a=b.immutable("elements","html","container"),c=n.children(s),d=e.get(s);return a(c,d,s)},container:function(){return s},detach:function(){h.remove(s)}}}})})(f,h,m);(function(e,f,h){e("kz",
"g 65 28 29 oj az 1r global!setTimeout".split(" "),function(b,d,c,a,e,f,h,l){return function(l,m){var s=e(l),r=function(){l.cleanup();var a=s.contents();s.detach();w.trigger.after(a.elements(),a.html(),s.container())},t=d.tap(function(){w.trigger.before();s.attach(m);s.focus();f.run(h.owner(m),t,r)}),w=a.create({before:c([]),after:c(["elements","html","container"])});return{instance:b.constant(function(){var a=t.control.isBlocked()?!1:f.blocking();t.instance();return a}),destroy:function(){},events:w.registry}}})})(f,
h,m);(function(e,f,h){e("gd","k ku kv kw t 6o kx 28 29 ky kz 40 2h".split(" "),function(b,d,c,a,e,f,h,l,n,m,s,r,t){var w=b.detect();return function(b,y,z,x){var A=n.create({paste:l(["elements"]),assets:l(["assets"]),error:l(["message"])}),B=m(d),E=z(),C=s(B,E),D=e.none();C.events.after.bind(function(d){var h=d.container();B.toOn(E,h);b.filterDom(b.paste(),h);r.add(h,f.bin());var l=a.isWord(w,h);x.get(l,function(a){a=!0===(l&&a.mergeOfficeStyles)||!l&&!0===a.mergeHtmlStyles;a=c.go(y(),w,h,a,l);void 0!==
a&&null!==a&&0<a.length&&(a=t.fromHtml(a),A.trigger.paste(a),D.each(function(a){a.get(A.trigger.assets)}),D=e.none())})});return{handler:function(a){D=h.convert(a);return C.instance()()},events:A.registry,destroy:function(){C.destroy()}}}})})(f,h,m);(function(e,f,h){e("b5","gb gc gd 28 29 2a 1d".split(" "),function(b,d,c,a,e,f,h){var l=f.immutable("captured");return function(f,k,m,r,t,w,u){var y=b(t,w,u),z=d(r),x=c(f,k,m,w,u),A=e.create({paste:a(["elements"]),assets:a(["assets"]),error:a(["message"])});
f=function(a){a.events.error.bind(function(a){A.trigger.error(a.message())});a.events.paste.bind(function(a){A.trigger.paste(a.elements())});a.events.assets.bind(function(a){A.trigger.assets(a.assets())})};f(y);f(z);f(x);f=function(a,b){var c=z.handler(a.clipboardData.items);return l(c)};return{events:A.registry,handlers:{html:function(a,b){var c=a.clipboardData.getData(b),c=h.contains(c,"<html")&&(h.contains(c,'xmlns:o="urn:schemas-microsoft-com:office:office"')||h.contains(c,'xmlns:x="urn:schemas-microsoft-com:office:excel"'))?
y.handler(c):x.handler(a);return l(c)},image:f,files:f,fallback:function(a,b){var c=x.handler(a);return l(c)}},destroy:function(){x.destroy()}}}})})(f,h,m);(function(e,f,h){e("6r",["t","h","b5","global!RegExp"],function(b,d,c,a){var e=["html","image","files"],f={flavor:"fallback"},h=function(c){if(void 0===c)return f;var h=c.types;return d.find_map(e,function(c){var e=new a(c,"i");return d.find_map(h,function(a){return null!==a.match(e)?b.some({type:a,flavor:c}):b.none()})}).getOr(f)},l=function(a){return function(b){b=
b.original().raw();var c=h(b.clipboardData);(0,a[c.flavor])(b,c.type).captured()&&b.preventDefault()}};return function(a,b,d,e,g,f){var k=c(a,b,d,e,g,f);a=l(k.handlers);return{events:k.events,handlePaste:a,destroy:function(){k.destroy()}}}})})(f,h,m);(function(e,f,h){e("6s","t 1q j 2y global!setTimeout global!window".split(" "),function(b,d,c,a,e,f){var h=b.none();return{block:function(){if(h.isNone()){var e=a.get(),g=d.bind(c.fromDom(f),"scroll",function(b){b=a.get();b.left()===e.left()&&b.top()===
e.top()||f.scrollTo(e.left(),e.top())});h=b.some(g)}},unblock:function(){h.each(function(a){h=b.none();e(function(){a.unbind()},250)})}}})})(f,h,m);(function(e,f,h){e("3h","6k 8 6l t 65 6m 6n 3r 6o 6p 6q 6r 6s 3s 28 29 1s global!window".split(" "),function(b,d,c,a,e,f,h,l,n,m,s,r,t,w,u,y,z,x){return function(x,B,A){var C=x.filter(),D=x.content(),R=x.keyboard(),G=x.undo(),H=x.smartview(),J=m(D,R,H.uiContainer(),A),M=a.none(),K=e.tap(function(a){a()}),P=s(R,H.uiContainer(),A);P.events.open.bind(function(){D.deactivate();
K.control.block()});P.events.close.bind(function(){D.activate();D.focus();O()});var L=y.create({analytics:u(["message"])}),N=function(a){a=l(w.get(a.message()));x.ui().displayBanner(a);O()},O=function(){K.control.unblock();t.unblock()};J.events.response.bind(function(a){a=b.images(a.rtf());D.activate();D.focus();var d=c.find(D);h.convert(d,a,function(a){B.uploadAssets(a);O()})});J.events.cancel.bind(function(){var a=c.find(D);d.each(a,z.remove);D.activate();D.focus();O()});J.events.error.bind(N);
n.configure(C);D.events.ready.bind(function(b){var d=f(D),e=b.api(),g=r(C,e.doc,e.body,e.getSelection,H.uiContainer(),P);e.events.paste.bind(function(a){K.instance(function(){t.block();d.backup();g.handlePaste(a)});K.control.isBlocked()&&a.original().raw().preventDefault()});g.events.paste.bind(function(a){e.focus();G.save();d.insert(a.elements());L.trigger.analytics("paste_action");B.reconstitute();0<c.find(D).length?(D.deactivate(),K.control.block(),J.open()):O()});g.events.assets.bind(function(a){B.uploadAssets(a.assets())});
M=a.some(g);g.events.error.bind(N)});return{destroy:function(){M.each(function(a){a.destroy()});P.destroy()},events:L.registry}}})})(f,h,m);(function(e,f,h){e("b7",["g"],function(b){return{dupeCode:b.constant("error.duplicate.code"),dupeUuid:b.constant("error.duplicate.uuid"),unknownUuid:b.constant("error.unknown.uuid")}})})(f,h,m);(function(e,f,h){e("6v","8 r 1n 3x b6 b7".split(" "),function(b,d,c,a,e,f){var h=e.access("snippets"),l=function(b,c,d,e,g){d={uuid:c,code:d,snippet:e};b[c]=d;h.write(b);
g(a.value(d))},n=function(a){var c=h.read(),c=d.values(c);return b.exists(c,function(b){return b.code===a})},m=function(b,c){var d=a.error([{},{},{error:c}]);b(d)};return{get:function(a){var b=h.read();a(d.values(b))},create:function(a,b,d){var e=h.read();if(n(a))m(d,f.dupeCode());else{var g=c.generate("ephox-snippet");l(e,g,a,b,d)}},update:function(a,b,c,d){var e=h.read();void 0===e[a]?m(d,f.unknownUuid()):n(b)?m(d,f.dupeCode()):l(e,a,b,c,d)},remove:function(b,c){var d=h.read();if(void 0===d[b])m(c,
f.unknownUuid());else{var e=d[b];delete d[b];h.write(d);c(a.value(e))}}}})})(f,h,m);(function(e,f,h){e("6w",["3x","3y"],function(b,d){return function(c,a){return{get:function(b){d.json().ajax(c,"GET",b,function(){b([])},a.headers())},create:function(e,f,h){var l={code:e,snippet:f};d.json().ajaxData(c,l,"POST",function(a){h(b.value({uuid:a.uuid,code:e,snippet:f}))},function(a){h(b.error(arguments))},a.headers())},update:function(e,f,h,l){var m=c+"/"+e,q={code:f,snippet:h};d.json().ajaxData(m,q,"PUT",
function(a){l(b.value({uuid:e,code:f,snippet:h}))},function(a){l(b.error(arguments))},a.headers())},remove:function(e,f){var h=c+"/"+e;d.json().ajaxData(h,{},"DELETE",function(a){f(b.value(e))},function(a){f(b.error(arguments))},a.headers())}}}})})(f,h,m);(function(e,f,h){e("6x","3x 49 3u 28 29 4h".split(" "),function(b,d,c,a,e,f){return function(h,l){var m=c.resolve("snippet-saving"),q=c.resolve("snippet-removing"),s=e.create({insert:a(["snippet"]),close:a([])}),r=function(){l.close();s.trigger.close()},
t=function(a){return""===a.code()?b.error("Cannot create a snippet with an empty code."):""===a.snippet()?b.error("Cannot create a snippet with an empty body."):b.value(a)},w=function(a){return function(b){x([]);l.unlock();a.success()(b,'Snippet "'+a.code()+'" saved successfully.',a)}},u=function(a){return function(b){x([]);l.unlock();l.scan();a.success()(b,a.code()+" removed successfully.",a)}},y=function(a){return function(b,c,e){b=a.failure();x([]);l.unlock();e=d.get(e.error);b(e)}},z=function(a,
b){t(a).fold(function(b){y(a)({},{},{error:b})},function(a){b()})},x=function(a){f.remove(l.element(),[m,q]);f.add(l.element(),a)},A=function(){x([m]);l.lock();l.inform("Saving ...")};l.events.close.bind(function(){r()});l.events.update.bind(function(a){z(a,function(b){A();h.update(a.uuid(),a.code(),a.snippet(),w(a),y(a))})});l.events.create.bind(function(a){z(a,function(b){A();h.create(a.code(),a.snippet(),w(a),y(a))})});l.events.remove.bind(function(a){x([q]);l.lock();l.inform("Removing ...");h.remove(a.uuid(),
u(a),y(a))});l.events.ok.bind(function(a){s.trigger.insert(a.snippet());r()});return{element:l.element,open:function(){h.get(function(a){l.open("")})},close:r,destroy:l.destroy,events:s.registry}}})})(f,h,m);(function(e,f,h){e("ge",["g"],function(b){var d=function(c,a,e){return{uuid:b.constant(c),code:b.constant(a),snippet:b.constant(e),value:b.constant(c),save:function(a,b){return d(c,a,b)}}};return d})})(f,h,m);(function(e,f,h){e("b8",["8","ge"],function(b,d){return function(c){var a=void 0===c?
[]:c.slice(0),e=function(a){a=a.slice(0);a.sort(function(a,b){return a.code()<b.code()?-1:a.code()>b.code()?1:0});return a};return{set:function(c){c=b.map(c,function(a){return d(a.uuid,a.code,a.snippet)});a=e(c);return a.slice(0)},create:function(b,c,f){b=d(b,c,f);a=e(a.concat([b]));return a.slice(0)},remove:function(c){var d=b.filter(a,function(a){return a.uuid()!==c});a=e(d);return a.slice(0)},update:function(c,f,h){var m=b.map(a,function(a){return a.uuid()===c?d(c,f,h):a});a=e(m);return a.slice(0)},
get:function(){return a.slice(0)}}}})})(f,h,m);(function(e,f,h){e("b9",["8","t"],function(b,d){return function(c){var a=c.slice(0),e=function(a){return b.map(a,function(a){return a.uuid()})};return{match:function(c){var d=b.filter(a,function(a){return-1<a.code().search(c)});return e(d)},get:function(c){var e=b.find(a,function(a){return a.uuid()===c});return d.from(e)},all:function(){return e(a)},mutate:function(b){a=b.slice(0)}}}})})(f,h,m);(function(e,f,h){e("6y",["8","b8","b9"],function(b,d,c){return function(a){var e=
d([]),f=c(e.get()),h=function(a){return function(b){return a.apply(null,b)}},l=function(a,b,c){return function(d){d.fold(h(c),function(c){var d=a(c.uuid,c.code,c.snippet);f.mutate(d);b(c.uuid)})}};return{current:function(){var a=e.get(),c={};b.each(a,function(a){c[a.code()]=a.snippet()});return c},get:function(b){a.get(function(a){a=e.set(a);f.mutate(a);b()})},update:function(b,c,d,f,h){f=l(e.update,f,h);a.update(b,c,d,f)},create:function(b,c,d,f){d=l(e.create,d,f);a.create(b,c,d)},remove:function(b,
c,d){c=l(e.remove,c,d);a.remove(b,c)},source:function(){return f}}}})})(f,h,m);(function(e,f,h){e("l0",["4c"],function(b){return{resolve:b.create("ephox-whip").resolve}})})(f,h,m);(function(e,f,h){e("gf","40 j 1g 2e 1s l0".split(" "),function(b,d,c,a,e,f){return function(h){var l=d.fromTag("div");b.add(l,f.resolve("container"));var m=d.fromTag("div");b.add(m,f.resolve("sidebar"));a.append(m,h.sidebar());c.append(l,m);a.append(l,h.view());h.init();return{element:function(){return l},controls:h.controls,
focus:h.focus,destroy:function(){h.destroy();e.remove(m);e.remove(l)},events:h.events}}})})(f,h,m);(function(e,f,h){e("ok","8 r g t j 2e 1s".split(" "),function(b,d,c,a,e,f,h){return function(l,m){var q=e.fromTag("div"),s=d.values(l),r=b.bind(s,c.identity);f.append(q,b.map(r,function(a){return a.element()}));var t=function(a){b.each(a,function(a){a.show()})},w=function(a){b.each(a,function(a){a.hide()})};return{element:function(){return q},destroy:function(){b.each(r,function(a){a.destroy()});h.remove(q)},
enable:function(){b.map(m,function(a){a.enable()})},disable:function(){b.map(m,function(a){a.disable()})},switchTo:function(b){a.from(l[b]).each(function(a){d.each(l,w);t(a)})}}}})})(f,h,m);(function(e,f,h){e("gi",["8","1f","1h","l0"],function(b,d,c,a){var e=function(a,e){b.map(e,function(b,e){var g=c.descendant(a,b).getOrDie("Could not find: "+b+". Are you sure it is in the DOM at this point?");d.set(g,"tabindex",e+1);d.set(g,"data-tabindex",e+1)})};return{components:function(c,d){var f=b.map(d,
function(b){return"."+a.resolve(b)});e(c,f)},elements:e,disable:function(a){d.set(a,"tabindex",-1)},enable:function(a){var b=d.get(a,"data-tabindex");d.set(a,"tabindex",b)}}})})(f,h,m);(function(e,f,h){e("ol","b3 b4 1f 40 7p l0 gi".split(" "),function(b,d,c,a,e,f,h){return function(c,m,q){var s=b();s.content(d(c));a.add(s.element(),f.resolve(m));s.events.click.bind(function(){q()});c=e.displayToggler(s.element(),"inline-block");return{element:s.element,show:c.off,hide:c.on,content:s.content,disable:function(){s.disable();
h.disable(s.element())},enable:function(){s.enable();h.enable(s.element())},destroy:s.destroy}}})})(f,h,m);(function(e,f,h){e("om",["40","j","1g","7p","l0"],function(b,d,c,a,e){return function(f){var h=d.fromTag("span");b.add(h,e.resolve("command-tip"));c.append(h,d.fromText(f));f=a.displayToggler(h,"inline");return{element:function(){return h},destroy:function(){},show:f.off,hide:f.on}}})})(f,h,m);(function(e,f,h){e("on","g t c8 40 1p j 1g 1s 7p l0 global!clearTimeout global!setTimeout".split(" "),
function(b,d,c,a,e,f,h,l,m,q,s,r){return function(){var c=f.fromTag("div");a.add(c,q.resolve("banner"));var e=m.displayToggler(c,"display");e.on();var g=void 0,y=function(a,b,c){e.on();c&&c()},z=function(a,b,d){void 0!==g&&s(g);y(c,"fast",function(){l.empty(c);h.append(c,a);e.off();b.each(function(a){g=r(function(){y(c,"fast",d)},a)})})};return{element:function(){return c},destroy:function(){void 0!==g&&s(g)},clear:function(){void 0!==g&&s(g);e.on()},show:function(a,c,e){e=void 0!==e?e:b.identity;
c=void 0!==c?d.some(c):d.none();a=f.fromText(a);z(a,c,e)},spin:function(c,e){var g=void 0!==e?e:b.identity,l=f.fromTag("span");a.add(l,q.resolve("write-content-spinner"));h.append(l,f.fromText(c));z(l,d.none(),g)}}}})})(f,h,m);(function(e,f,h){e("l1","b4 28 29 40 j 1g 2e 7p ok l0 ol om on".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t){return function(){var e=c.create({ok:d([]),cancel:d([])}),g=t();a.add(g.element(),q.resolve("write-content-information"));var f=r("Add a snippet by wrapping the name in curly-braces, like: {{name}}."),
k=s("Insert","ok-button",e.trigger.ok),l=s("Close","cancel-button",e.trigger.cancel),l=m({main:[k,l]},[k]);h.prepend(l.element(),[g.element(),f.element()]);return{element:l.element,destroy:l.destroy,enable:l.enable,disable:l.disable,inform:function(a,b){g.show(a,b,function(){f.show()});f.hide()},clearMessages:function(){g.clear();f.show()},setButtonText:function(a){k.content(b(a))},events:e.registry}}})})(f,h,m);(function(e,f,h){e("oo",[],function(){var b=function(b){return{fold:b}};return{none:function(){return b(function(b,
c,a){return b()})},unsaved:function(){return b(function(b,c,a){return c()})},saved:function(d,c,a){return b(function(b,e,f){return f(d,c,a)})}}})})(f,h,m);(function(e,f,h){e("op","28 29 40 1q j 1g 2e 1s l0".split(" "),function(b,d,c,a,e,f,h,l,m){return function(){var q=e.fromTag("div");c.add(q,m.resolve("read-content"));var s=e.fromTag("div"),r=e.fromTag("span");c.add(r,m.resolve("read-content-title-text"));c.add(s,m.resolve("read-content-title"));f.append(s,r);var t=e.fromTag("span");c.add(t,m.resolve("edit-content"));
var w=a.bind(t,"click",function(a){y.trigger.edit()});f.append(s,t);f.append(t,e.fromText("Edit"));var u=e.fromTag("div");c.add(u,m.resolve("read-content-body"));h.append(q,[s,u]);var y=d.create({edit:b([])});return{element:function(){return q},destroy:function(){w.unbind();l.remove(q)},set:function(a){r.dom().innerHTML=a.title;u.dom().innerHTML=a.body},get:function(){return{title:r.dom().innerHTML,body:u.dom().innerHTML}},events:y.registry}}})})(f,h,m);(function(e,f,h){e("qi","8 28 29 40 j 2e l0 ol".split(" "),
function(b,d,c,a,e,f,h,l){return function(){var m=e.fromTag("div");a.add(m,h.resolve("write-content-controls"));var q=e.fromTag("span");a.add(q,h.resolve("write-content-controls-status"));h.resolve("write-content-controls-locked");var s=h.resolve("write-content-controls-action-disabled"),r=function(b,c){var d=l(b,"write-content-controls-action",c);a.add(d.element(),h.resolve("write-content-control-"+b));return d},t=r("back",function(){y.trigger.back()}),w=r("save",function(){y.trigger.save()}),u=
r("delete",function(){y.trigger.remove()});f.append(m,[t.element(),w.element(),u.element(),q]);var y=c.create({back:d([]),save:d([]),remove:d([])});return{element:function(){return m},destroy:function(){b.each([t,w,u],function(a){a.destroy()})},enable:function(){b.map([t,w,u],function(b){b.enable();a.remove(b.element(),s)})},disable:function(){b.map([t,w,u],function(b){b.disable();a.add(b.element(),s)})},events:y.registry}}})})(f,h,m);(function(e,f,h){e("oq","28 29 1f 40 4h 1q j 1m 1g 2e 1s qi l0 on".split(" "),
function(b,d,c,a,e,f,h,l,m,q,s,r,t,w){return function(){var e=h.fromTag("div");a.add(e,t.resolve("write-content"));var g=h.fromTag("input");a.add(g,t.resolve("write-content-title"));c.set(g,"placeholder","Snippet Title");m.append(g,h.fromText("confirmation"));var z=w();a.add(z.element(),t.resolve("write-content-warning"));var x=r();x.events.back.bind(function(){B.trigger.back()});x.events.save.bind(function(){B.trigger.save()});x.events.remove.bind(function(){B.trigger.remove()});var A=h.fromTag("div");
a.add(A,t.resolve("write-content-body"));c.set(A,"contenteditable","true");q.append(e,[g,z.element(),x.element(),A]);var B=d.create({blur:b([]),back:b([]),save:b([]),remove:b([])});f.bind(e,"blur",function(){B.trigger.blur()});return{element:function(){return e},destroy:function(){x.destroy();s.remove(e)},focus:function(){A.dom().focus()},get:function(){return{title:g.dom().value,body:l.get(A)}},set:function(a){g.dom().value=a.title;A.dom().innerHTML=a.body},lock:function(){c.set(g,"disabled","disabled");
c.set(A,"contenteditable","false");x.disable();z.clear()},unlock:function(){c.set(g,"disabled",!1);c.set(A,"contenteditable","true");x.enable()},warn:function(a){z.show(a,5E3)},clearWarnings:function(){z.clear()},events:B.registry}}})})(f,h,m);(function(e,f,h){e("l2","g 28 29 40 j 2e 1s 7p oo op oq l0".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r){return function(){var t=c.create({create:d(["code","snippet"]),update:d(["uuid","code","snippet"]),remove:d(["uuid","code"]),back:d([]),edit:d([]),discard:d([])}),
w=e.fromTag("div");a.add(w,r.resolve("content"));var u=l.toggler(w,"block");u.off();var y=q(),z=l.displayToggler(y.element(),"block");y.events.edit.bind(function(){B();t.trigger.edit()});var x=s(),A=l.displayToggler(x.element(),"block");A.on();x.events.back.bind(function(){A.on();z.off();t.trigger.back()});x.events.save.bind(function(){C()});x.events.remove.bind(function(a){var c=y.get();E.fold(b.noop,function(){t.trigger.discard()},function(a){t.trigger.remove(a,c.title)})});f.append(w,[y.element(),
x.element()]);var B=function(){z.on();var a=y.get();x.set(a);A.off();x.focus();x.clearWarnings();x.unlock()},E=m.none(),C=function(){var a=x.get();E.fold(function(){},function(){t.trigger.create(a.title,a.body)},function(b,c,d){a.title===c&&a.body===d||t.trigger.update(b,a.title,a.body)});y.set(a)};return{element:function(){return w},destroy:function(){y.destroy();h.remove(w)},startEdit:B,startRead:function(){z.off();A.on()},show:function(){u.off()},hide:function(){u.on()},isDirty:function(){var a=
x.get();return E.fold(function(){return!1},function(){return""!==a.title||""!==a.body},function(b,c,d){return a.title!==c||a.body!==d})},load:function(a){E=a;a=function(){return{title:"",body:""}};a=E.fold(a,a,function(a,b,c){return{title:b,body:c}});y.set(a);x.set(a)},read:function(){return x.get()},save:C,lock:x.lock,unlock:x.unlock,warn:x.warn,clearWarnings:x.clearWarnings,events:t.registry}}})})(f,h,m);(function(e,f,h){e("or","jl 81 28 29 40 1q j 1g 1s".split(" "),function(b,d,c,a,e,f,h,l,m){return function(q){var s=
h.fromTag("li");e.add(s,d.resolve("list-item"));var r=h.fromTag("span");l.append(r,h.fromText(q.code()));l.append(s,r);r=h.fromTag("span");e.add(r,d.resolve("list-item-preview"));l.append(s,r);var t=a.create({accept:c(["data"]),preview:c(["data"]),click:c([])}),w=f.bind(s,"click",function(){t.trigger.accept(q);t.trigger.click()}),u=f.bind(r,"click",function(a){t.trigger.preview(q);t.trigger.click();b.stop(a.raw())});return{element:function(){return s},destroy:function(){w.unbind();u.unbind();m.remove(s)},
data:function(){return q},select:function(){e.add(s,d.resolve("list-item-selected"))},deselect:function(){e.remove(s,d.resolve("list-item-selected"))},selected:function(){return e.has(s,d.resolve("list-item-selected"))},events:t.registry}}})})(f,h,m);(function(e,f,h){e("qj",[],function(){return{get:function(b){return b.data().value()}}})})(f,h,m);(function(e,f,h){e("r9",["qj","g"],function(b,d){return{preserve:function(c,a){var e=c.selected().map(b.get);a(e);var f=c.size();1===f?c.highlight(0):e.fold(function(){1<=
f&&c.highlight(0)},function(a){c.highlight(a);c.selected().fold(function(){1<=f&&c.highlight(0)},d.noop)})}}})})(f,h,m);(function(e,f,h){e("rv",["c6","qj"],function(b,d){return b(d.get)})})(f,h,m);(function(e,f,h){e("rw","3 9k 7j rv 28 29 j".split(" "),function(b,d,c,a,e,f,h){return function(l,m,q){q=b.merge({scopes:[h.fromDom(document)]},q);var s=f.create({navigate:e(["data"])}),r=function(a){m.select(a);s.trigger.navigate(a.data())},t=function(){var a=l.get()[0];r(a)},w=function(b,c){var d=l.get();
a.indexOf(d,b).map(function(a){a=c(a,d);r(d[a])})},u=function(a){w(a,function(a,b){return 0===a?b.length-1:a-1})},y=function(a){w(a,function(a,b){return a===b.length-1?0:a+1})},z=function(){var a=l.get();r(a[a.length-1])},x=d({scopes:q.scopes});x.swallowKeys([c.UP(),c.DOWN()]);x.events.up.bind(function(){0!==l.get().length&&m.selected().fold(z,u)});x.events.down.bind(function(){0!==l.get().length&&m.selected().fold(t,y)});return{on:x.on,off:x.off,destroy:function(){x.destroy()},events:s.registry}}})})(f,
h,m);(function(e,f,h){e("rx",["8","t"],function(b,d){return function(c){var a=function(){b.each(c.get(),function(a){a.deselect()})};return{deselect:a,select:function(b){c.itemAt(b).each(function(b){a();b.select()})},selected:function(){return d.from(b.find(c.get(),function(a){return a.selected()}))}}}})})(f,h,m);(function(e,f,h){e("l5",["8","t"],function(b,d){return function(c){var a=function(a){return b.map(a,function(a){return a.uuid()})};return{match:function(d){var e=b.filter(c,function(a){return-1<
a.code().search(d)});return a(e)},get:function(a){var e=b.find(c,function(b){return b.uuid()===a});return d.from(e)},all:function(){return a(c)}}}})})(f,h,m);(function(e,f,h){e("gj",["3","j","l5","global!document"],function(b,d,c,a){return{scopes:function(c){return b.merge({scopes:[d.fromDom(a)]},c)},snippets:function(a){return b.merge({snippets:c([])},a)}}})})(f,h,m);(function(e,f,h){e("ra","8 c5 f1 rv 81 40 j 1g 1s rw rx gj".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r){return function(t){t=r.scopes(t);
var w=h.fromTag("ul");f.add(w,e.resolve("list"));c.disable(w);var u=d(a),y=s(u),z=q(u,y,t),x=function(a){a=u.remove(a);m.detach(a.component().element())},A=function(){var a=u.get();b.each(a,x)};return{element:function(){return w},connect:function(a){l.append(a,w)},add:function(a,b){var c=u.add(a,b);a.events.click.bind(function(b){y.select(a)});l.appendAt(w,a.element(),c.index())},remove:x,removeAll:A,itemAt:u.itemAt,deselect:y.deselect,keysOn:z.on,keysOff:z.off,destroy:function(){z.destroy();A();
m.remove(w)},select:function(a){y.select(a);y.selected().each(events.trigger.select)},highlight:function(a){y.select(a)},selected:y.selected,size:function(){return u.get().length}}}})})(f,h,m);(function(e,f,h){e("qk",["8","28","29","r9","ra"],function(b,d,c,a,e){return function(){var f=c.create({noSelection:d([]),selection:d(["data"])}),h=e();return{element:h.element,load:function(c){a.preserve(h,function(){h.removeAll();b.each(c,function(a){h.add(a)})});h.selected().fold(function(){f.trigger.noSelection()},
function(a){f.trigger.selection(a.data())})},destroy:function(){h.destroy()},blur:function(){h.keysOff()},select:h.select,selected:h.selected,highlight:h.highlight,keysOn:h.keysOn,keysOff:h.keysOff,events:f.registry}}})})(f,h,m);(function(e,f,h){e("ql",["8","g"],function(b,d){return{values:function(c,a){var e=a.replace(/[-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),f=function(){var a=0<e.length?c.match(e):c.all();return 0===a.length?[]:a}();return b.foldr(f,function(a,b){return c.get(b).fold(d.constant(a),
function(b){return[b].concat(a)})},[])}}})})(f,h,m);(function(e,f,h){e("qm","9k 7j 28 29 1f 40 1q j 1s l0".split(" "),function(b,d,c,a,e,f,h,l,m,q){return function(){var s=l.fromTag("input");e.set(s,"placeholder","Search");f.add(s,q.resolve("sidebar-search"));var r=a.create({search:c(["value"]),go:c([]),focus:c([]),blur:c([])});h.bind(s,"keyup",function(){r.trigger.search(s.dom().value)});h.bind(s,"focus",function(){t.on();r.trigger.focus()});h.bind(s,"blur",function(){t.off();r.trigger.blur()});
var t=b({scopes:[s]});t.swallowKeys([d.ENTER()]);t.on();t.events.enter.bind(function(){r.trigger.go()});return{element:function(){return s},destroy:function(){t.destroy();m.remove(s)},setText:function(a){s.dom().value=a},getText:function(){return s.dom().value},focus:function(){s.dom().focus()},keysOff:t.off,keysOn:t.on,events:r.registry}}})})(f,h,m);(function(e,f,h){e("os","8 qj 28 29 40 j 1g 2e 1s qk ql qm l0".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t){return function(w,u){var y=f.fromTag("div");
e.add(y,t.resolve("search-container"));var z=q(w),x=r(),A=a.create({close:c([]),focus:c([]),blur:c([]),noResults:c([]),selection:c(["data"]),select:c(["data"])}),B=f.fromTag("div");e.add(B,t.resolve("list-wrapper"));h.append(B,z.element());var E=[x.element(),z.element(),y],C=t.resolve("search-not-found");z.events.noSelection.bind(function(){b.each(E,function(a){e.add(a,C)});A.trigger.noResults()});z.events.selection.bind(function(a){b.each(E,function(a){e.remove(a,C)});A.trigger.selection(a.data())});
var D=function(a){a=s.values(w,a);a=u(a);z.load(a)};x.events.search.bind(function(a){a=a.value();D(a)});x.events.focus.bind(function(){A.trigger.focus();z.keysOn()});x.events.blur.bind(function(){z.keysOff();A.trigger.blur()});x.events.go.bind(function(){z.selected().bind(function(a){a=d.get(a);return w.get(a)}).each(A.trigger.select)});l.append(y,[x.element(),B]);return{element:function(){return y},destroy:function(){z.destroy();x.destroy();m.remove(y)},scan:function(a){x.setText(a);D(a)},rescan:function(){var a=
x.getText();D(a)},keysOn:function(){z.keysOn();x.keysOn()},keysOff:function(){z.keysOff();x.keysOff()},selected:z.selected,highlight:function(a){z.highlight(a);x.focus()},focus:x.focus,events:A.registry}}})})(f,h,m);(function(e,f,h){e("l3","8 b3 b4 28 29 40 j 1g 2e or os l0".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r){return function(t){var w=e.create({select:a(["data"]),preview:a(["data"]),close:a([]),focus:a([]),noResults:a([]),add:a([])}),u=s(t,function(a){return b.map(a,function(a){var b=q(a);
b.events.preview.bind(function(a){u.highlight(b);w.trigger.preview(a.data());u.focus();w.trigger.focus()});b.events.accept.bind(function(a){u.highlight(b);w.trigger.select(a.data());w.trigger.focus()});return b})});u.events.noResults.bind(function(){w.trigger.noResults()});u.events.selection.bind(function(a){w.trigger.preview(a.data())});u.events.select.bind(function(a){w.trigger.select(a.data())});t=h.fromTag("div");f.add(t,r.resolve("search-controls"));var y=d();y.content(c("New snippet"));y.events.click.bind(function(){w.trigger.add()});
m.append(u.element(),[t]);l.append(t,y.element());return{element:u.element,destroy:u.destroy,scan:u.scan,rescan:u.rescan,keysOn:u.keysOn,keysOff:u.keysOff,highlight:u.highlight,focus:u.focus,events:w.registry}}})})(f,h,m);(function(e,f,h){e("l4","9k 7j 28 29 oo gj".split(" "),function(b,d,c,a,e,f){return function(h,l,m,q,s){s=f.scopes(s);var r=a.create({ok:c(["code","snippet"]),cancel:c([]),create:c(["code","snippet","success","failure"]),update:c(["uuid","code","snippet","success","failure"]),remove:c(["uuid",
"code","success","failure"]),close:c([]),escaped:c([])});h.events.preview.bind(function(a){a=a.data();a=e.saved(a.uuid(),a.code(),a.snippet());l.load(a);m.enable();l.show();l.startRead()});h.events.add.bind(function(){var a=e.unsaved();l.load(a);m.enable();l.show();l.startEdit();m.setButtonText("Save and Insert");q.collapse()});h.events.select.bind(function(a){a=a.data();r.trigger.ok(a.code(),a.snippet())});h.events.noResults.bind(function(){l.load(e.none());l.startRead();l.hide();m.disable()});var t=
function(){h.rescan();q.expand();m.setButtonText("Insert")},w=function(a,b,c){l.clearWarnings();l.load(e.saved(a,c.code(),c.snippet()));m.inform(b,3E3)},u=function(a,b,c){m.inform(b,3E3);t()},y=function(a){return function(a){m.clearMessages();l.warn(a)}};l.events.create.bind(function(a){r.trigger.create(a.code(),a.snippet(),w,y(a))});l.events.update.bind(function(a){r.trigger.update(a.uuid(),a.code(),a.snippet(),w,y(a))});l.events.remove.bind(function(a){r.trigger.remove(a.uuid(),a.code(),u,y(a))});
l.events.discard.bind(function(){t()});l.events.back.bind(function(){t()});l.events.edit.bind(function(){q.collapse();m.setButtonText("Save and Insert")});m.events.ok.bind(function(){var a=l.read();r.trigger.ok(a.title,a.body);l.save()});m.events.cancel.bind(function(){r.trigger.cancel()});var z=b({scopes:s.scopes});z.swallowKeys([d.ESCAPE()]);z.events.escape.bind(function(){r.trigger.close();r.trigger.escaped()});return{events:r.registry,keysOn:z.on,keysOff:z.off,destroy:function(){z.destroy()}}}})})(f,
h,m);(function(e,f,h){e("gg","40 l1 l2 l3 l4 l0".split(" "),function(b,d,c,a,e,f){return function(h,l,m){var q=a(h),s=c(),r=d();b.add(r.element(),f.resolve("controls"));var t=e(q,s,r,l,m),w=function(a){q.scan(void 0!==a?a:"")};return{init:function(a){t.keysOn();w(a)},focus:function(){q.focus()},scan:w,view:function(){return[s.element()]},controls:function(){return r.element()},inform:r.inform,lock:s.lock,unlock:s.unlock,reset:function(){l.expand();r.setButtonText("Insert")},sidebar:function(){return[q.element()]},
destroy:function(){t.destroy();q.destroy();s.destroy();r.destroy()},events:t.events}}})})(f,h,m);(function(e,f,h){e("gh",["c8","1p","1h","7t","l0"],function(b,d,c,a,e){return function(f,h,l){var m=e.resolve(h),q=e.resolve(l),s=0,r=function(b){var d=f();c.descendant(d,"."+m).each(function(e){c.descendant(d,"."+q).each(function(c){var d=a.get(e);b(e,c,d)})})};return{collapse:function(){r(function(c,e,g){0!==g&&(s=g,b.animate(c,{opacity:0},"fast",function(){b.animate(c,{width:0},"fast",function(){d.set(c,
"display","none")});b.animate(e,{width:a.get(e)+s},"fast")}))})},expand:function(){r(function(c,e,g){0<g||(d.set(c,"display","block"),b.animate(c,{width:s},"fast",function(){b.animate(c,{opacity:1},"fast")}),b.animate(e,{width:a.get(e)-s},"fast"))})}}}})})(f,h,m);(function(e,f,h){e("ba","29 3n gf gg gh gi gj".split(" "),function(b,d,c,a,e,f,h){return function(l){var m=h.snippets(l).snippets,q=e(function(){return s.element()},"sidebar","content");l=a(m,q,{scopes:l.scopes});var s=c(l),m=b.create({ok:d(["code",
"snippet"],s.events.ok),cancel:d([],s.events.cancel),create:d(["code","snippet","success","failure"],s.events.create),update:d(["uuid","code","snippet","success","failure"],s.events.update),remove:d(["uuid","code","success","failure"],s.events.remove),close:d([],s.events.close),escaped:d([],s.events.escaped)});return{element:s.element,controls:s.controls,destroy:s.destroy,connect:function(a){a.setContent(s.element());a.setControls(s.controls());f.components(a.element(),["sidebar-search","cancel-button",
"ok-button"])},lock:l.lock,unlock:l.unlock,scan:l.scan,reset:l.reset,focus:s.focus,inform:l.inform,events:m.registry}}})})(f,h,m);(function(e,f,h){e("6z","9u 28 29 3n 7p ba".split(" "),function(b,d,c,a,e,f){return function(h,l){var m=b(l),q=function(){m.hide();t.on()},s=f({snippets:h,scopes:[l]}),r=c.create({ok:d(["snippet"]),update:a(["uuid","code","snippet","success","failure"],s.events.update),create:a(["code","snippet","success","failure"],s.events.create),remove:a(["uuid","code","success","failure"],
s.events.remove),close:d([]),escaped:a([],s.events.escaped)}),t=e.displayToggler(s.element(),"block");m.events.close.bind(function(){r.trigger.close()});s.events.close.bind(function(){r.trigger.close()});s.events.cancel.bind(function(){r.trigger.close()});s.events.ok.bind(function(a){r.trigger.ok(a.snippet());q()});m.setTitle("Insert Snippet");s.connect(m);return{element:m.element,open:function(a){t.off();m.show();s.focus();s.scan(a);s.reset()},close:q,destroy:function(){m.destroy();s.destroy()},
lock:s.lock,unlock:s.unlock,scan:s.scan,inform:s.inform,controls:s.controls,events:r.registry}}})})(f,h,m);(function(e,f,h){e("3i","6t g t 6u 49 6v 6w 6x 6y 6z 4l 28 29 2h".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w){return function(h,p,z){var x=h.content();p=h.shortcuts();var A=h.undo(),B=h.smartview(),E=h.locker(),C=m(f),D=t.create({analytics:r(["message"])});E.events.login.bind(function(){C.get(d.identity)});z=function(){E.authorised("You must be logged in to use the Snippet feature.",function(){var a=
q(C.source(),B.uiContainer()),b=l(C,a);b.events.close.bind(function(){x.focus();b.destroy()});b.events.insert.bind(function(a){D.trigger.analytics("insertSnippet");F(a.snippet());b.destroy()});a.events.escaped.bind(function(){h.ui().refocus()});b.open()})};p.events.snippet.bind(z);var F=function(d){x.doc().each(function(e){x.focus();x.getSelection().each(function(g){A.save();g=w.fromHtml(d,e.dom());a.insertAtCursor(x,g);c.from(g[g.length-1]).each(function(a){x.setRelativeSelection(b.after(a),b.after(a))});
A.save()})})};return{ui:s.ui({"snippet.general":{value:"snippet",icon:!0,updateGeneral:d.identity,action:z,textkey:e.key("insert.snippet"),shortcut:!0,hasPopup:!1}}),events:D.registry,getSnippets:C.current,destroy:d.noop}}})})(f,h,m);(function(e,f,h){e("gk",["2a"],function(b){return b.immutable("suggestions","ignore")})})(f,h,m);(function(e,f,h){e("bb",["gk","r","t"],function(b,d,c){return function(a){var e={},f=function(a,d){void 0===e[a]&&(e[a]=b(c.some(d),!1))},h=function(a){var d=e[a],d=void 0!==
d?d.suggestions():c.none(),d=b(d,!0);e[a]=d};d.each(void 0!==a?a:{},function(a,b){!0===a.ignore&&h(b);void 0!==a.suggestions&&f(b,a.suggestions)});return{add:f,get:function(a){return c.from(e[a])},ignore:h,suggestions:function(a){return c.from(e[a]).bind(function(a){return a.suggestions()})},state:function(){var a={};d.each(e,function(b,c){a[c]={ignore:b.ignore(),suggestions:b.suggestions().getOr([])}});return a},destroy:function(){e={}}}}})})(f,h,m);(function(e,f,h){e("70",["bb"],function(b){return function(d){return b(d)}})})(f,
h,m);(function(e,f,h){e("71",["8n"],function(b){return{configure:function(d){d.add(d.internal(),"ephox-cram-annotation-wrap",b.unwrap);d.add(d.output(),"ephox-cram-annotation-wrap",b.unwrap)}}})})(f,h,m);(function(e,f,h){e("72",["g","4h","bc"],function(b,d,c){return function(){var a=[];return{exclude:function(b){return d.hasAny(b,a)||c.ancestor(b,function(b){return d.hasAny(b,a)})},add:function(b){a.push(b)},destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("ow","8 t ds 14 ag aa 1r".split(" "),function(b,
d,c,a,e,f,h){var l=function(c){return b.bind(c,function(b){return e.descendants(b,a.isText)})};return{textnodes:l,text:function(c){c=l(c);return b.map(c,function(b){return a.isText(b)?f.get(b):""}).join("")},parsed:function(a){return d.from(a[0]).bind(function(a){a=c.cluster(a).words();return 1===a.length?d.some(a[0]).map(function(a){return a.word()}):d.none()})},children:function(a){return b.bind(a,h.children)}}})})(f,h,m);(function(e,f,h){e("lc","8 ow t 2e 1s aa".split(" "),function(b,d,c,a,e,f){return{clobber:function(h,
l){var m=d.children(h),q=d.textnodes(h);return c.from(h[0]).bind(function(d){a.before(d,m);d=c.from(q[0]);d.each(function(a){f.set(a,l)});b.each(q.slice(1),function(a){f.set(a,"")});b.each(h,e.remove);return d})}}})})(f,h,m);(function(e,f,h){e("la",["4c"],function(b){return{resolve:b.create("data.ephox.cram").resolve}})})(f,h,m);(function(e,f,h){e("lb",["4c"],function(b){return{resolve:b.create("ephox-cram").resolve}})})(f,h,m);(function(e,f,h){e("gp","la lb g t 1f 40 1t 1h 1r".split(" "),function(b,
d,c,a,e,f,h,l,m){var q=b.resolve("highlight-id"),s=d.resolve("highlight-wrap"),r=function(a,b){return l.closest(a,"."+b)},t=function(b){return a.from(e.get(b,q))};return{marker:r,idMarker:function(a){return r(a,s)},id:t,set:function(a,b){e.set(a,q,b);f.add(a,b)},all:function(a){return t(a).fold(c.constant([a]),function(b){var c=m.owner(a);return h.descendants(c,"."+b)})}}})})(f,h,m);(function(e,f,h){e("ld","gp la lb g t ac 1f 40 j".split(" "),function(b,d,c,a,e,f,h,l,m){var q=d.resolve("annotation"),
s=c.resolve("annotation-wrap");return{nu:function(){var a=m.fromTag("span");l.add(a,s);return f.nu(a)},set:function(a,b){h.set(a,q,b)},label:a.constant(s),detail:function(c){return b.id(c).bind(function(b){return e.from(h.get(c,q)).map(function(c){return{id:a.constant(b),word:a.constant(c)}})})}}})})(f,h,m);(function(e,f,h){e("le",[],function(){var b=function(b){return{fold:b}};return{created:function(d){return b(function(b,a){return a(d)})},preserved:function(d){return b(function(b,a){return b(d)})}}})})(f,
h,m);(function(e,f,h){e("lf",["8","gp","lb","40"],function(b,d,c,a){var e=c.resolve("wrap-disabled");return{enable:function(c){c=d.all(c);b.each(c,function(b){a.remove(b,e)})},disable:function(c){c=d.all(c);b.each(c,function(b){a.add(b,e)})}}})})(f,h,m);(function(e,f,h){e("ox",["2a"],function(b){return b.immutable("id","match","current")})})(f,h,m);(function(e,f,h){e("lg","8 ox gp 1n g t oy".split(" "),function(b,d,c,a,e,f,h){var l=function(h,l){var m=b.bind(h.elements(),function(a){return c.marker(a,
l).fold(e.constant([]),function(a){return[a]})}),p=a.generate("ephox-cram");return d(p,h,f.from(m[0]))};return{matches:function(a,b){return h.safeWords(a,b)},annotates:function(a,c){return b.map(a,function(a){return l(a,c)})}}})})(f,h,m);(function(e,f,h){e("oz",["2a"],function(b){return b.immutable("id","elements","word")})})(f,h,m);(function(e,f,h){e("p0",[],function(){var b=function(b){return{fold:b}};return{success:function(d){return b(function(b,a){a(d)})},fail:function(d){return b(function(b,
a){b(d)})}}})})(f,h,m);(function(e,f,h){e("lh","8 r oz p0 gp ow 8e".split(" "),function(b,d,c,a,e,f,h){var l=function(a,d){var f={};b.each(a,function(a){e.marker(a,d.label()).filter(h.inBody).each(function(a){d.detail(a).each(function(b){var d=b.id();b=b.word();var h=e.all(a);0<h.length&&(f[d]=c(d,h,b))})})});return f},m=function(c){c=d.values(c);return b.map(c,function(b){var c=b.elements(),d=b.word(),e=f.text(c),c=f.parsed(c);return e===d&&c.is(d)?a.success(b):a.fail(b)})};return{verify:function(a,
c,d,e){a=l(a,c);a=m(a);b.each(a,function(a){var c=function(a){return function(c){b.each(c.elements(),a)}};a.fold(c(e),c(d))})}}})})(f,h,m);(function(e,f,h){e("gq","8 lc ld le gp lf lg lh g ac 1s".split(" "),function(b,d,c,a,e,f,h,l,m,q,s){var r=function(a){return e.marker(a,c.label())};return{highlight:function(d,m,n){m=m.elements();l.verify(m,c,f.enable,s.unwrap);n=h.matches(m,n);n=h.annotates(n,c.label());return b.bind(n,function(f){return f.current().fold(function(){var h=f.match(),k=h.word();
if(d.ignore(h))return[];h=q.wrapper(h.elements(),c.nu)||[];b.each(h,function(a){e.set(a,f.id());c.set(a,k)});return[a.created(h)]},function(b){return[a.preserved(b)]})})},marker:r,substitute:function(a,b){var c=r(a).fold(m.constant([]),e.all);return d.clobber(c,b)},detail:function(a){return c.detail(a)}}})})(f,h,m);(function(e,f,h){e("ot",["8","gq","g"],function(b,d,c){return{highlight:function(a,e,f,h){var l={operation:a,internal:a,ignore:c.constant(!1)},m=b.map(f,function(a){return a.word()}),q=
b.filter(m,function(a,c){return b.indexOf(m,a)===c});l.operation(function(){d.highlight(l,e,q)})}}})})(f,h,m);(function(e,f,h){e("ou",["8","px"],function(b,d){return{sanction:function(c,a){var e=b.filter(c,function(b){return!a(b)});return d.constant(e)}}})})(f,h,m);(function(e,f,h){e("l6",["ot","ou","8","g"],function(b,d,c,a){return function(e,f){var h=function(b,d){return c.filter(b,function(b){return d.get(b.word()).fold(a.constant(!1),function(a){return a.suggestions().isSome()})})};return{scan:function(a,
c,m,s){m=h(m,e);0<m.length&&(c=d.sanction(c.elements(),f),b.highlight(a,c,m,e))}}}})})(f,h,m);(function(e,f,h){e("ov",["8"],function(b){return{poll:function(d,c,a,e){c.correction({words:b.map(d,function(a){return a.word()}),language:"en"},function(b){a(b.spell)},function(a){e(a)})}}})})(f,h,m);(function(e,f,h){e("l7",["ot","ou","ov","8","r"],function(b,d,c,a,e){return function(f,h,l){var m=function(b){var c=e.keys(b);a.each(c,function(a){f.add(a,b[a])});return c};return{scan:function(e,g,r,t){c.poll(r,
h,function(c){var h=m(c);c=a.filter(r,function(b){return a.contains(h,b.word())});var p=d.sanction(g.elements(),l);b.highlight(e,p,c,f);t()},function(a){console.error("Spelling server error: ",a);t()})}}}})})(f,h,m);(function(e,f,h){e("gl",["l6","l7","g"],function(b,d,c){return function(a,e,f){var h=b(a,f);a=d(a,e,f);return{client:c.constant(h),server:c.constant(a),destroy:c.noop}}})})(f,h,m);(function(e,f,h){e("bd",["gl"],function(b){return function(d,c,a){return b(c,d,a)}})})(f,h,m);(function(e,
f,h){e("be",["t","global!console"],function(b,d){return function(c){var a={};c.autocorrect(function(b){a=b.corrections},function(a){d.log("Error loading autocorrect list")});return{lookup:function(c){return void 0!==a[c]?b.some(a[c]):b.none()}}}})})(f,h,m);(function(e,f,h){e("3z",["1d"],function(b){return{image:function(d){return b.ensureTrailing(d,"/")+"1/"},spelling:function(d){return b.ensureTrailing(d,"/")+"1/"}}})})(f,h,m);(function(e,f,h){e("bf",["3y","3z","28","29"],function(b,d,c,a){return function(e,
f){var h=d.spelling(f),l=!1,m=a.create({failed:c(["resource"])}),q=function(a){return function(){l=!0;m.trigger.failed(f);a.apply(null,arguments)}};return{correction:function(a,c,d){!1===l&&b.json().ajaxData(h+"correction",a,"POST",c,q(d),e.headers())},autocorrect:function(a,c){!1===l&&b.json().ajax(h+"autocorrect","GET",a,q(c),e.headers())},events:m.registry}}})})(f,h,m);(function(e,f,h){e("73","bd be bf 28 29 3n af 96 8n 1f".split(" "),function(b,d,c,a,e,f,h,l,m,q){return function(a,r,t,w,u,y,z){w=
c(a,y);a=e.create({failed:f(["resource"],w.events.failed)});var x=b(w,u,z);u=d(w);var A=function(a){t.body().each(function(b){h.filterDom(b,[l("."+a,m.unwrap)])})},B=function(a){t.body().each(function(b){q.set(b,"spellcheck",a)})};r.events.spelling.bind(function(a){a=a.value();!1===a&&A("ephox-cram-annotation-wrap");B(!a)});return{run:function(a,b,c){r.spelling().get()&&b.client(a,x.client(),c);r.spelling().get()&&b.server(a,x.server(),c,function(){return!r.spelling().get()})},refresh:function(){var a=
r.spelling().get();!1===a&&A("ephox-cram-annotation-wrap");B(!a)},lookup:u.lookup,destroy:function(){x.destroy()},events:a.registry}}})})(f,h,m);(function(e,f,h){e("l8",["4c"],function(b){return{resolve:b.create("ephox-bee").resolve}})})(f,h,m);(function(e,f,h){e("gm",["l8","8","40"],function(b,d,c){return function(){var a=b.resolve("highlight-current"),e=[],f=function(){d.each(e,function(b){c.remove(b,a)})};return{set:function(b){f();e=b.slice(0);d.each(e,function(b){c.add(b,a)})},clear:f,destroy:function(){f();
e=[]}}}})})(f,h,m);(function(e,f,h){e("l9",["2a"],function(b){return b.immutable("element","f")})})(f,h,m);(function(e,f,h){e("gn",["l9","8","t","q"],function(b,d,c,a){return function(){var e=[],f=!1,h=function(){f=!0;c.from(e.shift()).fold(function(){f=!1},function(a){a.f()(a.element(),h)})};return{enqueue:function(c,m){void 0===d.find(e,function(b){return a.eq(b.element(),c)})&&e.push(b(c,m));f||h()},destroy:function(){e=[]}}}})})(f,h,m);(function(e,f,h){e("go",["ds"],function(b){return{scan:function(d,
c,a,e){a=b.cluster(a);c.scan(d,a.zone(),a.words(),e)}}})})(f,h,m);(function(e,f,h){e("bg",["gm","gn","go","gp","g"],function(b,d,c,a,e){return function(){var f=d(),h=b();return{client:function(a,b,d){c.scan(a,b,d,e.identity)},server:function(a,b,d,e){f.enqueue(d,function(d,g){void 0!==e&&e()?g():c.scan(a,b,d,g)})},fade:function(b){a.idMarker(b).map(a.all).fold(h.clear,h.set)},destroy:function(){h.destroy();f.destroy()}}}})})(f,h,m);(function(e,f,h){e("gs",["g","3u"],function(b,d){var c=function(a){a=
"data-"+d.resolve(a);return b.constant(a)};return{value:c("spelling-value"),type:c("spelling-type"),overflow:c("spelling-overflow"),overflowMenu:c("spelling-overflow-menu"),spelling:c("spelling-suggestion")}})})(f,h,m);(function(e,f,h){e("gr",["gs","49","2a"],function(b,d,c){var a=c.immutable("primary","secondary","submenus"),e=c.immutable("value","text","attrs"),f=c.immutable("value","items");return{generate:function(c,h){var m;if(c.length>h){m=c.slice(0,h);var q=e(b.overflow(),d.translate("spelling.more"),
{}),s=c.slice(h),r={};r[b.overflow()]=b.overflowMenu();s=f(b.overflowMenu(),s);m=a(m.concat([q]),[s],r)}else m=a(c,[],{});return m}}})})(f,h,m);(function(e,f,h){e("gt","gq t gs 28 29 1f".split(" "),function(b,d,c,a,e,f){return function(){var h=e.create({incorrect:a(["substitution"])}),l=d.none(),m={};m[c.spelling()]=function(a){l.each(function(d){d=b.substitute(d,f.get(a,c.value()));h.trigger.incorrect(d)})};return{assign:function(a){l=a},run:function(a){var b=f.get(a,c.type()),b=m[b];void 0!==b&&
b(a)},events:h.registry}}})})(f,h,m);(function(e,f,h){e("bh","8 gq g 4x gr gs gt 2a".split(" "),function(b,d,c,a,e,f,h,l){var m=l.immutable("value","text","attrs");return function(l,s,r){var t=h();t.events.incorrect.bind(function(b){s.save();l.focus();b.substitution().each(function(b){a.selectEnd(l,b)})});var w=c.curry(function(a,c,d,e){return a.marker(e).bind(a.detail).bind(function(a){return d(a).map(function(a){return b.map(a,function(a){var b={};b[f.type()]=c;b[f.value()]=a;return m(a,a,b)})})})},
d,f.spelling(),function(a){return r.suggestions(a.word())});return{assign:t.assign,handle:function(a){t.run(a)},situation:function(a){a=w(a).getOr([]);return e.generate(a,4)},destroy:c.noop}}})})(f,h,m);(function(e,f,h){e("bi",["g","6e","28","29"],function(b,d,c,a){return function(e,f){var h=a.create({lookup:c(["element"]),disable:c(["element"])}),l=function(a){e.getSelection().each(a)},m=function(){l(function(a){h.trigger.lookup(a.startContainer())})};e.events.keyup.bind(function(a){d.isSpace(a)&&
m()});e.events.nodeChanged.bind(function(a){e.getSelection().each(function(a){h.trigger.disable(a.startContainer())});a.prev().each(h.trigger.lookup)});return{events:h.registry,destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("74","bg k g bh bi global!document".split(" "),function(b,d,c,a,e,f){var h=d.detect().browser;return function(d,f,k,m,r,t,w,u,y){var z=a(f,r,u),x=e(f,k),A=b(),B=function(a){f.getSelection().each(function(b){return(b.collapsed()||!h.isIE()?m.run:c.apply)(a)})};x.events.lookup.bind(function(a){a=
a.element();y.run(B,A,a)});x.events.disable.bind(function(a){A.fade(a.element())});return{destroy:function(){z.destroy();x.destroy();A.destroy()},situation:z.situation,assign:z.assign,handle:z.handle}}})})(f,h,m);(function(e,f,h){e("3j","70 g t 4 3r 71 72 73 74 3s 28 29 1r 11".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w){return function(u,y,z){var x=u.communication(),A=u.profile(),B=u.filter(),E=u.content(),C=u.operations(),D=u.undo(),F=u.smartview(),G=u.shortcuts(),H=u.context();f.configure(B);
var J=h(),M=b(y.words),K=l(x,A,E,D,M,z.url,J.exclude),P=c.none();y=r.create({analytics:s(["message"])});K.events.failed.bind(function(a){a=q.get("spelling.service.not.found",a.resource());a=e(a);u.ui().displayBanner(a)});E.events.ready.bind(function(b){b=b.api().doc();w.inject(a.beeCss(),{},b);b=m(b,E,H,C,D,G,F,M,K);K.refresh();P=c.some(b)});return{events:y.registry,destroy:function(){P.each(function(a){a.destroy()});J.destroy();M.destroy();K.destroy()},state:function(){return{words:M.state()}},init:d.noop,
exclude:J.add,check:d.identity,situation:function(a){var b={primary:d.constant([]),secondary:d.constant([]),submenus:d.constant({})};return P.fold(d.constant(b),function(b){return b.situation(a)})},assign:function(a){P.each(function(b){b.assign(a.bind(t.firstChild).or(a))})},handle:function(a){P.each(function(b){b.handle(a)})},lookup:K.lookup,name:d.constant("spelling")}}})})(f,h,m);(function(e,f,h){e("75",["8","g","t"],function(b,d,c){var a=function(){return{bind:d.noop}},e=function(c){var d={};
b.each(c,function(b){d[b]=a()});return d};return{noSituation:{primary:d.constant([]),secondary:d.constant([]),submenus:d.constant({})},evt:a,evts:e,basic:function(){return{destroy:d.noop,ui:c.none,state:d.constant({}),events:e(["analytics"])}}}})})(f,h,m);(function(e,f,h){e("76",["g","t","75","1f"],function(b,d,c,a){return{setAutocorrect:b.noop,setSpelling:b.noop,events:c.evts(["analytics"]),init:function(b){b.body().each(function(b){a.set(b,"spellcheck","true")})},check:b.noop,situation:b.constant(c.noSituation),
handle:b.noop,assign:b.noop,destroy:b.noop,state:b.constant({}),exclude:b.noop,lookup:b.constant(d.none()),name:b.constant("spelling-disabled")}})})(f,h,m);(function(e,f,h){e("3k","g t 50 75 76 4l".split(" "),function(b,d,c,a,e,f){return{basic:a.basic,fullscreen:function(){return{ui:d.none,actions:f.actions({maximize:b.noop,restore:b.noop}),select:b.noop,deselect:b.noop,destroy:b.noop,events:a.evts(["analytics","maximize","restore"])}},dialog:function(){return{destroy:b.noop,ui:d.none,events:a.evts(["analytics"]),
actions:f.actions({show:b.noop})}},spelling:function(){return e},usersettings:function(){return{ui:d.none,init:b.noop,actions:f.actions({showLogin:b.noop}),destroy:b.noop,events:a.evts("analytics login logout autocorrect spellcheck help feedback".split(" ")),get:b.constant({})}},snippets:function(){return{ui:d.none,events:a.evts(["analytics"]),getSnippets:b.constant({}),destroy:b.noop}},emoticons:function(){return{ui:d.none,actions:f.actions({inventory:b.constant({})}),destroy:b.noop,events:a.evts(["analytics"])}},
embedly:function(){return{destroy:b.noop,actions:f.actions({previewer:c.build}),state:b.constant({}),events:a.evts(["analytics"])}},editorcontext:function(){return{events:a.evts(["blockChanged","enterDown","enterUp"]),destroy:b.noop}},highlighter:function(){return{destroy:b.noop,run:b.noop}},macros:function(){return{events:a.evts(["analytics"]),state:b.constant({}),destroy:b.noop}},table:function(){return{ui:d.none,state:b.constant({}),events:a.evts(["analytics"]),situation:b.constant(a.noSituation),
handle:b.noop,assign:b.noop,destroy:b.noop,name:b.constant("table-disabled")}},mobile:function(){return{ui:d.none,events:a.evts(["fullscreen"]),destroy:b.noop}},noAnalytics:function(){return{log:b.noop,register:b.noop}},resize:function(){return{cleanup:b.noop,destroy:b.noop}}}})})(f,h,m);(function(e,f,h){e("bo",["2a"],function(b){var d=b.immutable("width","height"),c=b.immutable("rows","columns"),a=b.immutable("row","column"),e=b.immutable("x","y"),f=b.immutable("element","rowspan","colspan"),h=b.immutable("element",
"rowspan","colspan","row","column"),l=b.immutable("before","on","after");b=b.immutable("element","cells");return{dimensions:d,grid:c,address:a,coords:e,extended:h,detail:f,context:l,rowdata:b}})})(f,h,m);(function(e,f,h){e("7b","8 g t bo 1f 14 1t 1h 1r global!parseInt".split(" "),function(b,d,c,a,e,f,h,l,m,q){var s=function(a,d){return b.contains(a,f.name(d))?c.some(d):l.ancestor(d,a.join(","))},r=function(a,b){return m.parent(b).map(function(b){return h.children(b,a)})},t=d.curry(r,"th,td");d=d.curry(r,
"tr");var w=function(a,b){return q(e.get(a,b),10)};return{cell:function(a){return s(["td","th"],a)},firstCell:function(a){return l.descendant(a,"th,td")},cells:function(a){return h.descendants(a,"th,td")},neighbourCells:t,table:function(a){return s(["table"],a)},row:function(a){return s(["tr"],a)},rows:function(a){return h.descendants(a,"tr")},neighbourRows:d,attr:w,grid:function(b,c,d){c=w(b,c);b=w(b,d);return a.grid(c,b)}}})})(f,h,m);(function(e,f,h){e("bk",["g","t","7b"],function(b,d,c){return{context:function(a){return a.getSelection().bind(function(a){if(a.collapsed()){var e=
a.startContainer();return c.cell(e).bind(function(d){return c.table(e).map(function(c){return{cell:b.constant(d),table:b.constant(c),start:b.constant(e),selection:b.constant(a)}})})}return d.none()})}}})})(f,h,m);(function(e,f,h){e("gu",[],function(){var b=function(b){return{fold:b}};return{none:function(d){return b(function(b,a,e,f){return b(d)})},first:function(d){return b(function(b,a,e,f){return a(d)})},middle:function(d,c){return b(function(a,b,e,f){return e(d,c)})},last:function(d){return b(function(b,
a,e,f){return f(d)})}}})})(f,h,m);(function(e,f,h){e("bl","8 g t gu 7b q".split(" "),function(b,d,c,a,e,f){var h=function(a){return e.table(a).bind(function(h){h=e.cells(h);var m=b.findIndex(h,function(b){return f.eq(a,b)});return 0>m?c.none():c.some({index:d.constant(m),all:d.constant(h)})})};return{next:function(b){return h(b).fold(function(){return a.none(b)},function(c){return c.index()+1<c.all().length?a.middle(b,c.all()[c.index()+1]):a.last(b)})},prev:function(b){return h(b).fold(function(){return a.none()},
function(c){return 0<=c.index()-1?a.middle(b,c.all()[c.index()-1]):a.first(b)})}}})})(f,h,m);(function(e,f,h){e("77","bj g 9d 9i bk bl".split(" "),function(b,d,c,a,e,f){return{upOrLeft:function(h){e.context(h).each(function(e){f.prev(e.cell()).fold(d.noop,function(){a.isFirstInContent(h,e.table())&&b.isLeft(e.cell(),e.selection())&&c.insertBefore(h,e.table(),"p")},d.noop,d.noop)})},right:function(h){e.context(h).each(function(e){f.next(e.cell()).fold(d.noop,d.noop,d.noop,function(){a.isLastInContent(h,
e.table())&&b.isRight(e.cell(),e.selection())&&c.insertAfter(h,e.table(),"p")})})}}})})(f,h,m);(function(e,f,h){e("gv",["1f","1p","j","1g","2e"],function(b,d,c,a,e){return{render:function(f,h,l,m){var q=c.fromTag("table");d.setAll(q,{"border-collapse":"collapse",width:"100%"});b.set(q,"border","1");var s=c.fromTag("tbody");a.append(q,s);for(var r=[],t=0;t<f;t++){for(var w=c.fromTag("tr"),u=0;u<h;u++){var y=t<l||u<m?c.fromTag("th"):c.fromTag("td");u<m&&b.set(y,"scope","row");t<l&&b.set(y,"scope","col");
a.append(y,c.fromTag("br"));d.set(y,"width",100/h+"%");a.append(w,y)}r.push(w)}e.append(s,r);return q}}})})(f,h,m);(function(e,f,h){e("bm",["t","6u","gv","7b"],function(b,d,c,a){return{insert:function(e,f,h,l,m){e.focus();return e.getSelection().bind(function(q){return a.table(q.startContainer()).fold(function(){var q=c.render(f,h,l,m);d.insertAtCursor(e,[q]).each(function(b){a.firstCell(q).each(function(a){e.setSelection(a,0,a,0)})});return b.some(q)},b.none)})}}})})(f,h,m);(function(e,f,h){e("li",
"kc g 49 3u 1f 4h j".split(" "),function(b,d,c,a,e,f,h){return function(l){var m=b(l),q=h.fromTag("span");e.set(m.element(),"title",c.translate("table."+l));f.add(q,[a.resolve(l),"ephox-pastry-icon-content","ephox-polish-icon"]);m.content({element:d.constant(q)});return m}})})(f,h,m);(function(e,f,h){e("rb",["bo","global!Math"],function(b,d){return{findCell:function(c,a,e,f){var h=f.x()-c.x();c=f.y()-c.y();f=a.width()/e.columns();a=a.height()/e.rows();h=d.floor(h/f);a=d.floor(c/a);return b.address(a,
h)}}})})(f,h,m);(function(e,f,h){e("rc",["g","bo","global!Math"],function(b,d,c){var a=function(a,b,e,f,h){f=c.max(f,c.min(h,a.row()));a=c.max(b,c.min(e,a.column()));return d.address(f,a)};return{resize:function(c,e){var f;f=d.address(c.row()+1,c.column()+1);f=a(f,0,e.maxCols,0,e.maxRows);var h;h=d.address(f.row()+1,f.column()+1);h=a(h,e.minCols,e.maxCols,e.minRows,e.maxRows);return{selection:b.constant(f),full:b.constant(h)}}}})})(f,h,m);(function(e,f,h){e("qn","bo rb rc 7r 42 7t global!Math".split(" "),
function(b,d,c,a,e,f,h){return function(h){var m=!1;return{on:function(){m=!0},off:function(){m=!1},handle:function(p,s,r,t){if(m){var w;w=f.get(p.element());var u=a.get(p.element());w=b.dimensions(w,u);u=e.absolute(p.element());u=b.coords(u.left(),u.top());r=b.coords(r,t);r=d.findCell(u,w,s,r);r=c.resize(r,h);t=r.full();t.row()===s.rows()&&t.column()===s.columns()||p.setSize(t.row(),t.column());p.setSelection(r.selection().row(),r.selection().column())}}}}})})(f,h,m);(function(e,f,h){e("lm",["8"],
function(b){return{repeat:function(b,c){for(var a=[],e=0;e<b;e++)a.push(c(e));return a},range:function(b,c){for(var a=[],e=b;e<c;e++)a.push(e);return a},unique:function(d,c){var a=[];b.each(d,function(b,e){e<d.length-1&&!c(b,d[e+1])?a.push(b):e===d.length-1&&a.push(b)});return a}}})})(f,h,m);(function(e,f,h){e("h9",["4c"],function(b){return{resolve:b.create("ephox-snooker").resolve}})})(f,h,m);(function(e,f,h){e("p1","8 g 28 29 bo 7b qn lm h9 1f 40 4h 1q j 1g 2e 1s".split(" "),function(b,d,c,a,e,
f,h,l,m,q,s,r,t,w,u,y,z){return function(x){var A=a.create({select:c(["rows","cols","rowHeaders","columnHeaders"])}),B=w.fromTag("table");s.add(B,m.resolve("table-picker"));var E=w.fromTag("tbody");u.append(B,E);var C=0,D=0,F=function(a,b){C=b;D=a;G()},G=function(){z.empty(E);var a=l.repeat(D,function(a){return w.fromTag("tr")});b.each(a,function(a,b){var c=l.repeat(C,function(a){a=w.fromTag("td");s.add(a,m.resolve("table-picker-cell"));return a});y.append(a,c);u.append(E,a)})},H=function(a,c){var d=
f.cells(E);b.each(d,function(a){s.remove(a,m.resolve("picker-selected"))});d=f.rows(E).slice(0,a);b.each(d,function(a,d){var e=f.cells(a).slice(0,c);b.each(e,function(a,b){var c=f.grid(B,"data-picker-header-row","data-picker-header-col"),c=d<c.rows()||b<c.columns()?[m.resolve("picker-selected"),m.resolve("picker-header")]:[m.resolve("picker-selected")];r.add(a,c)})});q.set(B,"data-picker-col",c-1);q.set(B,"data-picker-row",a-1)},J=h(x),M=t.bind(B,"mousemove",function(a){var b={element:d.constant(B),
setSelection:H,setSize:F};J.handle(b,e.grid(D,C),a.raw().pageX,a.raw().pageY)}),K=t.bind(B,"click",function(a){a.target();var b=f.grid(B,"data-picker-row","data-picker-col"),c=f.grid(B,"data-picker-header-row","data-picker-header-col");A.trigger.select(b.rows()+1,b.columns()+1,c.rows(),c.columns());a.raw().preventDefault()});return{element:function(){return B},destroy:function(){K.unbind();M.unbind();z.remove(B)},setSize:F,setHeaders:function(a,b){q.set(B,"data-picker-header-row",a);q.set(B,"data-picker-header-col",
b)},setSelection:H,on:J.on,off:J.off,reset:function(){F(x.minRows,x.minCols);H(1,1)},refresh:G,events:A.registry}}})})(f,h,m);(function(e,f,h){e("lj",["p1"],function(b){return function(d){return b(d)}})})(f,h,m);(function(e,f,h){e("gw","li 3u lj 40 j 2e".split(" "),function(b,d,c,a,e,f){return function(h){var l=c(h),m=e.fromTag("div");a.add(m,d.resolve("insert-table"));h=e.fromTag("div");a.add(h,d.resolve("table-controls"));var q=b("row-header"),s=b("column-header");f.append(h,[q.element(),s.element()]);
f.append(m,[h,l.element()]);h=function(){l.setHeaders(q.selected()?1:0,s.selected()?1:0);l.refresh()};q.events.click.bind(h);s.events.click.bind(h);return{element:function(){return m},destroy:function(){l.destroy()},setSize:l.setSize,setSelection:l.setSelection,on:l.on,off:l.off,reset:function(){l.setHeaders(0,0);q.deselect();s.deselect();l.reset()},events:l.events}}})})(f,h,m);(function(e,f,h){e("bn",["3","gw","28","29"],function(b,d,c,a){return function(e){var f=a.create({enabled:c(["enabled"]),
select:c(["rows","cols","rowHeaders","columnHeaders"]),insert:c(["table"]),done:c([])});e=b.merge({minCols:5,maxCols:10,minRows:4,maxRows:10},e);var h=d(e);h.events.select.bind(function(a){l();f.trigger.select(a.rows(),a.cols(),a.rowHeaders(),a.columnHeaders());f.trigger.done()});var l=function(){h.off()};return{element:h.element,open:function(){h.reset();h.on()},close:l,destroy:function(){h.destroy()},events:f.registry}}})})(f,h,m);(function(e,f,h){e("78","g bm bn 49 29 3n 7b".split(" "),function(b,
d,c,a,e,f,h){return{widget:function(l,m){var q=c(m),s=l.content(),r=l.undo(),t=e.create({done:f([],q.events.done)});q.events.select.bind(function(a){r.save();d.insert(s,a.rows(),a.cols(),a.rowHeaders(),a.columnHeaders()).each(function(a){r.save()})});return{element:q.element,name:b.constant("table"),textkey:b.constant(a.key("insert.table")),label:b.constant(!1),updateWidget:function(a){s.getSelection().each(function(b){(h.table(b.startContainer()).isNone()?a.enable:a.disable)()});q.open()},destroy:q.destroy,
events:t.registry,open:q.open,close:q.close}}}})})(f,h,m);(function(e,f,h){e("lk",["1a","1h"],function(b,d){return{set:function(c,a){void 0!==b(c.dom()).prop?b(c.dom()).prop("checked",a):b(c.dom()).attr("checked",a)},find:function(b){return d.descendant(b,"input:checked")}}})})(f,h,m);(function(e,f,h){e("gx","1n 4b 49 1f lk j 1g 2e 1s 1h 1v".split(" "),function(b,d,c,a,e,f,h,l,m,q,s){return function(){var r=f.fromTag("fieldset"),t=f.fromHtml("<legend>"+c.translate("table.border")+"</legend>");h.append(r,
t);var w=b.generate(""),t=function(b){var e=f.fromTag("input");d.input(e,c.translate("table.border"));a.setAll(e,{type:"radio",id:"tableborder"+b+w,value:b,name:w});return e},u=t("1"),y=t("0");l.append(r,[u,f.fromHtml('<label for="tableborder1'+w+'">'+c.translate("border.on")+"</label>"),y,f.fromHtml('<label for="tableborder0'+w+'">'+c.translate("border.off")+"</label>")]);return{element:function(){return r},get:function(){return q.descendant(r,"input:checked").map(function(a){return s.get(a)})},
select:function(a){e.set(y,!1);e.set(u,!1);a.each(function(a){"0"===a?e.set(y,!0):"1"===a&&e.set(u,!0)})},destroy:function(){m.remove(r)}}}})})(f,h,m);(function(e,f,h){e("gy","8 b3 49 3u 1f 40 j 2e 1h 1r".split(" "),function(b,d,c,a,e,f,h,l,m,q){return function(){var s=a.resolve("table-dialog-float-selected"),r=h.fromTag("fieldset"),t=h.fromHtml("<legend>"+c.translate("table.float")+"</legend>"),w=h.fromTag("div");f.add(w,a.resolve("table-dialog-float-options"));l.append(r,[t,w]);var u=function(){b.each(y,
function(a){f.remove(a.element(),s)})},y=b.map(["none","center","left","right"],function(b){var m=d(),n=h.fromHtml("<span>"+c.translate("float."+b)+"</span>");e.set(m.element(),"data-float-value",b);b=h.fromTag("div");var q=h.fromTag("div"),r=h.fromTag("div"),t=h.fromTag("div");f.add(q,a.resolve("table-dialog-float-icon-inner-left"));f.add(r,a.resolve("table-dialog-float-icon-inner-center"));f.add(t,a.resolve("table-dialog-float-icon-inner-right"));l.append(b,[q,r,t]);m.events.click.bind(function(){u();
f.add(m.element(),s)});f.add(m.element(),a.resolve("table-dialog-float-container"));f.add(n,a.resolve("table-dialog-float-label"));f.add(b,a.resolve("table-dialog-float-icon"));l.append(m.element(),[b,n]);return m});l.append(w,b.map(y,function(a){return a.element()}));return{element:function(){return r},get:function(){return m.child(w,"."+s).map(function(a){return e.get(a,"data-float-value")})},select:function(a){u();a.each(function(a){m.child(w,'span[data-float-value="'+a+'"]').or(q.firstChild(w)).each(function(a){f.add(a,
s)})})},destroy:function(){b.each(y,function(a){a.destroy()})}}}})})(f,h,m);(function(e,f,h){e("bq",["t","2a","1f","1p","g7"],function(b,d,c,a,e){var f=d.immutable("floatval","summary","border"),h={left:{"float":"left",margin:""},right:{"float":"right",margin:""},none:{"float":"none",margin:""},center:{"float":"",margin:"0 auto"}};return{divine:function(a){var d=e.divine(a),h=c.get(a,"summary");a=c.get(a,"border");a="0"===a||"1"===a?b.some(a):b.none();return f(d,h,a)},apply:function(d,e){e.floatval().bind(function(a){return b.from(h[a])}).each(function(b){a.setAll(d,
b)});e.border().each(function(a){c.set(d,"border",a)});(""===e.summary()?c.remove:c.set)(d,"summary",e.summary())}}})})(f,h,m);(function(e,f,h){e("bp","1n 4b 9u gx gy bq 49 a3 28 29 1f j 2e 1v".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w){return function(u){var y=q.create({ok:m(["floatval","summary","border"]),close:m([])}),z=c(u);z.setTitle(h.translate("table.dialog"));u=r.fromTag("div");var x=e(),A="tablesummary"+b.generate(""),B=r.fromTag("fieldset"),E=r.fromHtml("<label>"+h.translate("table.summary")+
"</label>");s.set(E,"for",A);var C=r.fromTag("input");d.input(C,h.translate("table.summary"));s.setAll(C,{type:"text",id:A});t.append(B,[E,C]);var D=a();t.append(u,[x.element(),B,D.element()]);var F=l.okCancel("table");F.events.ok.bind(function(){G()});F.events.cancel.bind(function(){z.hide();y.trigger.close()});z.events.close.bind(function(){z.hide();y.trigger.close()});z.setContent(u);z.setControls(F.element());var G=function(){y.trigger.ok(x.get(),w.get(C),D.get())};return{element:z.element,events:y.registry,
open:function(){z.show()},represent:function(a){a=f.divine(a);x.select(a.floatval());w.set(C,a.summary());D.select(a.border())},execute:G,destroy:function(){x.destroy();F.destroy();z.destroy()},hide:function(){z.hide()}}}})})(f,h,m);(function(e,f,h){e("bs","bv g t bo 1f 1p j 1g 14 1s aw".split(" "),function(b,d,c,a,e,f,h,l,m,q,s){var r=function(a,b){return f.getExact(a,b).getOrThunk(function(){return f.get(a,b)})},t=function(b,c){var d=b.doc().getOrDie();return{row:function(b){b=h.fromTag("tr",d.dom());
return a.detail(b,1,1)},cell:function(b){var e=h.fromTag(m.name(b.element()),d.dom());l.append(e,h.fromHtml("&nbsp;"));1===b.colspan()&&f.set(e,"width",r(b.element(),"width"));c(b.element(),e);return a.detail(e,1,1)},replace:function(a,b,c){a=s.copy(a,b);e.setAll(a,c);return a}}};return{erase:function(a,d,e){a=h.fromText("");l.after(d,a);q.remove(d);return c.some(b(a,0,a,0))},execute:function(a,b){return function(e,g,f){g=h.fromDom(e.doc().getOrDie().dom().documentElement);a(g,f,t(e,void 0!==b?b:
d.noop));return c.none()}}}})})(f,h,m);(function(e,f,h){e("gz","7b 1p 14 7t 1d global!Math".split(" "),function(b,d,c,a,e,f){var h=function(a,b){a.dom().style.setProperty("width",b+"px")},l=function(c,d){var e=b.table(c).map(function(b){b=a.get(b);return f.floor(d/100*b)}).getOr(d);h(c,e);return e};return{setWidth:h,getWidth:function(b){var f;f=b.dom().style.getPropertyValue("width");f=null!==f&&void 0!==f?f:d.get(b,"width");if(!f)return a.get(b);var h=parseInt(f,10);return e.endsWith(f,"%")&&"table"!==
c.name(b)?l(b,h):h}}})})(f,h,m);(function(e,f,h){e("bt",["gz"],function(b){return{setWidth:function(d,c){b.setWidth(d,c)},getWidth:function(d){return b.getWidth(d)}}})})(f,h,m);(function(e,f,h){e("ll",[],function(){var b=function(b){return{fold:b}};return{none:function(){return b(function(b,c,a){return b()})},whole:function(d){return b(function(b,a,e){return a(d)})},partial:function(d,c){return b(function(a,b,e){return e(d,c)})}}})})(f,h,m);(function(e,f,h){e("h6",["8","g","t","bo","global!Math"],
function(b,d,c,a,e){return{generate:function(c){var f={},h=[],m=0,q=0;b.each(c,function(c,d){var k=[];b.each(c.cells(),function(b,c){for(var h=0;void 0!==f[d+","+h];)h++;for(var l=a.extended(b.element(),b.rowspan(),b.colspan(),d,h),s=0;s<b.colspan();s++)for(var x=0;x<b.rowspan();x++){var A=d+x,E=h+s;f[A+","+E]=l;m=e.max(m,A+1);q=e.max(q,E+1)}k.push(l)});h.push(a.rowdata(c.element(),k))});c=a.grid(m,q);return{grid:d.constant(c),access:d.constant(f),all:d.constant(h)}},getAt:function(a,b,d){a=a.access()[b+
","+d];return void 0!==a?c.some(a):c.none()},domAt:function(a,b,d){a=a.all();return c.from(a[b]).bind(function(a){return c.from(a.cells()[d])})},justCells:function(a){a=b.map(a.all(),function(a){return a.cells()});return b.flatten(a)}}})})(f,h,m);(function(e,f,h){e("h4",["8","g","ll","h6","lm"],function(b,d,c,a,e){return{column:function(a,e){var g=a.all();return b.map(g,function(a){var g=a.cells(),f=b.filter(g,function(a){return a.column()+a.colspan()-1<e}),h=b.filter(g,function(a){return a.column()>
e}),g=b.find(g,function(a){var b=a.column();a=a.column()+a.colspan()-1;return e>=b&&e<=a}),g=void 0===g?c.none():1<g.colspan()?c.partial(g,e-g.column()):c.whole(g);return{before:d.constant(f),after:d.constant(h),on:d.constant(g),row:a.element}})},columns:function(c){var d=c.grid(),f=e.range(0,d.columns()),h=e.range(0,d.rows());return b.map(f,function(d){var e=b.find(h,function(b){return a.getAt(c,b,d).exists(function(a){return 1===a.colspan()})});return a.getAt(c,-1<e?e:0,d).getOrDie().element()})},
cellsInRow:function(c,d){var f=e.range(0,c.grid().columns()),f=b.bind(f,function(b){return a.getAt(c,d,b).fold(function(){return[]},function(a){return[a]})});return e.unique(f,function(a,b){return a.row()===b.row()&&a.column()===b.column()})}}})})(f,h,m);(function(e,f,h){e("h0","8 3 g bo h4 h6".split(" "),function(b,d,c,a,e,f){var h=function(c,d,h,l){return f.domAt(c,d,h).map(function(d){d=e.column(c,d.column());return b.map(d,function(b,c){b.before();b.after();var d=l(b.on()),d=b.before().concat(d).concat(b.after());
return a.rowdata(b.row(),d)})}).getOrThunk(function(){return c.all()})},l=function(a,b){return d.merge(a,{colspan:c.constant(a.colspan()+b)})},m=function(a,b,e,g){a=a.replace(b.element(),e,{scope:g});return d.merge(b,{element:c.constant(a)})},q=function(a,b,c,d,e,g,f){return h(c,d,e,function(c){return c.fold(function(){return[]},function(c){return[m(g,c,a,b)]},function(c,d){return[m(g,c,a,b)]})})};return{insertAfter:function(a,b,c,d,e){return h(a,b,c,function(e){return e.fold(function(){return f.getAt(a,
b,c).fold(function(){return[]},function(a){return[d.cell(a)]})},function(a){return[a,d.cell(a)]},function(a,b){var c=a.colspan()-1;return b<c?[l(a,1)]:[a,d.cell(a)]})})},insertBefore:function(a,b,c,d,e){return h(a,b,c,function(e){return e.fold(function(){return f.getAt(a,b,c).fold(function(){return[]},function(a){return[d.cell(a)]})},function(a){return[d.cell(a),a]},function(a,b){return 0===b?[d.cell(a),a]:[l(a,1)]})})},erase:function(a,b,c,d,e){return h(a,b,c,function(a){return a.fold(function(){return[]},
function(a){return[]},function(a,b){return[l(a,-1)]})})},makeHeader:c.curry(q,"th","row"),unmakeHeader:c.curry(q,"td",null)}})})(f,h,m);(function(e,f,h){e("ln",["8","g","ll","h6","lm"],function(b,d,c,a,e){var f=function(d,f){var h=e.range(0,d.grid().columns());return b.map(h,function(b){return a.getAt(d,f,b).fold(function(){return c.none()},function(a){return 1<a.rowspan()?c.partial(a,f-a.row()):c.whole(a)})})},h=function(a,c,e,g){c=f(a,c);a=b.bind(c,function(a){return a.fold(function(){return[]},
function(a){return[]},function(a,b){return e(a,b)?[a]:[]})});c=b.bind(c,function(a){return a.fold(d.constant([]),function(a){return[a]},function(a,b){return g(a,b)?[a]:[]})});return{spanned:d.constant(a),unspanned:d.constant(c)}};return{before:function(a,b){return h(a,b,function(a,b){return 0<b},function(a,b){return 0===b})},after:function(a,b){return h(a,b,function(a,b){return b<a.rowspan()-1},function(a,b){return b===a.rowspan()-1})},either:function(a,b){var c=d.constant(!0),e=d.constant(!1);return h(a,
b,c,e)}}})})(f,h,m);(function(e,f,h){e("h1","8 3 g bo h4 h6 ln".split(" "),function(b,d,c,a,e,f,h){var l=function(a,b,c,d){return f.domAt(a,b,c).map(function(b){return d(b,a.all())}).getOrThunk(function(){return a.all()})},m=function(a,b){return d.merge(a,{rowspan:c.constant(a.rowspan()+b)})},q=function(a,d){var e=b.map(a.cells(),function(a){return d(a)?m(a,1):a});return{element:a.element,cells:c.constant(e)}},s=function(a,d){var e=b.map(a.cells(),function(a){return d(a)?m(a,-1):a});return{element:a.element,
cells:c.constant(e)}},r=function(a,c){return function(d){return b.exists(a,function(a){return c(d.element(),a.element())})}},t={spanners:h.after,order:function(a){return[a.active(),a.other()]}},w=function(d,e,g,f,h,k){return l(e,g,f,function(f,l){var m=d.spanners(e,g),n=r(m.spanned(),k);return b.bind(l,function(e,g){if(g===f.row()){var k,l=m.unspanned();k=h.row();var p=b.map(l,h.cell),l=q(e,n);k=a.rowdata(k.element(),p);k={active:c.constant(l),other:c.constant(k)};return d.order(k)}return[q(e,n)]})})},
u=function(e,g,f,h,k,l,m){f=f.all();return b.map(f,function(f,k){var m=function(a){var b=l.replace(a.element(),e,{scope:g});return d.merge(a,{element:c.constant(b)})},m=k===h?b.map(f.cells(),m):f.cells();return a.rowdata(f.element(),m)})};return{insertBefore:c.curry(w,{spanners:h.before,order:function(a){return[a.other(),a.active()]}}),insertAfter:c.curry(w,t),erase:function(c,d,f,k,q){return l(c,d,f,function(f,k){var l=h.either(c,d),t=r(l.spanned(),q);return b.bind(k,function(d,h){if(h===f.row())return[];
if(h===f.row()+1){var k=e.cellsInRow(c,h),k=b.bind(k,function(a){return a.row()===h?[a]:a.row()===f.row()?[m(a,-1)]:[]});return a.rowdata(d.element(),k)}return[s(d,t)]})})},makeHeader:c.curry(u,"th","col"),unmakeHeader:c.curry(u,"td",null)}})})(f,h,m);(function(e,f,h){e("lo",["8","g","bo","7b","q"],function(b,d,c,a,e){return{detect:function(f){var h=function(a,c){return a(c).map(function(a){return b.findIndex(a,function(a){return e.eq(a,c)})})},l=d.curry(h,a.neighbourRows);return d.curry(h,a.neighbourCells)(f).bind(function(b){return a.row(f).bind(l).map(function(a){return c.address(a,
b)})})}}})})(f,h,m);(function(e,f,h){e("h5",["8","g","bo","7b","1f"],function(b,d,c,a,e){return{fromTable:function(f){f=a.rows(f);return b.map(f,function(f){var h=b.map(a.cells(f),function(a){var b=e.has(a,"rowspan")?parseInt(e.get(a,"rowspan"),10):1,d=e.has(a,"colspan")?parseInt(e.get(a,"colspan"),10):1;return c.detail(a,b,d)});return{element:d.constant(f),cells:d.constant(h)}})}}})})(f,h,m);(function(e,f,h){e("lp","8 1f 1g 2e 1s 1h".split(" "),function(b,d,c,a,e,f){return{render:function(h,l){var m=
f.child(h,"tbody").getOrDie();e.empty(m);var q=b.map(l,function(a){var f=a.element();e.empty(f);b.each(a.cells(),function(a){var b=a.element(),e=a.colspan();1===e?d.remove(b,"colspan"):d.set(b,"colspan",e);b=a.element();e=a.rowspan();1===e?d.remove(b,"rowspan"):d.set(b,"rowspan",e);c.append(f,a.element())});return f});a.append(m,q)}}})})(f,h,m);(function(e,f,h){e("lq",["1f","1p","j"],function(b,d,c){return function(a,e,f,h,l){var m=c.fromTag("div");d.setAll(m,{position:"absolute",left:e-h/2,top:f,
height:l,width:h});b.set(m,"data-column",a);return m}})})(f,h,m);(function(e,f,h){e("h8","8 h4 h5 h6 lq h9 40 1p 7r 1g 42 1s 1t 7t".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w){var u=f.resolve("resizer-bar"),x=function(a,c,d){var f=s.absolute(c);b.each(d.slice(1),function(b,d){var k=s.absolute(b),k=e(d,k.left(),f.top(),3,m.getOuter(c));h.add(k,u);q.append(a,k)});var k=s.absolute(d[d.length-1]).left()+w.getOuter(d[d.length-1]),l=f.top();d=e(d.length-1,k,l,3,m.getOuter(c));h.add(d,u);q.append(a,
d)};return{refresh:function(e,g){var f=t.descendants(e,"."+u);b.each(f,r.remove);f=c.fromTable(g);f=a.generate(f);f=d.columns(f);0<f.length&&x(e,g,f)},hide:function(a){a=t.descendants(a,"."+u);b.each(a,function(a){l.set(a,"display","none")})},show:function(a){a=t.descendants(a,"."+u);b.each(a,function(a){l.set(a,"display","block")})},isBar:function(a){return h.has(a,u)}}})})(f,h,m);(function(e,f,h){e("h2",["lo","h5","h6","lp","h8"],function(b,d,c,a,e){return{run:function(f,h,l,m,q){b.detect(l).each(function(b){var l=
d.fromTable(h),l=c.generate(l);b=m(l,b);a.render(h,b);q(b);e.refresh(f,h)})}}})})(f,h,m);(function(e,f,h){e("lr",[],function(){var b=function(b){return{fold:b}};return{none:function(){return b(function(b,c,a,e,f){return b()})},only:function(d){return b(function(b,a,e,f,h){return a(d)})},left:function(d,c){return b(function(a,b,e,f,h){return e(d,c)})},middle:function(d,c,a){return b(function(b,e,f,h,m){return h(d,c,a)})},right:function(d,c){return b(function(a,b,e,f,h){return h(d,c)})}}})})(f,h,m);
(function(e,f,h){e("h3",["8","g","lr","global!Math"],function(b,d,c,a){var e=function(a,b){return 0===a.length?c.none():1===a.length?c.only(0):0===b?c.left(0,1):b===a.length-1?c.right(b-1,b):0<b&&b<a.length-1?c.middle(b-1,b,b+1):c.none()};return{determine:function(c,f,h,m){var q=c.slice(0);c=e(c,f);var s=function(a){return b.map(a,d.constant(0))};f=d.constant(s(q));var r=function(b,c){if(0<=h){var d=a.max(m,q[c]-h);return s(q.slice(0,b)).concat([h,d-q[c]]).concat(s(q.slice(c+1)))}var d=a.max(m,q[b]+
h),e=q[b]-d;return s(q.slice(0,b)).concat([d-q[b],e]).concat(s(q.slice(c+1)))};return c.fold(f,function(b){return[a.max(m,q[b]+h)-q[b]]},r,function(a,b,c){return r(b,c)},function(b,c){if(0<=h)return s(q.slice(0,c)).concat([h]);var d=a.max(m,q[c]+h);return s(q.slice(0,c)).concat([d-q[c]])})}}})})(f,h,m);(function(e,f,h){e("bw","8 g h3 h4 h5 h6 gz 1h".split(" "),function(b,d,c,a,e,f,h,l){var m=function(a,c){var e=f.justCells(a);return b.map(e,function(a){for(var b=a.column(),e=a.column()+a.colspan(),
f=0;b<e;b++)f+=void 0!==c[b]?parseInt(c[b],10):0;return{element:a.element,width:d.constant(f)}})},q=function(c){c=a.columns(c);return b.map(c,function(a){return h.getWidth(a)})};return{adjust:function(a,d,l,w){w=e.fromTable(a);w=f.generate(w);var u=q(w);d=c.determine(u,l,d,10);d=b.map(d,function(a,b){return a+u[b]});l=m(w,d);b.each(l,function(a){h.setWidth(a.element(),a.width())});d=b.foldr(d,function(a,b){return a+b},0);h.setWidth(a,d)},recalculate:m,adjustTo:function(a){var c=f.generate(a);a=q(c);
c=m(c,a);b.each(c,function(a){h.setWidth(a.element(),a.width())});var d=b.foldr(a,function(a,b){return b+a},0);0<c.length&&l.ancestor(c[0].element(),"table").each(function(a){h.setWidth(a,d)})}}})})(f,h,m);(function(e,f,h){e("bu","g 7b h0 h1 h2 bw q 1s 1h".split(" "),function(b,d,c,a,e,f,h,l,m){var q=function(a,b,c){return function(f,k,l){d.cell(k).each(function(d){m.ancestor(d,"table").each(function(k){e.run(f,k,d,function(b,c){return a(b,c.row(),c.column(),l,h.eq)},b);c(k)})})}},s=function(a){0===
d.cells(a).length&&l.remove(a)};f=f.adjustTo;return{insertRowBefore:q(a.insertBefore,b.noop,b.noop),insertRowAfter:q(a.insertAfter,b.noop,b.noop),insertColumnBefore:q(c.insertBefore,f,b.noop),insertColumnAfter:q(c.insertAfter,f,b.noop),eraseColumn:q(c.erase,f,s),eraseRow:q(a.erase,b.noop,s),makeColumnHeader:q(c.makeHeader,b.noop,b.noop),unmakeColumnHeader:q(c.unmakeHeader,b.noop,b.noop),makeRowHeader:q(a.makeHeader,b.noop,b.noop),unmakeRowHeader:q(a.unmakeHeader,b.noop,b.noop)}})})(f,h,m);(function(e,
f,h){e("79","g t bp bq br bs 2a bt 7b bu 1f 14".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r){return function(t,w,u,x){var z=d.none(),A=t.cursor(),Q=function(a){u.save();a=a();t.focus();A.attempt(a);A.restore();u.save()},B=function(a,b){var c=l.getWidth(a);l.setWidth(a,c/2);l.setWidth(b,c/2)},E={"tablemenu-delete-table":f.erase,"delete-row":f.execute(q.eraseRow,b.noop),"delete-column":f.execute(q.eraseColumn,b.noop),"make-header-column":f.execute(q.makeColumnHeader,b.noop),"make-header-row":f.execute(q.makeRowHeader,
b.noop),"unmake-header-column":f.execute(q.unmakeColumnHeader,b.noop),"unmake-header-row":f.execute(q.unmakeRowHeader,b.noop),"insert-row-before":f.execute(q.insertRowBefore,b.noop),"insert-row-after":f.execute(q.insertRowAfter,b.noop),"insert-column-before":f.execute(q.insertColumnBefore,B),"insert-column-after":f.execute(q.insertColumnAfter,B),"tablemenu-table-properties":function(b,f,h){b=c(x);var k=e.generate(w,b,["floatval","summary","border"]);k.events.ok.bind(function(b){z.bind(m.table).each(function(c){t.activate();
Q(function(){a.apply(c,b);return d.none()})});k.destroy()});k.events.close.bind(function(a){k.destroy()});t.deactivate();k.represent(f);k.open();return d.none()}},C=h.immutable("value","text","attrs");return{handle:function(a){t.doc().each(function(b){z.each(function(b){m.table(b).each(function(c){var d=s.get(a,"data-ephox-gopher-item-value"),e=E[d];e&&Q(function(){return e(t,c,b)})})})})},assign:function(a){z=a.bind(m.cell);A.save()},situation:function(a){var c=z.map(function(a){return[C("tablemenu-row",
"Row",{}),C("tablemenu-column","Column",{}),C("tablemenu-table","Table",{})]}).getOr([]),d=function(c,d,e){var f=z.getOr(a),g=c+"-menu",f="th"===r.name(f)?"unmake":"make",h="make"===f?"Header":"Normal";c=[C("insert-"+c+"-before","Insert "+d,{}),C("insert-"+c+"-after","Insert "+e,{}),C("delete-"+c,"Delete",{}),C(f+"-header-"+c,"Set as "+h,{})];return{value:b.constant(g),items:b.constant(c)}},e={value:b.constant("table-menu"),items:b.constant([C("tablemenu-table-properties","Properties",{}),C("tablemenu-delete-table",
"Delete",{})])},d=[d("row","Above","Below"),d("column","Left","Right"),e];return{primary:b.constant(c),secondary:b.constant(d),submenus:b.constant({"tablemenu-row":"row-menu","tablemenu-column":"column-menu","tablemenu-table":"table-menu"})}},destroy:b.noop}}})})(f,h,m);(function(e,f,h){e("7a","bv t bs bl 7b bu 1t 1h".split(" "),function(b,d,c,a,e,f,h,l){var m=function(a,m){return m.fold(d.none,d.none,function(a,c){return d.some(b(c,0,c,0))},function(d){return e.table(d).bind(function(e){c.execute(f.insertRowAfter)(a,
e,d);e=h.descendants(e,"tr");if(0<e.length)return l.descendant(e[e.length-1],"td,th").map(function(a){return b(a,0,a,0)})})})};return{forward:function(b,c){return m(b,a.next(c))},backward:function(b,c){return m(b,a.prev(c))}}})})(f,h,m);(function(e,f,h){e("ls",["28","29"],function(b,d){return function(){var c=d.create({drag:b(["xDelta","yDelta"])});return{mutate:function(a,b){c.trigger.drag(a,b)},events:c.registry}}})})(f,h,m);(function(e,f,h){e("h7",["t","28","29","ls"],function(b,d,c,a){return function(){var e=
c.create({drag:d(["xDelta","yDelta","target"])}),f=b.none(),h=a();h.events.drag.bind(function(a){f.each(function(b){e.trigger.drag(a.xDelta(),a.yDelta(),b)})});return{assign:function(a){f=b.some(a)},get:function(){return f},mutate:h.mutate,events:e.registry}}})})(f,h,m);(function(e,f,h){e("bx","as t 28 29 h7 h8 h9 1f 40 1p 1q 14 7o 1h global!parseInt".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w,u){return function(x){var z=e(),A=b.transform(z,{}),Q=d.none();z.events.drag.bind(function(a){if(void 0!==
l.get(a.target(),"data-column")){var b;b=a.target();b=u(q.get(b,"left"),10);q.set(a.target(),"left",b+a.xDelta()+"px")}});A.events.stop.bind(function(a){z.get().each(function(a){Q.each(function(b){var c=l.get(a,"data-column"),d=u(q.get(a,"left"),10),e=u(l.get(a,"data-initial-left"),10),d=d-e;l.remove(a,"data-initial-left");void 0!==c&&D.trigger.adjustWidth(b,d,u(c,10));f.refresh(x,b)})})});var B=s.bind(x,"mousedown",function(a){f.isBar(a.target())&&(D.trigger.startAdjust(),l.get(a.target(),"data-column"),
z.assign(a.target()),l.set(a.target(),"data-initial-left",u(q.get(a.target(),"left"),10)),m.add(a.target(),h.resolve("resizer-bar-dragging")),q.set(a.target(),"opacity",0.2),A.go(x))}),E=s.bind(x,"mouseover",function(a){if("table"===r.name(a.target())||t.ancestor(a.target(),"table"))Q="table"===r.name(a.target())?d.some(a.target()):w.ancestor(a.target(),"table"),f.refresh(x,Q.getOrDie())}),C=s.bind(x,"mouseout",function(a){"table"===r.name(a.target())&&f.hide(x)});s.bind(x,"dragstart",function(a){a.raw().preventDefault()});
var D=a.create({adjustWidth:c(["table","delta","column"]),startAdjust:c([])});return{destroy:function(){B.unbind();E.unbind();C.unbind();A.destroy()},refresh:function(a){f.refresh(x,a)},on:A.on,off:A.off,events:D.registry}}})})(f,h,m);(function(e,f,h){e("7c",["28","29","bw","bx"],function(b,d,c,a){return function(e){var f=a(e),h=d.create({beforeResize:b([]),afterResize:b([]),startDrag:b([])});f.events.adjustWidth.bind(function(a){h.trigger.beforeResize();c.adjust(a.table(),a.delta(),a.column());h.trigger.afterResize()});
f.events.startAdjust.bind(function(a){h.trigger.startDrag()});return{on:f.on,off:f.off,destroy:function(){f.destroy()},events:h.registry}}})})(f,h,m);(function(e,f,h){e("3l","k 3 g t 77 78 79 7a 4l 7b 7c j".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r){return function(t,w){var u=t.content(),x=t.keyboard(),z=t.undo(),A=t.smartview(),Q=h(u,x,z,A.uiContainer()),A=d.merge({minCols:7,maxCols:10,minRows:5,maxRows:10},w),A=m.ui({"table.widget":c.curry(f.widget,t,A)},c.identity),B=function(a){var b=a.stopper();
u.getSelection().each(function(c){c.collapsed()&&q.cell(c.startContainer()).each(function(c){(a.shift()?l.backward:l.forward)(u,c).fold(b,function(a){b();u.setSelection(a.startContainer(),a.startOffset(),a.endContainer(),a.endOffset())})})})},E=function(a){e.upOrLeft(u)},C=function(a){e.right(u)},D=x.editor();D.on();D.events.tab.bind(B);D.events.left.bind(E);D.events.up.bind(E);D.events.right.bind(C);var F=u.cursor(),G=a.none();u.events.loaded.bind(function(){var c=u.doc().getOrDie().dom().documentElement,
c=s(r.fromDom(c));c.events.beforeResize.bind(z.save);c.events.afterResize.bind(function(){u.focus();z.save();F.restore()});c.on();c.events.startDrag.bind(F.save);G=a.some(c);b.detect().browser.isFirefox()&&u.execCommand("enableInlineTableEditing",null,!1)});return{ui:A,destroy:function(){Q.destroy();G.each(function(a){a.destroy()});D.off();D.events.tab.unbind(B);D.events.left.unbind(E);D.events.up.unbind(E);D.events.right.unbind(C);D.destroy()},handle:Q.handle,assign:Q.assign,situation:Q.situation,
name:c.constant("table")}}})})(f,h,m);(function(e,f,h){e("3m",["g","28","29"],function(b,d,c){return function(){var a=c.create({reconstitute:d([]),uploadAssets:d(["assets"])});return{destroy:b.noop,events:a.registry,reconstitute:a.trigger.reconstitute,uploadAssets:a.trigger.uploadAssets}}})})(f,h,m);(function(e,f,h){e("7d",["1b"],function(b){return{serializeToString:function(d){return(new (b.getOrDie("XMLSerializer"))).serializeToString(d)}}})})(f,h,m);(function(e,f,h){e("3o",["k","7d","global!RegExp",
"global!String","global!document"],function(b,d,c,a,e){b=b.detect().browser;var f=function(a){return a.replace(/^<body .*?>/,"").replace(/<\/body>$/,"")},h=function(a){a=a.dom();return f(d.serializeToString(a))},l=function(a){a=e.implementation.createDocument(null,null,null).importNode(a.dom(),!0);return f(d.serializeToString(a))},m=function(a){a.dom().innerHTML=a.dom().innerHTML;return h(a)},q=b.isChrome()||b.isSafari()?l:b.isIE()?m:h;return{serialise:function(b){b=q(b);var d=a.fromCharCode(160);
return b.replace(new c(d,"g"),"&nbsp;")}}})})(f,h,m);(function(e,f,h){e("2k","8 3 g 21 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f 3g 3h 3i 3j 3k 3l 3m 28 29 3n j 3o".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w,u,x,z,A,Q,B,E,C,D,F,G,H,J,M,K,P){return function(L,N){var O=d.deepMerge(a.state(),N),V=!0===L.onprem,S=function(a,b,c,d){return b.bundled?a.apply(void 0,d.concat([b])):c()},I=s(L,O),X=S(f,L.formatting,D.basic,[I]),Z=S(e,L.alignindent,D.basic,[I]),Y=S(F,L.table,D.table,[I]),aa=S(h,L.blocktag,
D.basic,[I]),ca=S(w,L.font,D.basic,[I]),$=S(z,L.link,D.basic,[I,function(){return oa}]),la=S(r,L.feedback,D.dialog,[I,V]),W=S(u,L.help,D.dialog,[I]),T=S(C,L.spelling,D.spelling,[I,O.spelling]),v=S(Q,L.resize,D.resize,[I]),ka=S(q,L.emoticons,D.emoticons,[I,{}]),ea=S(E,L.snippets,D.snippets,[I,V]),oa=S(m,L.embedly,D.embedly,[I,T,O.embedly]),va=S(A,L.macros,D.macros,[I,T,ea,oa,ka]),ia=S(x,L.highlighter,D.highlighter,[I,va]),pa=G(),ya=S(t,L.feedback,D.dialog,[I,pa]),wa=S(B,L.smartpaste,D.basic,[I,pa]),
ga=D.noAnalytics(L.integration);ga.register([I.profile(),Z,oa,ka,X,la,ya,ca,I.fullscreen(),W,$,va,wa,ea,T,I.users()]);I.contextmenu().register("table",Y);I.contextmenu().register("spelling",T);l(I.content());I.content().events.loaded.bind(function(){Ga.trigger.loaded();I.ui().init(I.keyboard(),I.undo(),I.users(),X,Z,ca,Y,aa,$,la,ea,W,ka,ya);T.init(I.content());ia.run();ga.log("editor_loaded")});I.users().init();I.locker().init();var Ga=J.create({loaded:H([]),focus:M(["original"],I.content().events.focus)});
return{element:I.ui().element,connect:I.ui().connect,focus:I.content().focus,blur:I.content().blur,getContent:function(){return I.content().body().fold(c.constant(""),function(a){a=K.fromDom(a.dom().cloneNode(!0));var b=I.filter();b.filterDom(b.output(),a);return P.serialise(a)})},setContent:function(a){var b=I.filter(),c=I.content(),d=I.undo();a=b.filterHtml(b.input(),a);d.reset(a);c.setContent(a);ia.run();T.check()},uploader:c.constant(pa),state:function(){var a=I.state();return d.merge(a,{embedly:oa.state(),
spelling:T.state()})},cleanup:function(){v.cleanup()},destroy:function(){b.each([ya,pa,wa,ia,va,oa,T,ka,ea,v,W,la,$,ca,Y,aa,Z,X,I],function(a){a.destroy()})},events:Ga.registry,communication:I.communication,fullscreen:I.fullscreen,content:I.content,ui:I.ui,smartview:I.smartview,keyboard:I.keyboard,filter:I.filter,operations:I.operations,macros:c.constant(va),undo:I.undo}}})})(f,h,m);(function(e,f,h){e("24",["3","2k","28","29"],function(b,d,c,a){return function(e,f){var h=d(e,f),l=a.create({create:c(["instance"])});
return{get:function(){return h},swap:function(a,c){h.cleanup();var f=b.deepMerge(e,a),k=h.state(),k=b.deepMerge(k,c);h.destroy();h=d(f,k);l.trigger.create(h)},destroy:function(){h.cleanup();h.destroy()},events:l.registry}}})})(f,h,m);(function(e,f,h){e("3p","7e 4b 3u 4d 4e 4f 4g 40 4h j 1g 2e 1s 1h global!parseInt".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w,u){return function(u,w,x,A){var B=q.fromTag("div");m.add(B,[c.resolve("editor-container"),c.resolve("layer-editor"),c.resolve("fullscreen-maximized")]);
d.editor(B);var E=a(x.uiContainer());w.events.toolbar.bind(E.enter);E.events.exit.bind(u.focus);u=e();var C=q.fromTag("div");l.add(C,c.resolve("socket"));r.append(B,[E.element(),u.element(),C]);var D=b({layerClass:c.resolve("layer-below-editor"),background:"rgba(255, 255, 255, 0.92)"}),F=A.autoresize?f(A):h();F.events.change.bind(function(a){E.refresh()});return{element:function(){return B},socket:function(a){s.append(C,a.element())},connect:function(a){D.show();s.append(a,B);E.refresh();F.hookup(a)},
destroy:function(){E.destroy();t.remove(B);D.destroy()},displayBanner:u.display,hideBanner:u.hide,toolbar:E}}})})(f,h,m);(function(e,f,h){e("2n",["g","30","3p"],function(b,d,c){return function(a,b,e,f,h,m){var q=c(a,b,e,m),s=f.full(q);s.init();return{element:q.element,socket:q.socket,init:function(b,c,f,g,m,n,p,x,A,E,C,D,F,G){c=s.config(c,g,m,n,p,x,A,h,f,E,C,D,F,G);d.setup(q,a,b,e,f,c);s.loaded()},connect:q.connect,destroy:function(){q.destroy();s.destroy()},displayBanner:q.displayBanner,hideBanner:q.hideBanner,
tabstrip:q.toolbar}}})})(f,h,m);(function(e,f,h){e("25","k g t 2n 2j 28 29 1h 1r".split(" "),function(b,d,c,a,e,f,h,l,m){return function(b){var d=c.none(),r=h.create({maximize:f([]),restore:f([])}),t=function(c){d=m.parent(b.get().element());d.getOrDie("maximize called on editor that is not in the DOM.");b.swap({ui:{layout:a},fullscreen:{layout:void 0!==c.layout()?c.layout():e}});u();var f=b.get();f.fullscreen().select();c=l.first("body").getOrDie();f.connect(c);f.events.loaded.bind(function(){f.focus();
r.trigger.maximize()})},w=function(a){b.swap({ui:{layout:void 0!==a.layout()?a.layout():e}});u();b.get().fullscreen().deselect();var c=b.get();c.fullscreen().deselect();a=d.getOrDie("restore called on editor that was not previously in the DOM.");b.get().connect(a);c.events.loaded.bind(function(){c.focus();r.trigger.restore()})},u=function(){var a=b.get();a.fullscreen().events.maximize.bind(t);a.fullscreen().events.restore.bind(w)};u();return{init:u,destroy:function(){},events:r.registry}}})})(f,h,
m);(function(e,f,h){e("2q",["7","8"],function(b,d){return function(){var c=[];return{setCallback:function(a){b.isFunction(a)&&c.push(a)},done:function(a){d.each(c,function(b){b.apply(null,[a])});c=[]}}}})})(f,h,m);(function(e,f,h){e("2r",[],function(){return function(b){return{result:b}}})})(f,h,m);(function(e,f,h){e("2s","8 r 3t t 3u 2a 1f".split(" "),function(b,d,c,a,e,f,h){var l="data-"+e.resolve("image-upload"),m=f.immutable("mimetype","size","blob","objurl","data");return function(){var e={},
f=function(a){c.revokeObjectURL(a.objurl())};return{add:function(a,b,c,d,f,g,k){h.set(a,l,b);e[b]=m(c,d,f,g,k)},get:function(b){return a.from(e[b])},remove:function(a,b){h.remove(a,l);var c=e[b];delete e[b];void 0!==c&&f(c)},configure:function(a){a.addSelector(a.output(),"img["+l+"]",function(a){b.each(a,function(a){var b=h.get(a,l);h.remove(a,l);b=e[b];void 0!==b&&h.set(a,"src",b.data().result)})})},destroy:function(){d.each(e,f);e={}}}}})})(f,h,m);(function(e,f,h){e("2t","8 g 3u 1f 1s 1h".split(" "),
function(b,d,c,a,e,f){var h=c.resolve("upload-image-container"),l=function(a){b.each(a,function(a){f.child(a,"img").each(m);e.unwrap(a)})},m=function(b){a.remove(b,"class")};return{configure:function(a){a.add(a.output(),h,l);a.add(a.history(),h,l);a.add(a.internal(),h,l)},uploadContainer:d.constant(h)}})})(f,h,m);(function(e,f,h){e("2u","8 k 3v 3u 28 29 1f 1t 1h 1d".split(" "),function(b,d,c,a,e,f,h,l,m,q){var s="data-"+a.resolve("image-upload");a=function(a){return l.descendants(a,"img:not(["+s+
'])[src^="data:image/"]')};var r=function(a){return b.filter(l.descendants(a,"img:not(["+s+"])"),function(a){a=h.get(a,"src");return!c.isEmpty(a)&&q.startsWith(a,"data:image/")})},t=function(a,b){return m.descendant(a,"img["+s+"="+b+"]")},w=d.detect().browser.isIE()?r:a;return function(){var a=[],c=[],d=f.create({complete:e(["response"])}),l=function(e){a=b.filter(a,function(a,b){return a!==e});!1===m()&&(d.trigger.complete(c),c=[])},m=function(){return 0<a.length};return{findOne:t,findAll:w,register:function(b,
c){h.set(b,s,c);a.push(c)},report:function(a,b,d){b.each(function(a){h.remove(a,s);c.push({success:d,element:a.dom()})});l(a)},inProgress:m,events:d.registry}}})})(f,h,m);(function(e,f,h){e("3w",[],function(){return function(b){var d=!1;return function(){d||(d=!0,b.apply(null,arguments))}}})})(f,h,m);(function(e,f,h){e("2v",["3w","3s"],function(b,d){return function(c,a){var e=function(){return d.get("imageupload.service.not.found",a)},f=function(){d.get("error.imageupload")},h=function(a){a=a.status();
c.show((0===a||400<=a||500>a?e:f)())};return{instance:function(){return b(h)}}}})})(f,h,m);(function(e,f,h){e("2w",["3x","3y","3z","2a"],function(b,d,c,a){var e=a.immutable("message","status","contents");return{upload:function(a,f,h,m,q){h=c.image(m.url)+"storeImageB64";d.json().ajaxData(h,{base64:f.result},"POST",function(a){q(b.value(a))},function(a,c,d){q(b.error(e(a,c,d)))},a.headers())}}})})(f,h,m);(function(e,f,h){e("2x","8 2t 40 j 1g 2e 1s 1h 1r".split(" "),function(b,d,c,a,e,f,h,l,m){return{removeUi:function(a){l.ancestor(a,
"."+d.uploadContainer()).each(function(a){var b=m.children(a);f.before(a,b);h.remove(a)})},addUi:function(b){var f=a.fromTag("div");c.add(f,d.uploadContainer());e.before(b,f);e.append(f,b)}}})})(f,h,m);(function(e,f,h){e("26","7 8 1n 2o g 2p 2q 2r 2s 2t 2u 2v 2w 2x 1f 1h 1d global!console".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w,u,x,z,A){var Q=function(a,b){return{base64:function(a,b,c){a.rewrite(b.result,c.location)},blob:function(c){a.rewrite(c.objurl(),b.location)}}};return function(B,
E){var C=!0!==E.bundled?e.noop:function(a,b,c,d){G.register(b,a);w.addUi(b);J(a,c,d)},D=m(),F=h(),G=s();G.events.complete.bind(function(a){F.done(a.response())});var H=r(f(B.ui),E.url),J=function(a,b,c){var d=function(){A.error("Internal error with blob cache",a);c({status:e.constant(666)})};t.upload(B.communication(),b,a,E,function(e){var f=B.content().body().bind(function(b){return G.findOne(b,a)});G.report(a,f,e.isValue());f.each(function(f){w.removeUi(f);e.fold(c,function(c){var e=u.get(f,"src");
u.set(f,"src",c.location);c=Q(B.undo(),c);z.startsWith(e,"data:image/")?c.base64(b):(D.get(a).fold(d,c.blob),D.remove(f,a))})})})},M=function(b){var c=H.instance();B.content().body().each(function(f){d.each(b.assets(),function(b){a.cata(b,function(a,b,d,e,g,h){x.descendant(f,'img[src="'+g+'"]').fold(function(){A.error("Image that was just inserted could not be found: ",g)},function(f){D.add(f,a,b,d,e,g,h);C(a,f,h,c)})},e.noop)})})},K=function(a){b.isFunction(a)&&F.setCallback(a);B.content().body().each(function(a){a=
G.findAll(a);if(0!==a.length||G.inProgress()){var b=H.instance();d.each(a,function(a){var d=l(u.get(a,"src"));C(c.generate("request"),a,d,b)})}else F.done([])})};return{init:function(){var a=B.filter();q.configure(a);D.configure(a);B.uploader().events.uploadAssets.bind(M);B.uploader().events.reconstitute.bind(K)},reconstitute:K,destroy:function(){D.destroy()}}}})})(f,h,m);(function(e,f,h){e("27",["g","t","2y"],function(b,d,c){return function(a,b){var e=d.none();return{save:function(){e=d.some(c.get(a))},
restore:function(){e.each(function(a){b.scrollTo(a.left(),a.top())})}}}})})(f,h,m);(function(e,f,h){e("1l","3 21 22 23 24 25 26 27 28 29 j global!document global!window".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t){return function(w,u){var x=b.deepMerge(d.settings(void 0!==w.resources?w.resources:""),w,a.settings()),z=e(x,u),A=c(z),Q=f(z),B=l(s.fromDom(r),t),E=h(A,x.imageupload);E.init();z.events.create.bind(E.init);Q.events.restore.bind(function(){B.restore();C.trigger.recreated()});Q.events.maximize.bind(function(){B.save();
C.trigger.recreated()});z.get().events.loaded.bind(function(){C.trigger.loaded()});var C=q.create({recreated:m([]),loaded:m([]),focus:m(["original"])});z.events.create.bind(function(a){a.instance().events.focus.bind(C.trigger.focus)});return{content:A.content,keyboard:A.keyboard,smartview:A.smartview,macros:A.macros,ui:A.ui,filter:A.filter,undo:A.undo,operations:A.operations,element:A.element,connect:A.connect,focus:A.focus,getContent:A.getContent,setContent:A.setContent,state:A.state,uploadImages:E.reconstitute,
destroy:function(){E.destroy();Q.destroy();z.destroy()},events:C.registry}}})})(f,h,m);(function(e,f,h){e("12",["1k","1l","1f","1m"],function(b,d,c,a){return{replace:function(e,f){var h=b.withOptions(e,f);h.content&&h.content.tabindex&&(0,c.remove)(e,"tabindex",h.content.tabindex);var l=d(h),m=a.get(e);a.set(e,"");l.connect(e);l.setContent(m);return{polish:l,restore:function(b){a.set(e,b);h.content&&h.content.tabindex&&(0,c.set)(e,"tabindex",h.content.tabindex);return e}}}}})})(f,h,m);(function(e,
f,h){e("s",["1b"],function(b){return{isPrototypeOf:function(d){return b.getOrDie("HTMLElement").prototype.isPrototypeOf(d)}}})})(f,h,m);f("global!Error",[],function(){return Error});(function(e,f,h){e("e",["7","8","s","g","global!Error"],function(b,d,c,a,e){var f=function(b,c,d,f,h){return{name:a.constant(b),required:a.constant(f),validate:function(a){if(!d(a))throw a=h(b,c),new e(a);}}},h=function(a,b){return'value of "'+a+'" is not a '+b},l=function(a,b){return'value of "'+a+'" is not an '+b},m=
function(a,b,c){return function(d){return f(d,a,b,!0,c)}},q=function(a){return c.isPrototypeOf(a)},s=function(a){return b.isString(a)||b.isArray(a)||b.isObject(a)},r=m("array",b.isArray,l),t=m("boolean",b.isBoolean,h),w=m("function",b.isFunction,h),u=m("number",b.isNumber,h),x=m("object",b.isObject,l),z=m("string",b.isString,h),h=m("DOM element",q,h),A=m("string or an array",function(a){return b.isString(a)||b.isArray(a)},l),m=m("string or a DOM element",function(a){return b.isString(a)||q(a)},l);
return{arrayOfStrings:function(a){return f(a,"array of strings",function(c){r(a).validate(c);return d.forall(c,b.isString)},!0,l)},arrayOfObjects:function(a){return f(a,"array of objects",function(c){r(a).validate(c);return d.forall(c,b.isObject)},!0,l)},arrayOfToolbarGroups:function(a){return f(a,"array of toolbar groups",function(b){r(a).validate(b);return d.forall(b,s)},!0,l)},bool:t,domElement:h,func:w,number:u,object:x,string:z,stringOrArray:A,stringOrDom:m,param:f}})})(f,h,m);(function(e,f,
h){e("f",["8","global!Error"],function(b,d){return function(c,a){b.each(a,function(a,b){if(b>c.length-1){if(a.required())throw new d('missing parameter "'+a.name()+'"');}else a.validate(c[b])})}})})(f,h,m);(function(e,f,h){e("16",["e","f"],function(b,d){var c=function(a){return a.map(function(a){return a.dom()}).getOr(null)};return{documentElement:function(a){return c(a.content().doc())},insertHtmlAtCursor:function(a,c){d(arguments,[b.object("polish"),b.string("html")]);a.content().focus();return a.content().execCommand("insertHTML",
!1,c)},uploadImages:function(a,c){d(arguments,[b.object("polish"),b.func("callback")]);return a.uploadImages(c)},get:function(a){return a.getContent()},set:function(a,c){d(arguments,[b.object("polish"),b.string("html")]);a.setContent(c)}}})})(f,h,m);(function(e,f,h){e("13","1n 1k 16 g 1l 1f 1p 1q j 1g 1s 1h 1r 1v".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w){var u=function(a,b,c,f){h.set(b,"display","none");f=e(d.withOptions(b,f));var k=w.get(b);f.connect(a);f.setContent(k);var l=x(b,f);return{polish:f,
restore:function(d){l.each(function(a){a.unbind()});w.set(b,d);c.fold(function(){h.remove(b,"display")},function(a){h.set(b,"display",a)});s.remove(a);return b}}},x=function(a,b){return r.closest(a,"form").map(function(d){return l.bind(d,"submit",function(){w.set(a,c.get(b))})})};return{replace:function(a,c){var d=h.getExact(a,"display");return t.parent(a).fold(function(){return null},function(){var e=f.get(a,"id"),e=e?"ephox_"+e:b.generate("ephox"),g=m.fromTag("div");f.set(g,"id",e);h.copy(a,g);
q.before(a,g);return u(g,a,d,c)})}}})})(f,h,m);(function(e,f,h){e("o",["12","13","t","14"],function(b,d,c,a){var e={textarea:d,div:b};return{one:function(b,d){var f=a.name(b);return c.from(e[f]).map(function(a){return a.replace(b,d)})}}})})(f,h,m);(function(e,f,h){e("15",["8","r","e","f","1x"],function(b,d,c,a,e){return function(f){var h=e.create(),l=d.map(f,function(d){var e=[],f=function(){b.each(e,function(a){a.apply(null)})};h.bind(d,f);return{eventRegistry:{addListener:function(b){a(arguments,
[c.func("handler")]);e.push(b)},removeListener:function(a){a=b.indexOf(e,a);-1!==a&&e.splice(a,1)}},eventTrigger:f}}),m=d.map(l,function(a){return a.eventRegistry}),l=d.map(l,function(a){return a.eventTrigger});return{registry:m,trigger:l,destroy:function(){d.each(f,h.unbind)}}}})})(f,h,m);f("global!Object",[],function(){return Object});(function(e,f,h){e("a",["7","r","global!Object"],function(b,d,c){var a=function(e){c.preventExtensions&&c.preventExtensions(e);d.each(e,function(d,f){c.defineProperty(e,
f,{value:d,writable:!1});b.isObject(d)&&a(d)});return e};return{makeReadOnly:a}})})(f,h,m);(function(e,f,h){e("17",["8","e","f","g"],function(b,d,c,a){var e=function(a){return function(c){c=b.map(c,function(a){return a.dom()});a(c)}},f=function(a){return function(b){return a(b.dom())}};return function(b){var h=function(a,f,h){c(arguments,[d.string("category"),d.string("selector"),d.func("callback")]);b.filter().addSelector(a,f,e(h))},m=function(a,h,l){c(arguments,[d.string("category"),d.func("predicate"),
d.func("callback")]);b.filter().addPredicate(a,f(h),e(l))};return{selector:{addInput:a.curry(h,"input"),addOutput:a.curry(h,"output")},predicate:{addInput:a.curry(m,"input"),addOutput:a.curry(m,"output")}}}})})(f,h,m);(function(e,f,h){e("18",["e","f","1y"],function(b,d,c){return{addSimpleMacro:function(a,e,f,h){d(arguments,[b.object("polish"),b.string("startString"),b.string("endString"),b.func("callback")]);var l=c(e,f,h);return a.macros().customMacros().add(l)},removeMacro:function(a,b){a.macros().customMacros().remove(b)}}})})(f,
h,m);(function(e,f,h){e("c",["t","global!console"],function(b,d){var c=function(a){try{var c=h(a);return b.some(c)}catch(d){return b.none()}};return{get:c,register:function(a,b){return e(a,[],function(){return b})},hookup:function(a,b){c(b).fold(function(){d&&d.error&&d.error('textbox.io Could not find plugin "'+b+'". Have you declared it?')},function(b){a.events.loaded.addListener(function(){b.initialize(a.api)})})}}})})(f,h,m);(function(e,f,h){e("19",[],function(){return{cached:function(b){var d=
!1,c;return function(){d||(c=b(),d=!0);return c}}}})})(f,h,m);(function(e,f,h){e("p","8 15 a 16 17 18 c g 19".split(" "),function(b,d,c,a,e,f,h,l,m){return function(q,s,r){var t=l.curry,w=d({loaded:q.events.loaded,focus:q.events.focus});q.events.recreated.bind(w.trigger.loaded);var u=c.makeReadOnly({content:{documentElement:t(a.documentElement,q),insertHtmlAtCursor:t(a.insertHtmlAtCursor,q),uploadImages:t(a.uploadImages,q),get:t(a.get,q),set:t(a.set,q)},filters:e(q),macros:{addSimpleMacro:t(f.addSimpleMacro,
q),removeMacro:t(f.removeMacro,q)},events:w.registry,element:function(){return q.element().dom()},focus:q.focus,restore:m.cached(function(){var b=a.get(q);w.destroy();q.destroy();return r.restore(b)})});b.each(s,function(a){h.hookup(u,a)});return u}})})(f,h,m);(function(e,f,h){e("9","8mnopq".split(""),function(b,d,c,a,e,f){return function(){var h=d(),l=c(),m=function(a){return a.api},q=function(b,c){return a.one(b,c).map(function(a){var d=e(a.polish,c&&c.plugins?c.plugins:[],{restore:function(b){l.remove(m);
h.remove(m);return a.restore(b).dom()}}),m={is:function(a){return f.eq(b,a)},api:d};l.add(m);h.add(m);return d})};return{getOrCreate:function(a,b){return l.get(a).map(m).orThunk(function(){return q(a,b)})},get:function(a){a=l.findAll(a);return b.map(a,m)},getActiveEditor:h.get}}})})(f,h,m);(function(e,f,h){e("b",["7","8","e","3"],function(b,d,c,a){var e=function(a,c){var f={};if(void 0===a)return f;d.each(c,function(c){var d=c.name(),h=a[d];void 0!==h&&(c.validate(h),f[d]=b.isArray(c.contents)?e(h,
c.contents):h)});return f},f=function(b,d){return a.merge(c.object(b),{contents:d})},h=function(a){return d.map(void 0===a?[]:a,function(a){return e(a,[c.string("prefix"),c.string("suffix"),f("style",[c.string("color"),c.string("background-color")])])})},l=function(a){void 0!==a.styles&&(a.styles=d.filter(a.styles,function(a){a=a.rule;return!(void 0===a||"."===a||0<=a.indexOf("..")||0<=a.indexOf("#"))}))},m=function(a,b){return"retain"===a?"merge":void 0!==a?a:b},q=function(b){var d=e(b,[c.arrayOfStrings("plugins")]),
q=e(b.content,[c.arrayOfObjects("highlighters")]),s=e(b.paste,[c.string("style")]),x=e(b.css,[c.arrayOfStrings("stylesheets")]),z=e(b.css,[c.arrayOfObjects("styles")]);l(z);var A;A=b.ui;A=e((void 0===A?{}:A).toolbar,[c.arrayOfToolbarGroups("items")]);b=b.services;b=e(void 0===b?[]:b,[f("spelling",[c.string("url")]),f("imageupload",[c.string("url")])]);void 0!==b.spelling&&(b.spelling.bundled=!0);void 0!==b.imageupload&&(b.imageupload.bundled=!0);return a.deepMerge(d,b,{highlighter:{external:h(q.highlighters)},
smartpaste:{officeStyles:m(s.style,"prompt"),htmlStyles:m(s.style,"clean")},content:x,blocktag:z,platform:{toolbar:A}})},s=function(a){var b=e(a.ui,[c.object("resize")]);a=e(a.integration,[c.string("type"),c.string("version")]);return{ui:b,integration:a}};return function(b){b=void 0!==b?b:{};return a.deepMerge(q(b),s(b))}})})(f,h,m);(function(e,f,h){e("d",["e","g"],function(b,d){var c=function(a){return{name:a.name,required:d.constant(!1),validate:a.validate}};return{bool:d.compose(c,b.bool),func:d.compose(c,
b.func),number:d.compose(c,b.number),object:d.compose(c,b.object),string:d.compose(c,b.string)}})})(f,h,m);(function(e,f,h){e("2","7 8 9 a b c d e f 3 g h i j global!Error global!document global!navigator".split(" "),function(b,d,c,a,e,f,h,l,m,q,s,r,t,w,u,x,z){return function(x){var y=c();return a.makeReadOnly({replace:function(a,c){m(arguments,[l.stringOrDom("element"),h.object("options")]);var d=q.deepMerge(e(c),x),f=b.isString(a)?t.one(a).getOrThunk(s.die("Selector did not match any elements: "+
a)):w.fromDom(a);return y.getOrCreate(f,d).getOrThunk(s.die("Selector did not match a div or textarea: "+a))},replaceAll:function(a,c){m(arguments,[l.stringOrArray("elements"),h.object("options")]);var f=q.deepMerge(e(c),x);b.isString(a)||m(a,[l.domElement("element")]);var k=b.isString(a)?t.all(a):d.map(a,w.fromDom),k=d.map(k,function(a){return y.getOrCreate(a,f)});return r.cat(k)},get:function(a){m(arguments,[l.string("selector")]);return y.get(a)},getActiveEditor:y.getActiveEditor,definePlugin:function(a,
c){m(arguments,[l.string("namespace"),l.object("code")]);f.get(a).each(function(){throw new u("namespace "+a+" is already defined");});if(void 0===c.initialize||!b.isFunction(c.initialize))throw new u("plugin does not have an initialize function");return f.register(a,c)},version:function(){return{major:"1",minor:"0",full:"1.0.0.1443"}}})}})})(f,h,m);f("global!alert",[],function(){return alert});(function(e,f,h){e("5",["k","global!alert","global!console","global!document"],function(b,d,c,a){var e=
b.detect().browser,f="CSS1Compat"===a.compatMode||"html"===a.doctype;return{supported:function(){if(e.isIE()&&10>e.version.major)return d("ERROR: Textbox.io requires Internet Explorer 10 or above"),!1;if(!f&&e.isIE())return d("ERROR: Document is not in standards mode. Textbox.io requires standards mode on Internet Explorer."),!1;f||void 0===c||void 0===c.warn||c.warn("WARNING: Document is not in standards mode. Textbox.io may experience user interface issues.");return!0}}})})(f,h,m);(function(e,f,
h){e("6",["8"],function(b){return{getPath:function(d){var c=document.getElementsByTagName("script");return(c=b.find(c,function(a){return a.src.indexOf(d)===a.src.length-d.length}))?c.src.substring(0,c.src.indexOf(d)):void 0}}})})(f,h,m);(function(e,f,h){e("0","123456".split(""),function(b,d,c,a,e,f){var h=function(){var a=f.getPath("textboxio.js");return void 0===a?void 0:a+"resources"};return function(){var f=b.install;b.install=function(k,m){b.install=f;e.supported()&&(a.inject(),b.textboxio=d(c.deepMerge(void 0===
m?{}:m,{resources:null===k?h():k})))}}})})(f,h,m);ea("0")();this.ephox&&(this.ephox.bolt=wa)})();
install(null, {onprem:true});

})();
